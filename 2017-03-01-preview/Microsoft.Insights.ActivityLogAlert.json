{
  "id": "http://schema.management.azure.com/schemas/2017-03-01-preview/Microsoft.Insights.ActivityLogAlert.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.Insights Activity Log Alerts",
  "description": "Microsoft Insights Types",
  "resourceDefinitions": {
    "activitylogalerts": {
      "type": "object",
      "properties": {
        "type": {
          "enum": [
            "Microsoft.Insights/activitylogalerts"
          ]
        },
        "apiVersion": {
          "enum": [
            "2017-03-01-preview"
          ]
        },
        "properties": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1,
              "description": "Microsoft.Insights/activitylogalerts: The name of the activity log alert."
            },
            "enabled": {
              "oneOf": [
                {
                  "type": "boolean"
                },
                {
                  "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                }
              ],
              "description": "Microsoft.Insights/activitylogalerts: Specifies whether or not the activity log alert is enabled."
            },
            "description": {
              "type": "string",
              "minLength": 1,
              "description": "Microsoft.Insights/activitylogalerts: Detailed description of the activity log alert."
            },
            "condition": {
              "oneOf": [
                {
                  "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "field": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {

                            "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                          }
                        ],
                        "description": "The name of the field (key) in the activity log event(s)."
                      },
                      "equals": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {

                            "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                          }
                        ],
                        "description": "The value the alert is looking for in the respective field"
                      }
                    },
                    "minItems": "1"
                  }
                }
              ],
              "description": "microsoft.insights/activityLogAlerts: A list of one or more key/value pairs defining the criteria for which the alert will be activated."
            },
            "actions": {
              "oneOf": [
                {
                  "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                },
                {
                  "type": "object",
                  "actionGroups": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "actionGroupId": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {

                            "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                          }
                        ],
                        "description": "The name of the field in the activity log event(s). In other words, the key."
                      },
                      "webhookProperties": {
                        "oneOf": [
                          {
                            "type": "string"
                          },
                          {

                            "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
                          }
                        ],
                        "description": "The value the alert is looking for in the respective field"
                      }
                    },
                    "minItems": "1"
                  }
                }
              ],
              "description": "microsoft.insights/activityLogAlerts: A list of one or more actions that will be executed when the alert is activated."
            }
          },
          "required": [
            "name",
            "condition",
            "actions"
          ]
        },
        "required": [
          "type",
          "properties"
        ]
      },
      "required": [
        "type",
        "apiVersion",
        "properties"
      ],
      "description": "Microsoft.Insights/activitylogalerts"
    }
  }
}

