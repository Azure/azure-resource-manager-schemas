{
  "tests": [
    {
      "name": "Activity Log Alert - Administrative",
      "definition": "http://schema.management.azure.com/schemas/2017-03-01-preview/Microsoft.Insights.ActivityLogAlert.json#/resourceDefinitions/activitylogalerts",
      "json": {
        "type": "microsoft.insights/activityLogAlerts",
        "apiVersion": "2017-03-01-preview",
        "location": "Global",
        "name": "TEST Administrative Activity Log Alert",
        "properties": {
            "scopes": [
                "/subscriptions/52c65f65-0518-4d37-9719-7dbbfc68c57a"
            ],
            "description": "This is a silly description",
            "enabled": true,
            "condition": {
              "allOf": [
                {
                  "field": "category",
                  "equals": "Administrative"
                },
                {
                  "field": "resourceGroup",
                  "equals": "TEST-RG"
                },
                {
                  "field": "caller",
                  "equals": "devops@contoso.com"
                }
              ]
            },
            "actions": {
                "actionGroups": [
                {
                    "actionGroupId": "/subscriptions/52c65f65-0518-4d37-9719-7dbbfc68c57a/resourceGroups/CONTOSO-TEST/providers/microsoft.insights/actionGroups/ContosoIncidentActions"
                }
                ]
            }
        }
      }
    },
    {
      "name": "Activity Log Alert - Service Health",
      "definition": "http://schema.management.azure.com/schemas/2017-03-01-preview/Microsoft.Insights.ActivityLogAlert.json#/resourceDefinitions/activitylogalerts",
      "json": {
        "type": "microsoft.insights/activityLogAlerts",
        "apiVersion": "2017-03-01-preview",
        "location": "Global",
        "name": "TEST ServiceHealth Activity Log Alert",
        "properties": {
            "scopes": [
                "/subscriptions/52c65f65-0518-4d37-9719-7dbbfc68c57a"
            ],
            "description": "This is a silly description",
            "enabled": true,
            "condition": {
              "allOf": [
                {
                  "field": "category",
                  "equals": "ServiceHealth"
                }
              ]
            },
            "actions": {
                "actionGroups": [
                {
                    "actionGroupId": "/subscriptions/52c65f65-0518-4d37-9719-7dbbfc68c57a/resourceGroups/CONTOSO-TEST/providers/microsoft.insights/actionGroups/ContosoIncidentActions"
                }
                ]
            }
        }
      }
    }
  ]
}
