{
  "id": "http://schema.management.azure.com/schemas/2015-03-01-preview/Microsoft.HDInsight.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.HDInsight",
  "description": "Microsoft HDInsight Resource Types",
  "resourceDefinitions": {
    "clusters_applications": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.HDInsight/clusters/applications"
          ]
        },
        "apiVersion": {
          "type": "string",
          "enum": [
            "2015-03-01-preview"
          ]
        },
        "computeProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/ComputeProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of roles in the cluster."
        },
        "installScriptActions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RuntimeScriptAction"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of install script actions."
        },
        "uninstallScriptActions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RuntimeScriptAction"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of uninstall script actions."
        },
        "httpsEndpoints": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ApplicationGetHttpsEndpoint"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of application Https endpoints."
        },
        "sshEndpoints": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ApplicationGetEndpoint"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of application ssh endpoints."
        },
        "applicationType": {
          "type": "string",
          "description": "The Application type."
        },
        "errors": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/errors"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of errors."
        },
        "additionalProperties": {
          "type": "string",
          "description": "The additional properties for application."
        }
      },
      "required": [
        "name",
        "type",
        "apiVersion"
      ],
      "description": "Microsoft.HDInsight/clusters/applications"
    },
    "clusters": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.HDInsight/clusters"
          ]
        },
        "apiVersion": {
          "type": "string",
          "enum": [
            "2015-03-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The location of the cluster."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The resource tags."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterCreateProperties"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The cluster create parameters."
        }
      },
      "required": [
        "name",
        "type",
        "apiVersion",
        "properties"
      ],
      "description": "Microsoft.HDInsight/clusters"
    },
    "clusters_extensions": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.HDInsight/clusters/extensions"
          ]
        },
        "apiVersion": {
          "type": "string",
          "enum": [
            "2015-03-01-preview"
          ]
        },
        "workspaceId": {
          "type": "string",
          "description": "Workspace Id for cluster monitoring extension"
        },
        "primaryKey": {
          "type": "string",
          "description": "Certificate for monitoring extensions"
        }
      },
      "required": [
        "name",
        "type",
        "apiVersion"
      ],
      "description": "Microsoft.HDInsight/clusters/extensions"
    }
  },
  "definitions": {
    "ApplicationGetEndpoint": {
      "type": "object",
      "properties": {
        "location": {
          "type": "string",
          "description": "The location of the endpoint."
        },
        "destinationPort": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The destinationPort to connect to."
        },
        "publicPort": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The publicPort to connect to."
        }
      },
      "description": "Gets Application ssh endpoint"
    },
    "ApplicationGetHttpsEndpoint": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "accessModes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of access modes for the application."
        },
        "location": {
          "type": "string",
          "description": "The location of the endpoint."
        },
        "destinationPort": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The destinationPort to connect to."
        },
        "publicPort": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The publicPort to connect to."
        }
      },
      "description": "Gets application Http endpoints."
    },
    "ComputeProfile": {
      "type": "object",
      "properties": {
        "roles": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Role"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of roles in the cluster."
        }
      },
      "description": "Describes the compute profile."
    },
    "errors": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "The error code."
        },
        "message": {
          "type": "string",
          "description": "The error message."
        }
      },
      "description": "The error message associated with the cluster creation."
    },
    "HardwareProfile": {
      "type": "object",
      "properties": {
        "vmSize": {
          "type": "string",
          "description": "The size of the VM"
        }
      },
      "description": "Describes the hardware profile."
    },
    "LinuxOperatingSystemProfile": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "description": "The username."
        },
        "password": {
          "type": "string",
          "description": "The password."
        },
        "sshProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/SshProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The SSH profile."
        }
      },
      "description": "The ssh username, password, and ssh public key."
    },
    "OsProfile": {
      "type": "object",
      "properties": {
        "windowsOperatingSystemProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/WindowsOperatingSystemProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The Windows OS profile."
        },
        "linuxOperatingSystemProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/LinuxOperatingSystemProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The Linux OS profile."
        }
      },
      "description": "The Windows operation systems profile, and configure remote desktop settings."
    },
    "RdpSettings": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string",
          "description": "The username for the RDP user."
        },
        "password": {
          "type": "string",
          "description": "The password for the RDP user."
        },
        "expiryDate": {
          "type": "string",
          "description": "The RDP expiry date(YYYY-MM-DD)."
        }
      },
      "description": "The RDP settings for the windows cluster."
    },
    "Role": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the role."
        },
        "minInstanceCount": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The minimum instance count of the cluster."
        },
        "targetInstanceCount": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The instance count of the cluster."
        },
        "hardwareProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/HardwareProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The hardware profile."
        },
        "osProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/OsProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The operating system profile."
        },
        "virtualNetworkProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualNetworkProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The virtual network profile."
        },
        "scriptActions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ScriptAction"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of script actions on the role."
        }
      },
      "description": "Describes a role on the cluster."
    },
    "RuntimeScriptAction": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the script action."
        },
        "uri": {
          "type": "string",
          "description": "The URI to the script."
        },
        "parameters": {
          "type": "string",
          "description": "The parameters for the script"
        },
        "roles": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of roles where script will be executed."
        }
      },
      "required": [
        "name",
        "uri",
        "roles"
      ],
      "description": "Describes a script action on a running cluster."
    },
    "ScriptAction": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the script action."
        },
        "uri": {
          "type": "string",
          "description": "The URI to the script."
        },
        "parameters": {
          "type": "string",
          "description": "The parameters for the script provided."
        }
      },
      "required": [
        "name",
        "uri",
        "parameters"
      ],
      "description": "Describes a script action on role on the cluster."
    },
    "SshProfile": {
      "type": "object",
      "properties": {
        "publicKeys": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SshPublicKey"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of SSH public keys."
        }
      },
      "description": "The list of Ssh public keys."
    },
    "SshPublicKey": {
      "type": "object",
      "properties": {
        "certificateData": {
          "type": "string",
          "description": "The certificate for SSH."
        }
      },
      "description": "The Ssh public key for the cluster nodes."
    },
    "VirtualNetworkProfile": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The ID of the virtual network."
        },
        "subnet": {
          "type": "string",
          "description": "The name of the subnet."
        }
      },
      "description": "The Virtual network properties."
    },
    "WindowsOperatingSystemProfile": {
      "type": "object",
      "properties": {
        "rdpSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/RdpSettings"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The RDP settings."
        }
      },
      "description": "The Windows operation system settings."
    },
    "ClusterCreateProperties": {
      "type": "object",
      "properties": {
        "clusterVersion": {
          "type": "string",
          "description": "The version of the cluster."
        },
        "osType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Windows",
                "Linux"
              ]
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The type of operating system."
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Standard",
                "Premium"
              ]
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The cluster tier."
        },
        "clusterDefinition": {
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterDefinition"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The cluster definition."
        },
        "securityProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/SecurityProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The security profile."
        },
        "computeProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/ComputeProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The compute profile."
        },
        "storageProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/StorageProfile"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The storage profile."
        }
      },
      "description": "The cluster create parameters."
    },
    "ClusterDefinition": {
      "type": "object",
      "properties": {
        "blueprint": {
          "type": "string",
          "description": "The link to the blueprint."
        },
        "kind": {
          "type": "string",
          "description": "The type of cluster."
        },
        "componentVersion": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The versions of different services in the cluster."
        },
        "configurations": {
          "description": "The cluster configurations."
        }
      },
      "description": "The cluste definition."
    },
    "SecurityProfile": {
      "type": "object",
      "properties": {
        "directoryType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ActiveDirectory"
              ]
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The directory type."
        },
        "domain": {
          "type": "string",
          "description": "domain."
        },
        "organizationalUnitDN": {
          "type": "string",
          "description": "Distinguished Name for organizational unit."
        },
        "ldapsUrls": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The LDAP URLs."
        },
        "domainUsername": {
          "type": "string",
          "description": "The domain admin user name."
        },
        "domainUserPassword": {
          "type": "string",
          "format": "password",
          "description": "The domain admin password."
        },
        "clusterUsersGroupDNs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "Optional. The Distinguished Names for cluster user groups"
        }
      },
      "description": "The security profile which contains Ssh public key for the HDInsight cluster."
    },
    "StorageAccount": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the storage account."
        },
        "isDefault": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "Describes is the storage account is the default storage account."
        },
        "container": {
          "type": "string",
          "description": "The container in the storage account."
        },
        "key": {
          "type": "string",
          "description": "The storage account access key."
        }
      },
      "description": "Describes the storage Account."
    },
    "StorageProfile": {
      "type": "object",
      "properties": {
        "storageaccounts": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageAccount"
              }
            },
            {
              "$ref": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#/definitions/expression"
            }
          ],
          "description": "The list of storage accounts in the cluster."
        }
      },
      "description": "Describes the storage profile."
    }
  }
}