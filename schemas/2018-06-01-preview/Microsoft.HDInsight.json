{
  "id": "https://schema.management.azure.com/schemas/2018-06-01-preview/Microsoft.HDInsight.json#",
  "title": "Microsoft.HDInsight",
  "description": "Microsoft HDInsight Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "clusters": {
      "description": "Microsoft.HDInsight/clusters",
      "properties": {
        "apiVersion": {
          "enum": [
            "2018-06-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the cluster, if configured.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the cluster.",
          "type": "string"
        },
        "name": {
          "description": "The name of the cluster.",
          "type": "string"
        },
        "properties": {
          "description": "The cluster create parameters.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterCreateProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/clusters_applications_childResource"
              }
            ]
          },
          "type": "array"
        },
        "tags": {
          "description": "The resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.HDInsight/clusters"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_applications": {
      "description": "Microsoft.HDInsight/clusters/applications",
      "properties": {
        "apiVersion": {
          "enum": [
            "2018-06-01-preview"
          ],
          "type": "string"
        },
        "etag": {
          "description": "The ETag for the application",
          "type": "string"
        },
        "name": {
          "description": "The constant value for the application name.",
          "type": "string"
        },
        "properties": {
          "description": "The properties of the application.",
          "oneOf": [
            {
              "$ref": "#/definitions/ApplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags for the application.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.HDInsight/clusters/applications"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "ApplicationGetEndpoint": {
      "description": "Gets the application SSH endpoint",
      "properties": {
        "destinationPort": {
          "description": "The destination port to connect to.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the endpoint.",
          "type": "string"
        },
        "privateIPAddress": {
          "description": "The private ip address of the endpoint.",
          "type": "string"
        },
        "publicPort": {
          "description": "The public port to connect to.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ApplicationGetHttpsEndpoint": {
      "description": "Gets the application HTTP endpoints.",
      "properties": {
        "accessModes": {
          "description": "The list of access modes for the application.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "destinationPort": {
          "description": "The destination port to connect to.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "disableGatewayAuth": {
          "description": "The value indicates whether to disable GatewayAuth.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "privateIPAddress": {
          "description": "The private ip address of the endpoint.",
          "type": "string"
        },
        "subDomainSuffix": {
          "description": "The subdomain suffix of the application.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ApplicationProperties": {
      "description": "The HDInsight cluster application GET response.",
      "properties": {
        "applicationType": {
          "description": "The application type.",
          "type": "string"
        },
        "computeProfile": {
          "description": "The list of roles in the cluster.",
          "oneOf": [
            {
              "$ref": "#/definitions/ComputeProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "errors": {
          "description": "The list of errors.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Errors"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "httpsEndpoints": {
          "description": "The list of application HTTPS endpoints.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/ApplicationGetHttpsEndpoint"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "installScriptActions": {
          "description": "The list of install script actions.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/RuntimeScriptAction"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sshEndpoints": {
          "description": "The list of application SSH endpoints.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/ApplicationGetEndpoint"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "uninstallScriptActions": {
          "description": "The list of uninstall script actions.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/RuntimeScriptAction"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Autoscale": {
      "description": "The autoscale request parameters",
      "properties": {
        "capacity": {
          "description": "Parameters for load-based autoscale",
          "oneOf": [
            {
              "$ref": "#/definitions/AutoscaleCapacity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "recurrence": {
          "description": "Parameters for schedule-based autoscale",
          "oneOf": [
            {
              "$ref": "#/definitions/AutoscaleRecurrence"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "AutoscaleCapacity": {
      "description": "The load-based autoscale request parameters",
      "properties": {
        "maxInstanceCount": {
          "description": "The maximum instance count of the cluster",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "minInstanceCount": {
          "description": "The minimum instance count of the cluster",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "AutoscaleRecurrence": {
      "description": "Schedule-based autoscale request parameters",
      "properties": {
        "schedule": {
          "description": "Array of schedule-based autoscale rules",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/AutoscaleSchedule"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeZone": {
          "description": "The time zone for the autoscale schedule times",
          "type": "string"
        }
      },
      "type": "object"
    },
    "AutoscaleSchedule": {
      "description": "Parameters for a schedule-based autoscale rule, consisting of an array of days + a time and capacity",
      "properties": {
        "days": {
          "description": "Days of the week for a schedule-based autoscale rule",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday",
                  "Saturday",
                  "Sunday"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeAndCapacity": {
          "description": "Time and capacity for a schedule-based autoscale rule",
          "oneOf": [
            {
              "$ref": "#/definitions/AutoscaleTimeAndCapacity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "AutoscaleTimeAndCapacity": {
      "description": "Time and capacity request parameters",
      "properties": {
        "maxInstanceCount": {
          "description": "The maximum instance count of the cluster",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "minInstanceCount": {
          "description": "The minimum instance count of the cluster",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "time": {
          "description": "24-hour time in the form xx:xx",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ClientGroupInfo": {
      "description": "The information of AAD security group.",
      "properties": {
        "groupId": {
          "description": "The AAD security group id.",
          "type": "string"
        },
        "groupName": {
          "description": "The AAD security group name.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ClusterCreateProperties": {
      "description": "The cluster create parameters.",
      "properties": {
        "clusterDefinition": {
          "description": "The cluster definition.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterDefinition"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "clusterVersion": {
          "description": "The version of the cluster.",
          "type": "string"
        },
        "computeIsolationProperties": {
          "description": "The compute isolation properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ComputeIsolationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "computeProfile": {
          "description": "The compute profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/ComputeProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "diskEncryptionProperties": {
          "description": "The disk encryption properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/DiskEncryptionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "encryptionInTransitProperties": {
          "description": "The encryption-in-transit properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/EncryptionInTransitProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "kafkaRestProperties": {
          "description": "The cluster kafka rest proxy configuration.",
          "oneOf": [
            {
              "$ref": "#/definitions/KafkaRestProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "minSupportedTlsVersion": {
          "description": "The minimal supported tls version.",
          "type": "string"
        },
        "networkProperties": {
          "description": "The network properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/NetworkProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "osType": {
          "description": "The type of operating system.",
          "oneOf": [
            {
              "enum": [
                "Windows",
                "Linux"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "securityProfile": {
          "description": "The security profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/SecurityProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "storageProfile": {
          "description": "The storage profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/StorageProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tier": {
          "description": "The cluster tier.",
          "oneOf": [
            {
              "enum": [
                "Standard",
                "Premium"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ClusterDefinition": {
      "description": "The cluster definition.",
      "properties": {
        "blueprint": {
          "description": "The link to the blueprint.",
          "type": "string"
        },
        "componentVersion": {
          "description": "The versions of different services in the cluster.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "configurations": {
          "description": "The cluster configurations.",
          "oneOf": [
            {
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "kind": {
          "description": "The type of cluster.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ClusterIdentity": {
      "description": "Identity for the cluster.",
      "properties": {
        "type": {
          "description": "The type of identity used for the cluster. The type 'SystemAssigned, UserAssigned' includes both an implicitly created identity and a set of user assigned identities.",
          "oneOf": [
            {
              "enum": [
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned, UserAssigned",
                "None"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedIdentities": {
          "description": "The list of user identities associated with the cluster. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'.",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/ComponentsC51Ht8SchemasClusteridentityPropertiesUserassignedidentitiesAdditionalproperties"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ComponentsC51Ht8SchemasClusteridentityPropertiesUserassignedidentitiesAdditionalproperties": {
      "properties": {
        "tenantId": {
          "description": "The tenant id of user assigned identity.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ComputeIsolationProperties": {
      "description": "The compute isolation properties.",
      "properties": {
        "enableComputeIsolation": {
          "description": "The flag indicates whether enable compute isolation or not.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "hostSku": {
          "description": "The host sku.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ComputeProfile": {
      "description": "Describes the compute profile.",
      "properties": {
        "roles": {
          "description": "The list of roles in the cluster.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Role"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DataDisksGroups": {
      "description": "The data disks groups for the role.",
      "properties": {
        "disksPerNode": {
          "description": "The number of disks per node.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DiskEncryptionProperties": {
      "description": "The disk encryption properties",
      "properties": {
        "encryptionAlgorithm": {
          "description": "Algorithm identifier for encryption, default RSA-OAEP.",
          "oneOf": [
            {
              "enum": [
                "RSA-OAEP",
                "RSA-OAEP-256",
                "RSA1_5"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "encryptionAtHost": {
          "description": "Indicates whether or not resource disk encryption is enabled.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "keyName": {
          "description": "Key name that is used for enabling disk encryption.",
          "type": "string"
        },
        "keyVersion": {
          "description": "Specific key version that is used for enabling disk encryption.",
          "type": "string"
        },
        "msiResourceId": {
          "description": "Resource ID of Managed Identity that is used to access the key vault.",
          "type": "string"
        },
        "vaultUri": {
          "description": "Base key vault URI where the customers key is located eg. https://myvault.vault.azure.net",
          "type": "string"
        }
      },
      "type": "object"
    },
    "EncryptionInTransitProperties": {
      "description": "The encryption-in-transit properties.",
      "properties": {
        "isEncryptionInTransitEnabled": {
          "description": "Indicates whether or not inter cluster node communication is encrypted in transit.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Errors": {
      "description": "The error message associated with the cluster creation.",
      "properties": {
        "code": {
          "description": "The error code.",
          "type": "string"
        },
        "message": {
          "description": "The error message.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "HardwareProfile": {
      "description": "The hardware profile.",
      "properties": {
        "vmSize": {
          "description": "The size of the VM",
          "type": "string"
        }
      },
      "type": "object"
    },
    "KafkaRestProperties": {
      "description": "The kafka rest proxy configuration which contains AAD security group information.",
      "properties": {
        "clientGroupInfo": {
          "description": "The information of AAD security group.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClientGroupInfo"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "configurationOverride": {
          "description": "The configurations that need to be overriden.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "LinuxOperatingSystemProfile": {
      "description": "The ssh username, password, and ssh public key.",
      "properties": {
        "password": {
          "description": "The password.",
          "type": "string"
        },
        "sshProfile": {
          "description": "The SSH profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/SshProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "username": {
          "description": "The username.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "NetworkProperties": {
      "description": "The network properties.",
      "properties": {
        "privateLink": {
          "description": "Indicates whether or not private link is enabled.",
          "oneOf": [
            {
              "enum": [
                "Disabled",
                "Enabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resourceProviderConnection": {
          "description": "The direction for the resource provider connection.",
          "oneOf": [
            {
              "enum": [
                "Inbound",
                "Outbound"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "OsProfile": {
      "description": "The Linux operation systems profile.",
      "properties": {
        "linuxOperatingSystemProfile": {
          "description": "The Linux OS profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/LinuxOperatingSystemProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Role": {
      "description": "Describes a role on the cluster.",
      "properties": {
        "VMGroupName": {
          "description": "The name of the virtual machine group.",
          "type": "string"
        },
        "autoscale": {
          "description": "The autoscale configurations.",
          "oneOf": [
            {
              "$ref": "#/definitions/Autoscale"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "dataDisksGroups": {
          "description": "The data disks groups for the role.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/DataDisksGroups"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "encryptDataDisks": {
          "description": "Indicates whether encrypt the data disks.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "hardwareProfile": {
          "description": "The hardware profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/HardwareProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "minInstanceCount": {
          "description": "The minimum instance count of the cluster.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of the role.",
          "type": "string"
        },
        "osProfile": {
          "description": "The operating system profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/OsProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scriptActions": {
          "description": "The list of script actions on the role.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/ScriptAction"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "targetInstanceCount": {
          "description": "The instance count of the cluster.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "virtualNetworkProfile": {
          "description": "The virtual network profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualNetworkProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "RuntimeScriptAction": {
      "description": "Describes a script action on a running cluster.",
      "properties": {
        "name": {
          "description": "The name of the script action.",
          "type": "string"
        },
        "parameters": {
          "description": "The parameters for the script",
          "type": "string"
        },
        "roles": {
          "description": "The list of roles where script will be executed.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "uri": {
          "description": "The URI to the script.",
          "type": "string"
        }
      },
      "required": [
        "name",
        "uri",
        "roles"
      ],
      "type": "object"
    },
    "ScriptAction": {
      "description": "Describes a script action on role on the cluster.",
      "properties": {
        "name": {
          "description": "The name of the script action.",
          "type": "string"
        },
        "parameters": {
          "description": "The parameters for the script provided.",
          "type": "string"
        },
        "uri": {
          "description": "The URI to the script.",
          "type": "string"
        }
      },
      "required": [
        "name",
        "uri",
        "parameters"
      ],
      "type": "object"
    },
    "SecurityProfile": {
      "description": "The security profile which contains Ssh public key for the HDInsight cluster.",
      "properties": {
        "aaddsResourceId": {
          "description": "The resource ID of the user's Azure Active Directory Domain Service.",
          "type": "string"
        },
        "clusterUsersGroupDNs": {
          "description": "Optional. The Distinguished Names for cluster user groups",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "directoryType": {
          "description": "The directory type.",
          "oneOf": [
            {
              "enum": [
                "ActiveDirectory"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "domain": {
          "description": "The organization's active directory domain.",
          "type": "string"
        },
        "domainUserPassword": {
          "description": "The domain admin password.",
          "type": "string"
        },
        "domainUsername": {
          "description": "The domain user account that will have admin privileges on the cluster.",
          "type": "string"
        },
        "ldapsUrls": {
          "description": "The LDAPS protocol URLs to communicate with the Active Directory.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "msiResourceId": {
          "description": "User assigned identity that has permissions to read and create cluster-related artifacts in the user's AADDS.",
          "type": "string"
        },
        "organizationalUnitDN": {
          "description": "The organizational unit within the Active Directory to place the cluster and service accounts.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SshProfile": {
      "description": "The list of SSH public keys.",
      "properties": {
        "publicKeys": {
          "description": "The list of SSH public keys.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SshPublicKey"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SshPublicKey": {
      "description": "The SSH public key for the cluster nodes.",
      "properties": {
        "certificateData": {
          "description": "The certificate for SSH.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "StorageAccount": {
      "description": "The storage Account.",
      "properties": {
        "container": {
          "description": "The container in the storage account, only to be specified for WASB storage accounts.",
          "type": "string"
        },
        "fileSystem": {
          "description": "The filesystem, only to be specified for Azure Data Lake Storage Gen 2.",
          "type": "string"
        },
        "fileshare": {
          "description": "The file share name.",
          "type": "string"
        },
        "isDefault": {
          "description": "Whether or not the storage account is the default storage account.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "key": {
          "description": "The storage account access key.",
          "type": "string"
        },
        "msiResourceId": {
          "description": "The managed identity (MSI) that is allowed to access the storage account, only to be specified for Azure Data Lake Storage Gen 2.",
          "type": "string"
        },
        "name": {
          "description": "The name of the storage account.",
          "type": "string"
        },
        "resourceId": {
          "description": "The resource ID of storage account, only to be specified for Azure Data Lake Storage Gen 2.",
          "type": "string"
        },
        "saskey": {
          "description": "The shared access signature key.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "StorageProfile": {
      "description": "The storage profile.",
      "properties": {
        "storageaccounts": {
          "description": "The list of storage accounts in the cluster.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/StorageAccount"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "VirtualNetworkProfile": {
      "description": "The virtual network properties.",
      "properties": {
        "id": {
          "description": "The ID of the virtual network.",
          "type": "string"
        },
        "subnet": {
          "description": "The name of the subnet.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "clusters_applications_childResource": {
      "description": "Microsoft.HDInsight/clusters/applications",
      "properties": {
        "apiVersion": {
          "enum": [
            "2018-06-01-preview"
          ],
          "type": "string"
        },
        "etag": {
          "description": "The ETag for the application",
          "type": "string"
        },
        "name": {
          "description": "The constant value for the application name.",
          "type": "string"
        },
        "properties": {
          "description": "The properties of the application.",
          "oneOf": [
            {
              "$ref": "#/definitions/ApplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags for the application.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "applications"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  }
}