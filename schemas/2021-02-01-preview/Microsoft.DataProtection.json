{
  "id": "https://schema.management.azure.com/schemas/2021-02-01-preview/Microsoft.DataProtection.json#",
  "title": "Microsoft.DataProtection",
  "description": "Microsoft DataProtection Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "backupVaults_backupInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupInstances"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupInstance"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupInstanceResource properties"
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/backupVaults_backupInstances_recoveryPoints_childResource"
              }
            ]
          }
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances"
    },
    "backupVaults_backupPolicies": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupPolicies"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BaseBackupPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BaseBackupPolicyResource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupPolicies"
    },
    "backupVaults": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults"
          ]
        },
        "eTag": {
          "type": "string",
          "description": "Optional ETag."
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/DppIdentityDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Input Managed Identity Details"
        },
        "location": {
          "type": "string",
          "description": "Resource location."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupVault"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupVaultResource properties"
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/DppTrackedResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/backupVaults_backupInstances_childResource"
              },
              {
                "$ref": "#/definitions/backupVaults_backupJobs_childResource"
              },
              {
                "$ref": "#/definitions/backupVaults_backupPolicies_childResource"
              },
              {
                "$ref": "#/definitions/backupVaults_operationResults_childResource"
              }
            ]
          }
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.DataProtection/backupVaults"
    }
  },
  "unknown_resourceDefinitions": {
    "backupVaults_backupInstances_recoveryPoints": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupInstances/recoveryPoints"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances/recoveryPoints"
    },
    "backupVaults_backupJobs": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupJobs"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupJobs"
    },
    "backupVaults_operationResults": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/operationResults"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/operationResults"
    }
  },
  "definitions": {
    "AbsoluteDeleteOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AbsoluteDeleteOption"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        }
      },
      "required": [
        "objectType"
      ]
    },
    "AdhocBasedTaggingCriteria": {
      "type": "object",
      "properties": {
        "tagInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionTag"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention tag information"
        }
      }
    },
    "AdhocBasedTriggerContext": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AdhocBasedTriggerContext"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        },
        "taggingCriteria": {
          "oneOf": [
            {
              "$ref": "#/definitions/AdhocBasedTaggingCriteria"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Tagging Criteria containing retention tag for adhoc backup."
        }
      },
      "required": [
        "objectType",
        "taggingCriteria"
      ]
    },
    "AzureBackupParams": {
      "type": "object",
      "properties": {
        "backupType": {
          "type": "string",
          "description": "BackupType ; Full/Incremental etc"
        },
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureBackupParams"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        }
      },
      "required": [
        "backupType",
        "objectType"
      ]
    },
    "AzureBackupRule": {
      "type": "object",
      "properties": {
        "backupParameters": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupParameters base"
        },
        "dataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DataStoreInfo base"
        },
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureBackupRule"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "trigger": {
          "oneOf": [
            {
              "$ref": "#/definitions/TriggerContext"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Trigger context"
        }
      },
      "required": [
        "dataStore",
        "objectType",
        "trigger"
      ]
    },
    "AzureOperationalStoreParameters": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureOperationalStoreParameters"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        },
        "resourceGroupId": {
          "type": "string",
          "description": "Gets or sets the Snapshot Resource Group Uri."
        }
      },
      "required": [
        "objectType"
      ]
    },
    "AzureRetentionRule": {
      "type": "object",
      "properties": {
        "isDefault": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "lifecycles": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SourceLifeCycle"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureRetentionRule"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "lifecycles",
        "objectType"
      ]
    },
    "BackupCriteria": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "objectType": {
              "type": "string",
              "enum": [
                "ScheduleBasedBackupCriteria"
              ]
            }
          },
          "required": [
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/ScheduleBasedBackupCriteria"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "ScheduleBasedBackupCriteria"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "BackupInstance": {
      "type": "object",
      "properties": {
        "dataSourceInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/Datasource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the data source information."
        },
        "dataSourceSetInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/DatasourceSet"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the data source set information."
        },
        "friendlyName": {
          "type": "string",
          "description": "Gets or sets the Backup Instance friendly name."
        },
        "objectType": {
          "type": "string"
        },
        "policyInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/PolicyInfo"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the policy information."
        }
      },
      "required": [
        "dataSourceInfo",
        "objectType",
        "policyInfo"
      ]
    },
    "BackupParameters": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "objectType": {
              "type": "string",
              "enum": [
                "AzureBackupParams"
              ]
            }
          },
          "required": [
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AzureBackupParams"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AzureBackupParams"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "BackupPolicy": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "BackupPolicy"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "policyRules": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BasePolicyRule"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Policy rule dictionary that contains rules for each backuptype i.e Full/Incremental/Logs etc"
        }
      },
      "required": [
        "objectType",
        "policyRules"
      ]
    },
    "BackupSchedule": {
      "type": "object",
      "properties": {
        "repeatingTimeIntervals": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "ISO 8601 repeating time interval format"
        }
      },
      "required": [
        "repeatingTimeIntervals"
      ]
    },
    "BackupVault": {
      "type": "object",
      "properties": {
        "storageSettings": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageSetting"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Storage Settings"
        }
      },
      "required": [
        "storageSettings"
      ]
    },
    "BaseBackupPolicy": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "datasourceTypes": {
              "oneOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ],
              "description": "Type of datasource for the backup management"
            },
            "objectType": {
              "type": "string",
              "enum": [
                "BackupPolicy"
              ]
            }
          },
          "required": [
            "datasourceTypes",
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/BackupPolicy"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "BackupPolicy"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "BasePolicyRule": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "objectType": {
              "type": "string",
              "enum": [
                "AzureBackupRule",
                "AzureRetentionRule"
              ]
            }
          },
          "required": [
            "name",
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AzureBackupRule"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AzureBackupRule"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            },
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AzureRetentionRule"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AzureRetentionRule"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "CopyOnExpiryOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "CopyOnExpiryOption"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        }
      },
      "required": [
        "objectType"
      ]
    },
    "CopyOption": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "objectType": {
              "type": "string",
              "enum": [
                "CopyOnExpiryOption",
                "CustomCopyOption",
                "ImmediateCopyOption"
              ]
            }
          },
          "required": [
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/CopyOnExpiryOption"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "CopyOnExpiryOption"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            },
            {
              "allOf": [
                {
                  "$ref": "#/definitions/CustomCopyOption"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "CustomCopyOption"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            },
            {
              "allOf": [
                {
                  "$ref": "#/definitions/ImmediateCopyOption"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "ImmediateCopyOption"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "CustomCopyOption": {
      "type": "object",
      "properties": {
        "duration": {
          "type": "string",
          "description": "Data copied after given timespan"
        },
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "CustomCopyOption"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        }
      },
      "required": [
        "objectType"
      ]
    },
    "Datasource": {
      "type": "object",
      "properties": {
        "datasourceType": {
          "type": "string",
          "description": "DatasourceType of the resource."
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        },
        "resourceID": {
          "type": "string",
          "description": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."
        },
        "resourceLocation": {
          "type": "string",
          "description": "Location of datasource."
        },
        "resourceName": {
          "type": "string",
          "description": "Unique identifier of the resource in the context of parent."
        },
        "resourceType": {
          "type": "string",
          "description": "Resource Type of Datasource."
        },
        "resourceUri": {
          "type": "string",
          "description": "Uri of the resource."
        }
      },
      "required": [
        "resourceID"
      ]
    },
    "DatasourceSet": {
      "type": "object",
      "properties": {
        "datasourceType": {
          "type": "string",
          "description": "DatasourceType of the resource."
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        },
        "resourceID": {
          "type": "string",
          "description": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."
        },
        "resourceLocation": {
          "type": "string",
          "description": "Location of datasource."
        },
        "resourceName": {
          "type": "string",
          "description": "Unique identifier of the resource in the context of parent."
        },
        "resourceType": {
          "type": "string",
          "description": "Resource Type of Datasource."
        },
        "resourceUri": {
          "type": "string",
          "description": "Uri of the resource."
        }
      },
      "required": [
        "resourceID"
      ]
    },
    "DataStoreInfoBase": {
      "type": "object",
      "properties": {
        "dataStoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "OperationalStore",
                "VaultStore",
                "ArchiveStore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "type of datastore; Operational/Vault/Archive"
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        }
      },
      "required": [
        "dataStoreType",
        "objectType"
      ]
    },
    "DataStoreParameters": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "dataStoreType": {
              "oneOf": [
                {
                  "type": "string",
                  "enum": [
                    "OperationalStore",
                    "VaultStore",
                    "ArchiveStore"
                  ]
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ],
              "description": "type of datastore; Operational/Vault/Archive"
            },
            "objectType": {
              "type": "string",
              "enum": [
                "AzureOperationalStoreParameters"
              ]
            }
          },
          "required": [
            "dataStoreType",
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AzureOperationalStoreParameters"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AzureOperationalStoreParameters"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Day": {
      "type": "object",
      "properties": {
        "date": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Date of the month"
        },
        "isLast": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether Date is last date of month"
        }
      }
    },
    "DeleteOption": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "duration": {
              "type": "string",
              "description": "Duration of deletion after given timespan"
            },
            "objectType": {
              "type": "string",
              "enum": [
                "AbsoluteDeleteOption"
              ]
            }
          },
          "required": [
            "duration",
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AbsoluteDeleteOption"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AbsoluteDeleteOption"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "DppIdentityDetails": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "The identityType which can be either SystemAssigned or None"
        }
      }
    },
    "DppTrackedResourceTags": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "ImmediateCopyOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ImmediateCopyOption"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        }
      },
      "required": [
        "objectType"
      ]
    },
    "PolicyInfo": {
      "type": "object",
      "properties": {
        "policyId": {
          "type": "string"
        },
        "policyParameters": {
          "oneOf": [
            {
              "$ref": "#/definitions/PolicyParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Policy parameters for the backup instance"
        }
      },
      "required": [
        "policyId"
      ]
    },
    "PolicyParameters": {
      "type": "object",
      "properties": {
        "dataStoreParametersList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/DataStoreParameters"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the DataStore Parameters"
        }
      }
    },
    "RetentionTag": {
      "type": "object",
      "properties": {
        "tagName": {
          "type": "string",
          "description": "Retention Tag Name to relate it to retention rule."
        }
      },
      "required": [
        "tagName"
      ]
    },
    "ScheduleBasedBackupCriteria": {
      "type": "object",
      "properties": {
        "absoluteCriteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "AllBackup",
                  "FirstOfDay",
                  "FirstOfMonth",
                  "FirstOfWeek",
                  "FirstOfYear"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "it contains absolute values like \"AllBackup\" / \"FirstOfDay\" / \"FirstOfWeek\" / \"FirstOfMonth\"\r\nand should be part of AbsoluteMarker enum"
        },
        "daysOfMonth": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Day"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This is day of the month from 1 to 28 other wise last of month"
        },
        "daysOfTheWeek": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Friday",
                  "Monday",
                  "Saturday",
                  "Sunday",
                  "Thursday",
                  "Tuesday",
                  "Wednesday"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be Sunday/Monday/T..../Saturday"
        },
        "monthsOfYear": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "April",
                  "August",
                  "December",
                  "February",
                  "January",
                  "July",
                  "June",
                  "March",
                  "May",
                  "November",
                  "October",
                  "September"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be January/February/....../December"
        },
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ScheduleBasedBackupCriteria"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        },
        "scheduleTimes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of schedule times for backup"
        },
        "weeksOfTheMonth": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "First",
                  "Fourth",
                  "Last",
                  "Second",
                  "Third"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be First/Second/Third/Fourth/Last"
        }
      },
      "required": [
        "objectType"
      ]
    },
    "ScheduleBasedTriggerContext": {
      "type": "object",
      "properties": {
        "objectType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ScheduleBasedTriggerContext"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of the specific object - used for deserializing"
        },
        "schedule": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupSchedule"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Schedule for this backup"
        },
        "taggingCriteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TaggingCriteria"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of tags that can be applicable for given schedule."
        }
      },
      "required": [
        "objectType",
        "schedule",
        "taggingCriteria"
      ]
    },
    "SourceLifeCycle": {
      "type": "object",
      "properties": {
        "deleteAfter": {
          "oneOf": [
            {
              "$ref": "#/definitions/DeleteOption"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Delete Option"
        },
        "sourceDataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DataStoreInfo base"
        },
        "targetDataStoreCopySettings": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TargetCopySetting"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "deleteAfter",
        "sourceDataStore"
      ]
    },
    "StorageSetting": {
      "type": "object",
      "properties": {
        "datastoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ArchiveStore",
                "SnapshotStore",
                "VaultStore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the type of the datastore."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "GeoRedundant",
                "LocallyRedundant"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the type."
        }
      }
    },
    "TaggingCriteria": {
      "type": "object",
      "properties": {
        "criteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BackupCriteria"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Criteria which decides whether the tag can be applied to a triggered backup."
        },
        "isDefault": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies if tag is default."
        },
        "taggingPriority": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention Tag priority."
        },
        "tagInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionTag"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention tag information"
        }
      },
      "required": [
        "isDefault",
        "taggingPriority",
        "tagInfo"
      ]
    },
    "TargetCopySetting": {
      "type": "object",
      "properties": {
        "copyAfter": {
          "oneOf": [
            {
              "$ref": "#/definitions/CopyOption"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It can be CustomCopyOption or ImmediateCopyOption."
        },
        "dataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Info of target datastore"
        }
      },
      "required": [
        "copyAfter",
        "dataStore"
      ]
    },
    "TriggerContext": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "objectType": {
              "type": "string",
              "enum": [
                "AdhocBasedTriggerContext",
                "ScheduleBasedTriggerContext"
              ]
            }
          },
          "required": [
            "objectType"
          ],
          "additionalProperties": false
        },
        {
          "oneOf": [
            {
              "allOf": [
                {
                  "$ref": "#/definitions/AdhocBasedTriggerContext"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "AdhocBasedTriggerContext"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            },
            {
              "allOf": [
                {
                  "$ref": "#/definitions/ScheduleBasedTriggerContext"
                },
                {
                  "type": "object",
                  "properties": {
                    "objectType": {
                      "const": "ScheduleBasedTriggerContext"
                    }
                  },
                  "required": [
                    "objectType"
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "backupVaults_backupInstances_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "backupInstances"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupInstance"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupInstanceResource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances"
    },
    "backupVaults_backupInstances_recoveryPoints_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "recoveryPoints"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances/recoveryPoints"
    },
    "backupVaults_backupJobs_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "backupJobs"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupJobs"
    },
    "backupVaults_backupPolicies_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "backupPolicies"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BaseBackupPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BaseBackupPolicyResource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupPolicies"
    },
    "backupVaults_operationResults_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-02-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "operationResults"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/operationResults"
    }
  }
}