{
  "id": "https://schema.management.azure.com/schemas/2021-11-15-preview/Microsoft.LabServices.json#",
  "title": "Microsoft.LabServices",
  "description": "Microsoft LabServices Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "labPlans_images": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labPlans/images"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImageProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Image resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labPlans/images"
    },
    "labPlans": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labPlans"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/LabPlanProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Lab plan resource properties"
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/TrackedResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/labPlans_images_childResource"
              }
            ]
          }
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "location",
        "properties"
      ],
      "description": "Microsoft.LabServices/labPlans"
    },
    "labs_schedules": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labs/schedules"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ScheduleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Schedule resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labs/schedules"
    },
    "labs_users": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labs/users"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/UserProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "User resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labs/users"
    },
    "labs": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labs"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/LabProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Lab resource properties"
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/TrackedResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/labs_schedules_childResource"
              },
              {
                "$ref": "#/definitions/labs_users_childResource"
              },
              {
                "$ref": "#/definitions/labs_virtualMachines_childResource"
              }
            ]
          }
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "location",
        "properties"
      ],
      "description": "Microsoft.LabServices/labs"
    }
  },
  "unknown_resourceDefinitions": {
    "labs_virtualMachines": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.LabServices/labs/virtualMachines"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.LabServices/labs/virtualMachines"
    }
  },
  "definitions": {
    "AutoShutdownProfile": {
      "type": "object",
      "properties": {
        "disconnectDelay": {
          "type": "string",
          "description": "The amount of time a VM will stay running after a user disconnects if this behavior is enabled."
        },
        "idleDelay": {
          "type": "string",
          "description": "The amount of time a VM will idle before it is shutdown if this behavior is enabled."
        },
        "noConnectDelay": {
          "type": "string",
          "description": "The amount of time a VM will stay running before it is shutdown if no connection is made and this behavior is enabled."
        },
        "shutdownOnDisconnect": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether shutdown on disconnect is enabled"
        },
        "shutdownOnIdle": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "None",
                "UserAbsence",
                "LowUsage"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether a VM will get shutdown when it has idled for a period of time."
        },
        "shutdownWhenNotConnected": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether a VM will get shutdown when it hasn't been connected to after a period of time."
        }
      }
    },
    "ConnectionProfile": {
      "type": "object",
      "properties": {
        "clientRdpAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Public",
                "Private",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The enabled access level for Client Access over RDP."
        },
        "clientSshAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Public",
                "Private",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The enabled access level for Client Access over SSH."
        },
        "webRdpAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Public",
                "Private",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The enabled access level for Web Access over RDP."
        },
        "webSshAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Public",
                "Private",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The enabled access level for Web Access over SSH."
        }
      }
    },
    "Credentials": {
      "type": "object",
      "properties": {
        "password": {
          "type": "string",
          "description": "The password for the user. This is required for the TemplateVM createOption."
        },
        "username": {
          "type": "string",
          "description": "The username to use when signing in to lab VMs."
        }
      },
      "required": [
        "username"
      ]
    },
    "ImageProperties": {
      "type": "object",
      "properties": {
        "availableRegions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The available regions of the image in the shared gallery."
        },
        "enabledState": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Is the image enabled"
        }
      }
    },
    "ImageReference": {
      "type": "object",
      "properties": {
        "id": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Image resource ID"
        },
        "offer": {
          "type": "string",
          "description": "The image offer if applicable."
        },
        "publisher": {
          "type": "string",
          "description": "The image publisher"
        },
        "sku": {
          "type": "string",
          "description": "The image SKU"
        },
        "version": {
          "type": "string",
          "description": "The image version specified on creation."
        }
      }
    },
    "LabNetworkProfile": {
      "type": "object",
      "properties": {
        "loadBalancerId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The external load balancer resource id"
        },
        "publicIpId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The external public IP resource id"
        },
        "subnetId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The external subnet resource id"
        }
      }
    },
    "LabPlanNetworkProfile": {
      "type": "object",
      "properties": {
        "subnetId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The external subnet resource id"
        }
      }
    },
    "LabPlanProperties": {
      "type": "object",
      "properties": {
        "allowedRegions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The allowed regions for the lab creator to use when creating labs using this lab plan."
        },
        "defaultAutoShutdownProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoShutdownProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The default lab shutdown profile. This can be changed on a lab resource and only provides a default profile."
        },
        "defaultConnectionProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectionProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The default lab connection profile. This can be changed on a lab resource and only provides a default profile."
        },
        "defaultNetworkProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/LabPlanNetworkProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The lab plan network profile. To enforce lab network policies they must be defined here and cannot be changed when there are existing labs associated with this lab plan."
        },
        "linkedLmsInstance": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Base Url of the lms instance this lab plan can link lab rosters against."
        },
        "sharedGalleryId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource ID of the Shared Image Gallery attached to this lab plan. When saving a lab template virtual machine image it will be persisted in this gallery. Shared images from the gallery can be made available to use when creating new labs."
        },
        "supportInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/SupportInfo"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Support contact information and instructions for users of the lab plan. This information is displayed to lab owners and virtual machine users for all labs in the lab plan."
        }
      }
    },
    "LabProperties": {
      "type": "object",
      "properties": {
        "autoShutdownProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoShutdownProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource auto shutdown configuration for the lab. This controls whether actions are taken on resources that are sitting idle."
        },
        "connectionProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectionProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The connection profile for the lab. This controls settings such as web access to lab resources or whether RDP or SSH ports are open."
        },
        "description": {
          "type": "string",
          "description": "The description of the lab."
        },
        "labPlanId": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The ID of the lab plan. Used during resource creation to provide defaults and acts as a permission container when creating a lab via labs.azure.com. Setting a labPlanId on an existing lab provides organization.."
        },
        "networkProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/LabNetworkProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The network profile for the lab, typically applied via a lab plan. This profile cannot be modified once a lab has been created."
        },
        "rosterProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/RosterProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The lab user list management profile."
        },
        "securityProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/SecurityProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The lab security profile."
        },
        "title": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 120
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The title of the lab."
        },
        "virtualMachineProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualMachineProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The profile used for creating lab virtual machines."
        }
      }
    },
    "RecurrencePattern": {
      "type": "object",
      "properties": {
        "expirationDate": {
          "type": "string",
          "description": "When the recurrence will expire. This date is inclusive."
        },
        "frequency": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Daily",
                "Weekly"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The frequency of the recurrence."
        },
        "interval": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 1,
              "maximum": 365
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The interval to invoke the schedule on. For example, interval = 2 and RecurrenceFrequency.Daily will run every 2 days. When no interval is supplied, an interval of 1 is used."
        },
        "weekDays": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Sunday",
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday",
                  "Saturday"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The week days the schedule runs. Used for when the Frequency is set to Weekly."
        }
      },
      "required": [
        "expirationDate",
        "frequency"
      ]
    },
    "RosterProfile": {
      "type": "object",
      "properties": {
        "activeDirectoryGroupId": {
          "type": "string",
          "description": "The AAD group ID which this lab roster is populated from. Having this set enables AAD sync mode."
        },
        "lmsInstance": {
          "type": "string",
          "description": "The base URI identifying the lms instance."
        },
        "ltiClientId": {
          "type": "string",
          "description": "The unique id of the azure lab services tool in the lms."
        },
        "ltiContextId": {
          "type": "string",
          "description": "The unique context identifier for the lab in the lms."
        },
        "ltiRosterEndpoint": {
          "type": "string",
          "description": "The uri of the names and roles service endpoint on the lms for the class attached to this lab."
        }
      }
    },
    "ScheduleProperties": {
      "type": "object",
      "properties": {
        "notes": {
          "oneOf": [
            {
              "type": "string",
              "maxLength": 1000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Notes for this schedule."
        },
        "recurrencePattern": {
          "oneOf": [
            {
              "$ref": "#/definitions/RecurrencePattern"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The recurrence pattern of the scheduled actions."
        },
        "startAt": {
          "type": "string",
          "description": "When lab user virtual machines will be started. Timestamp offsets will be ignored and timeZoneId is used instead."
        },
        "stopAt": {
          "type": "string",
          "description": "When lab user virtual machines will be stopped. Timestamp offsets will be ignored and timeZoneId is used instead."
        },
        "timeZoneId": {
          "oneOf": [
            {
              "type": "string",
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The IANA timezone id for the schedule."
        }
      }
    },
    "SecurityProfile": {
      "type": "object",
      "properties": {
        "openAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether any user or only specified users can register to a lab."
        }
      }
    },
    "Sku": {
      "type": "object",
      "properties": {
        "capacity": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted."
        },
        "family": {
          "type": "string",
          "description": "If the service has different generations of hardware, for the same SKU, then that can be captured here."
        },
        "name": {
          "type": "string",
          "description": "The name of the SKU. Ex - P3. It is typically a letter+number code"
        },
        "size": {
          "type": "string",
          "description": "The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code."
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Free",
                "Basic",
                "Standard",
                "Premium"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT."
        }
      },
      "required": [
        "name"
      ]
    },
    "SupportInfo": {
      "type": "object",
      "properties": {
        "email": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 6,
              "maxLength": 254
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Support contact email address."
        },
        "instructions": {
          "type": "string",
          "description": "Support instructions."
        },
        "phone": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 31
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Support contact phone number."
        },
        "url": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 3,
              "maxLength": 2000
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Support web address."
        }
      }
    },
    "TrackedResourceTags": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "UserProperties": {
      "type": "object",
      "properties": {
        "additionalUsageQuota": {
          "type": "string",
          "description": "The amount of usage quota time the user gets in addition to the lab usage quota."
        },
        "email": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 6,
              "maxLength": 254
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Email address of the user."
        }
      },
      "required": [
        "email"
      ]
    },
    "VirtualMachineAdditionalCapabilities": {
      "type": "object",
      "properties": {
        "installGpuDrivers": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Flag to pre-install dedicated GPU drivers."
        }
      }
    },
    "VirtualMachineProfile": {
      "type": "object",
      "properties": {
        "additionalCapabilities": {
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualMachineAdditionalCapabilities"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Additional VM capabilities."
        },
        "adminUser": {
          "oneOf": [
            {
              "$ref": "#/definitions/Credentials"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Credentials for the admin user on the VM."
        },
        "createOption": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Image",
                "TemplateVM"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Indicates what lab virtual machines are created from."
        },
        "imageReference": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImageReference"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The image configuration for lab virtual machines."
        },
        "nonAdminUser": {
          "oneOf": [
            {
              "$ref": "#/definitions/Credentials"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Credentials for the non-admin user on the VM, if one exists."
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/Sku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU for the lab. Defines the type of virtual machines used in the lab."
        },
        "usageQuota": {
          "type": "string",
          "description": "The initial quota alloted to each lab user. Must be a time span between 0 and 9999 hours."
        },
        "useSharedPassword": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Enabling this option will use the same password for all user VMs."
        }
      },
      "required": [
        "adminUser",
        "createOption",
        "imageReference",
        "sku",
        "usageQuota"
      ]
    },
    "labPlans_images_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "images"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImageProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Image resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labPlans/images"
    },
    "labs_schedules_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "schedules"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ScheduleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Schedule resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labs/schedules"
    },
    "labs_users_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "users"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/UserProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "User resource properties"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.LabServices/labs/users"
    },
    "labs_virtualMachines_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2021-11-15-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[-\\w\\\\._\\\\(\\\\)]+$",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "virtualMachines"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.LabServices/labs/virtualMachines"
    }
  }
}