{
  "id": "https://schema.management.azure.com/schemas/2022-06-15-preview/Microsoft.AzureArcData.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.AzureArcData",
  "description": "Microsoft AzureArcData Resource Types",
  "resourceDefinitions": {
    "dataControllers": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "extendedLocation": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExtendedLocation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The complex type of the extended location."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "The name of the data controller"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataControllerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The data controller properties."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/dataControllers_activeDirectoryConnectors_childResource"
              }
            ]
          }
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/dataControllers"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/dataControllers"
    },
    "dataControllers_activeDirectoryConnectors": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the Active Directory connector instance"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an Active Directory connector resource"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/dataControllers/activeDirectoryConnectors"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/dataControllers/activeDirectoryConnectors"
    },
    "postgresInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "extendedLocation": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExtendedLocation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The complex type of the extended location."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "Name of Postgres Instance"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/PostgresInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Postgres Instance properties."
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/PostgresInstanceSku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource model definition representing SKU for Azure Database for PostgresSQL - Azure Arc"
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/postgresInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/postgresInstances"
    },
    "sqlManagedInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "extendedLocation": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExtendedLocation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The complex type of the extended location."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "Name of SQL Managed Instance"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlManagedInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Properties of sqlManagedInstance."
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlManagedInstanceSku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource model definition representing SKU for Azure Managed Instance - Azure Arc"
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/sqlManagedInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/sqlManagedInstances"
    },
    "sqlServerInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "Name of SQL Server Instance"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlServerInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Properties of SqlServerInstance."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/sqlServerInstances_databases_childResource"
              }
            ]
          }
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/sqlServerInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/sqlServerInstances"
    },
    "sqlServerInstances_databases": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "Name of the database"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlServerDatabaseResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of Arc Sql Server database resource"
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.AzureArcData/sqlServerInstances/databases"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/sqlServerInstances/databases"
    }
  },
  "definitions": {
    "ActiveDirectoryConnectorDNSDetails": {
      "type": "object",
      "properties": {
        "domainName": {
          "type": "string",
          "description": "DNS domain name for which DNS lookups should be forwarded to the Active Directory DNS servers."
        },
        "nameserverIPAddresses": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Active Directory DNS server IP addresses."
        },
        "preferK8sDnsForPtrLookups": {
          "oneOf": [
            {
              "type": "boolean",
              "default": true
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Flag indicating whether to prefer Kubernetes DNS server response over AD DNS server response for IP address lookups."
        },
        "replicas": {
          "oneOf": [
            {
              "type": "integer",
              "default": "1"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Replica count for DNS proxy service. Default value is 1."
        }
      },
      "required": [
        "nameserverIPAddresses"
      ],
      "description": "DNS server details"
    },
    "ActiveDirectoryConnectorDomainDetails": {
      "type": "object",
      "properties": {
        "domainControllers": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryDomainControllers"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Details about the Active Directory domain controllers associated with this AD connector instance"
        },
        "netbiosDomainName": {
          "type": "string",
          "description": "NETBIOS name of the Active Directory domain."
        },
        "ouDistinguishedName": {
          "type": "string",
          "description": "The distinguished name of the Active Directory Organizational Unit."
        },
        "realm": {
          "type": "string",
          "description": "Name (uppercase) of the Active Directory domain that this AD connector will be associated with."
        },
        "serviceAccountProvisioning": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "automatic",
                "manual"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The service account provisioning mode for this Active Directory connector."
        }
      },
      "required": [
        "realm"
      ],
      "description": "Active Directory domain details"
    },
    "ActiveDirectoryConnectorProperties": {
      "type": "object",
      "properties": {
        "domainServiceAccountLoginInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "spec": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorSpec"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The specifications of the AD Kubernetes resource."
        },
        "status": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorStatus"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The status of the Kubernetes custom resource."
        }
      },
      "required": [
        "spec"
      ],
      "description": "The properties of an Active Directory connector resource"
    },
    "ActiveDirectoryConnectorSpec": {
      "type": "object",
      "properties": {
        "activeDirectory": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorDomainDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Active Directory domain details"
        },
        "dns": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorDNSDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DNS server details"
        }
      },
      "required": [
        "activeDirectory",
        "dns"
      ],
      "description": "The specifications of the AD Kubernetes resource."
    },
    "ActiveDirectoryConnectorStatus": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "lastUpdateTime": {
          "type": "string",
          "description": "The time that the custom resource was last updated."
        },
        "observedGeneration": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The version of the replicaSet associated with the AD connector custom resource."
        },
        "state": {
          "type": "string",
          "description": "The state of the AD connector custom resource."
        }
      },
      "description": "The status of the Kubernetes custom resource."
    },
    "ActiveDirectoryDomainController": {
      "type": "object",
      "properties": {
        "hostname": {
          "type": "string",
          "description": "Fully-qualified domain name of a domain controller in the AD domain."
        }
      },
      "required": [
        "hostname"
      ],
      "description": "Information about a domain controller in the AD domain."
    },
    "ActiveDirectoryDomainControllers": {
      "type": "object",
      "properties": {
        "primaryDomainController": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryDomainController"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Information about a domain controller in the AD domain."
        },
        "secondaryDomainControllers": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ActiveDirectoryDomainController"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Information about the secondary domain controllers in the AD domain."
        }
      },
      "description": "Details about the Active Directory domain controllers associated with this AD connector instance"
    },
    "ActiveDirectoryInformation": {
      "type": "object",
      "properties": {
        "keytabInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/KeytabInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Keytab used for authenticate with Active Directory."
        }
      },
      "description": "Active Directory information that related to the resource."
    },
    "BasicLoginInformation": {
      "type": "object",
      "properties": {
        "password": {
          "type": "string",
          "description": "Login password."
        },
        "username": {
          "type": "string",
          "description": "Login username."
        }
      },
      "description": "Username and password for basic login authentication."
    },
    "DataControllerProperties": {
      "type": "object",
      "properties": {
        "basicLoginInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "clusterId": {
          "type": "string",
          "description": "If a CustomLocation is provided, this contains the ARM id of the connected cluster the custom location belongs to."
        },
        "extensionId": {
          "type": "string",
          "description": "If a CustomLocation is provided, this contains the ARM id of the extension the custom location belongs to."
        },
        "infrastructure": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "azure",
                "gcp",
                "aws",
                "alibaba",
                "onpremises",
                "other"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The infrastructure the data controller is running on."
        },
        "k8sRaw": {
          "type": "object",
          "properties": {},
          "description": "The raw kubernetes information"
        },
        "lastUploadedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date from Kubernetes cluster. Defaults to current date time"
        },
        "logAnalyticsWorkspaceConfig": {
          "oneOf": [
            {
              "$ref": "#/definitions/LogAnalyticsWorkspaceConfig"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Log analytics workspace id and primary key"
        },
        "logsDashboardCredential": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "metricsDashboardCredential": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "onPremiseProperty": {
          "oneOf": [
            {
              "$ref": "#/definitions/OnPremiseProperty"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Properties from the Kubernetes data controller"
        },
        "uploadServicePrincipal": {
          "oneOf": [
            {
              "$ref": "#/definitions/UploadServicePrincipal"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Service principal for uploading billing, metrics and logs."
        },
        "uploadWatermark": {
          "oneOf": [
            {
              "$ref": "#/definitions/UploadWatermark"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Properties on upload watermark.  Mostly timestamp for each upload data type"
        }
      },
      "description": "The data controller properties."
    },
    "dataControllers_activeDirectoryConnectors_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the Active Directory connector instance"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryConnectorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an Active Directory connector resource"
        },
        "type": {
          "type": "string",
          "enum": [
            "activeDirectoryConnectors"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/dataControllers/activeDirectoryConnectors"
    },
    "ExtendedLocation": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the extended location."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "CustomLocation"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of the extended location."
        }
      },
      "description": "The complex type of the extended location."
    },
    "K8sResourceRequirements": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "limits": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Limits for a kubernetes resource type (e.g 'cpu', 'memory'). The 'cpu' request must be less than or equal to 'cpu' limit. Default 'cpu' is 2, minimum is 1. Default 'memory' is '4Gi', minimum is '2Gi. If sku.tier is GeneralPurpose, maximum 'cpu' is 24 and maximum 'memory' is '128Gi'."
        },
        "requests": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Requests for a kubernetes resource type (e.g 'cpu', 'memory'). The 'cpu' request must be less than or equal to 'cpu' limit. Default 'cpu' is 2, minimum is 1. Default 'memory' is '4Gi', minimum is '2Gi. If sku.tier is GeneralPurpose, maximum 'cpu' is 24 and maximum 'memory' is '128Gi'."
        }
      },
      "description": "The kubernetes resource limits and requests used to restrict or reserve resource usage."
    },
    "K8sScheduling": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "default": {
          "oneOf": [
            {
              "$ref": "#/definitions/K8sSchedulingOptions"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kubernetes scheduling options. It describes restrictions used to help Kubernetes select appropriate nodes to host the database service"
        }
      },
      "description": "The kubernetes scheduling information."
    },
    "K8sSchedulingOptions": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "resources": {
          "oneOf": [
            {
              "$ref": "#/definitions/K8sResourceRequirements"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kubernetes resource limits and requests used to restrict or reserve resource usage."
        }
      },
      "description": "The kubernetes scheduling options. It describes restrictions used to help Kubernetes select appropriate nodes to host the database service"
    },
    "KeytabInformation": {
      "type": "object",
      "properties": {
        "keytab": {
          "type": "string",
          "description": "A base64-encoded keytab."
        }
      },
      "description": "Keytab used for authenticate with Active Directory."
    },
    "LogAnalyticsWorkspaceConfig": {
      "type": "object",
      "properties": {
        "primaryKey": {
          "type": "string",
          "description": "Primary key of the workspace"
        },
        "workspaceId": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-fA-F]{8}(-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Azure Log Analytics workspace ID"
        }
      },
      "description": "Log analytics workspace id and primary key"
    },
    "OnPremiseProperty": {
      "type": "object",
      "properties": {
        "id": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-fA-F]{8}(-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A globally unique ID identifying the associated Kubernetes cluster"
        },
        "publicSigningKey": {
          "type": "string",
          "description": "Certificate that contains the Kubernetes cluster public key used to verify signing"
        },
        "signingCertificateThumbprint": {
          "type": "string",
          "description": "Unique thumbprint returned to customer to verify the certificate being uploaded"
        }
      },
      "required": [
        "id",
        "publicSigningKey"
      ],
      "description": "Properties from the Kubernetes data controller"
    },
    "PostgresInstanceProperties": {
      "type": "object",
      "properties": {
        "admin": {
          "type": "string",
          "description": "The instance admin"
        },
        "basicLoginInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "dataControllerId": {
          "type": "string",
          "description": "The data controller id"
        },
        "k8sRaw": {
          "type": "object",
          "properties": {},
          "description": "The raw kubernetes information"
        },
        "lastUploadedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date from Kubernetes cluster. Defaults to current date time"
        }
      },
      "description": "Postgres Instance properties."
    },
    "PostgresInstanceSku": {
      "type": "object",
      "properties": {
        "capacity": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted."
        },
        "dev": {
          "oneOf": [
            {
              "type": "boolean",
              "default": true
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether dev/test is enabled. When the dev field is set to true, the resource is used for dev/test purpose. "
        },
        "family": {
          "type": "string",
          "description": "If the service has different generations of hardware, for the same SKU, then that can be captured here."
        },
        "name": {
          "type": "string",
          "description": "The name of the SKU.  It is typically a letter+number code"
        },
        "size": {
          "type": "string",
          "description": "The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code. "
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Hyperscale"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This field is required to be implemented by the Resource Provider if the service has more than one tier."
        }
      },
      "required": [
        "name"
      ],
      "description": "The resource model definition representing SKU for Azure Database for PostgresSQL - Azure Arc"
    },
    "SqlManagedInstanceK8sRaw": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "spec": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlManagedInstanceK8sSpec"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kubernetes spec information."
        }
      },
      "description": "The raw kubernetes information."
    },
    "SqlManagedInstanceK8sSpec": {
      "type": "object",
      "properties": {
        "additionalProperties": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {}
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Unmatched properties from the message are deserialized this collection"
        },
        "replicas": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This option specifies the number of SQL Managed Instance replicas that will be deployed in your Kubernetes cluster for high availability purposes. If sku.tier is BusinessCritical, allowed values are '2' or '3' with default of '3'. If sku.tier is GeneralPurpose, replicas must be '1'."
        },
        "scheduling": {
          "oneOf": [
            {
              "$ref": "#/definitions/K8sScheduling"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kubernetes scheduling information."
        }
      },
      "description": "The kubernetes spec information."
    },
    "SqlManagedInstanceProperties": {
      "type": "object",
      "properties": {
        "activeDirectoryInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/ActiveDirectoryInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Active Directory information that related to the resource."
        },
        "admin": {
          "type": "string",
          "description": "The instance admin user"
        },
        "basicLoginInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/BasicLoginInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Username and password for basic login authentication."
        },
        "clusterId": {
          "type": "string",
          "description": "If a CustomLocation is provided, this contains the ARM id of the connected cluster the custom location belongs to."
        },
        "dataControllerId": {
          "type": "string",
          "description": "null"
        },
        "endTime": {
          "type": "string",
          "description": "The instance end time"
        },
        "extensionId": {
          "type": "string",
          "description": "If a CustomLocation is provided, this contains the ARM id of the extension the custom location belongs to."
        },
        "k8sRaw": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlManagedInstanceK8sRaw"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The raw kubernetes information."
        },
        "lastUploadedDate": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date from Kubernetes cluster. Defaults to current date time"
        },
        "licenseType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "BasePrice",
                "LicenseIncluded",
                "DisasterRecovery"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The license type to apply for this managed instance."
        },
        "startTime": {
          "type": "string",
          "description": "The instance start time"
        }
      },
      "description": "Properties of sqlManagedInstance."
    },
    "SqlManagedInstanceSku": {
      "type": "object",
      "properties": {
        "capacity": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU capacity"
        },
        "dev": {
          "oneOf": [
            {
              "type": "boolean",
              "default": true
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether dev/test is enabled. When the dev field is set to true, the resource is used for dev/test purpose. "
        },
        "family": {
          "type": "string",
          "description": "The SKU family"
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "vCore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the SKU."
        },
        "size": {
          "type": "string",
          "description": "The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code. "
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "GeneralPurpose",
                "BusinessCritical"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The pricing tier for the instance."
        }
      },
      "required": [
        "name"
      ],
      "description": "The resource model definition representing SKU for Azure Managed Instance - Azure Arc"
    },
    "SqlServerDatabaseResourceProperties": {
      "type": "object",
      "properties": {
        "backupInformation": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlServerDatabaseResourcePropertiesBackupInformation"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "collationName": {
          "type": "string",
          "description": "Collation of the database."
        },
        "compatibilityLevel": {
          "oneOf": [
            {
              "type": "integer",
              "minimum": 80,
              "maximum": 200
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Compatibility level of the database"
        },
        "databaseCreationDate": {
          "type": "string",
          "format": "date-time",
          "description": "Creation date of the database."
        },
        "databaseOptions": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlServerDatabaseResourcePropertiesDatabaseOptions"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of features that are enabled for the database"
        },
        "isReadOnly": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether the database is read only or not."
        },
        "recoveryMode": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Full",
                "Bulk-logged",
                "Simple"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Status of the database."
        },
        "sizeMB": {
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Size of the database."
        },
        "spaceAvailableMB": {
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Space left of the database."
        },
        "state": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Online",
                "Restoring",
                "Recovering",
                "RecoveryPending",
                "Suspect",
                "Emergency",
                "Offline",
                "Copying",
                "OfflineSecondary"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "State of the database."
        }
      },
      "description": "The properties of Arc Sql Server database resource"
    },
    "SqlServerDatabaseResourcePropertiesBackupInformation": {
      "type": "object",
      "properties": {
        "lastFullBackup": {
          "type": "string",
          "format": "date-time",
          "description": "Date time of last full backup."
        },
        "lastLogBackup": {
          "type": "string",
          "format": "date-time",
          "description": "Date time of last log backup."
        }
      }
    },
    "SqlServerDatabaseResourcePropertiesDatabaseOptions": {
      "type": "object",
      "properties": {
        "isAutoCloseOn": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isAutoCreateStatsOn": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isAutoShrinkOn": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isAutoUpdateStatsOn": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isEncrypted": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isMemoryOptimizationEnabled": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isRemoteDataArchiveEnabled": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isTrustworthyOn": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "description": "List of features that are enabled for the database"
    },
    "SqlServerInstanceProperties": {
      "type": "object",
      "properties": {
        "azureDefenderStatus": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Protected",
                "Unprotected",
                "Unknown"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Status of Azure Defender."
        },
        "azureDefenderStatusLastUpdated": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of last Azure Defender status update."
        },
        "collation": {
          "type": "string",
          "description": "SQL Server collation."
        },
        "containerResourceId": {
          "type": "string",
          "description": "ARM Resource id of the container resource (Azure Arc for Servers)."
        },
        "cores": {
          "type": "string",
          "description": "The number of total cores of the Operating System Environment (OSE) hosting the SQL Server instance."
        },
        "currentVersion": {
          "type": "string",
          "description": "SQL Server current version."
        },
        "edition": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Evaluation",
                "Enterprise",
                "Standard",
                "Web",
                "Developer",
                "Express"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "SQL Server edition."
        },
        "hostType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Azure Virtual Machine",
                "Azure VMWare Virtual Machine",
                "Azure Kubernetes Service",
                "AWS VMWare Virtual Machine",
                "AWS Kubernetes Service",
                "GCP VMWare Virtual Machine",
                "GCP Kubernetes Service",
                "Container",
                "Virtual Machine",
                "Physical Server",
                "AWS Virtual Machine",
                "GCP Virtual Machine",
                "Other"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of host for Azure Arc SQL Server."
        },
        "instanceName": {
          "type": "string",
          "description": "SQL Server instance name."
        },
        "licenseType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Undefined",
                "Free",
                "HADR",
                "ServerCAL",
                "LicenseOnly",
                "PAYG",
                "Paid"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "SQL Server license type."
        },
        "patchLevel": {
          "type": "string",
          "description": "SQL Server update level."
        },
        "productId": {
          "type": "string",
          "description": "SQL Server product ID."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Connected",
                "Disconnected",
                "Registered",
                "Unknown"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The cloud connectivity status."
        },
        "tcpDynamicPorts": {
          "type": "string",
          "description": "Dynamic TCP ports used by SQL Server."
        },
        "tcpStaticPorts": {
          "type": "string",
          "description": "Static TCP ports used by SQL Server."
        },
        "vCore": {
          "type": "string",
          "description": "The number of logical processors used by the SQL Server instance."
        },
        "version": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "SQL Server 2012",
                "SQL Server 2014",
                "SQL Server 2016",
                "SQL Server 2017",
                "SQL Server 2019",
                "SQL Server 2022",
                "Unknown"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "SQL Server version."
        }
      },
      "required": [
        "containerResourceId",
        "status"
      ],
      "description": "Properties of SqlServerInstance."
    },
    "sqlServerInstances_databases_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2022-06-15-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "type": "string",
          "description": "Name of the database"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/SqlServerDatabaseResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of Arc Sql Server database resource"
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "databases"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.AzureArcData/sqlServerInstances/databases"
    },
    "UploadServicePrincipal": {
      "type": "object",
      "properties": {
        "authority": {
          "type": "string",
          "description": "Authority for the service principal. Example: https://login.microsoftonline.com/"
        },
        "clientId": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-fA-F]{8}(-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Client ID of the service principal for uploading data."
        },
        "clientSecret": {
          "type": "string",
          "description": "Secret of the service principal"
        },
        "tenantId": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-fA-F]{8}(-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Tenant ID of the service principal."
        }
      },
      "description": "Service principal for uploading billing, metrics and logs."
    },
    "UploadWatermark": {
      "type": "object",
      "properties": {
        "logs": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date for logs from kubernetes cluster. Defaults to current date time"
        },
        "metrics": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date for metrics from kubernetes cluster. Defaults to current date time"
        },
        "usages": {
          "type": "string",
          "format": "date-time",
          "description": "Last uploaded date for usages from kubernetes cluster. Defaults to current date time"
        }
      },
      "description": "Properties on upload watermark.  Mostly timestamp for each upload data type"
    }
  }
}