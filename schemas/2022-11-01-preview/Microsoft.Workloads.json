{
  "id": "https://schema.management.azure.com/schemas/2022-11-01-preview/Microsoft.Workloads.json#",
  "title": "Microsoft.Workloads",
  "description": "Microsoft Workloads Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "monitors": {
      "description": "Microsoft.Workloads/monitors",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Managed service identity (user assigned identities)",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "Name of the SAP monitor resource.",
          "type": "string"
        },
        "properties": {
          "description": "SAP monitor properties",
          "oneOf": [
            {
              "$ref": "#/definitions/MonitorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/monitors_providerInstances_childResource"
              },
              {
                "$ref": "#/definitions/monitors_sapLandscapeMonitor_childResource"
              }
            ]
          },
          "type": "array"
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/monitors"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "monitors_providerInstances": {
      "description": "Microsoft.Workloads/monitors/providerInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Managed service identity (user assigned identities)",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "Name of the provider instance.",
          "type": "string"
        },
        "properties": {
          "description": "Provider Instance properties",
          "oneOf": [
            {
              "$ref": "#/definitions/ProviderInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/monitors/providerInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "monitors_sapLandscapeMonitor": {
      "description": "Microsoft.Workloads/monitors/sapLandscapeMonitor",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "oneOf": [
            {
              "pattern": "^.*/default$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Sap Landscape Monitor properties",
          "oneOf": [
            {
              "$ref": "#/definitions/SapLandscapeMonitorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/monitors/sapLandscapeMonitor"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances": {
      "description": "Microsoft.Workloads/sapVirtualInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Managed service identity (user assigned identities)",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the Virtual Instances for SAP solutions resource",
          "type": "string"
        },
        "properties": {
          "description": "Defines the Virtual Instance for SAP solutions resource properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPVirtualInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/sapVirtualInstances_centralInstances_childResource"
              },
              {
                "$ref": "#/definitions/sapVirtualInstances_databaseInstances_childResource"
              },
              {
                "$ref": "#/definitions/sapVirtualInstances_applicationInstances_childResource"
              }
            ]
          },
          "type": "array"
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/sapVirtualInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_applicationInstances": {
      "description": "Microsoft.Workloads/sapVirtualInstances/applicationInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of SAP Application Server instance resource.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the SAP Application Server instance properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPApplicationServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/sapVirtualInstances/applicationInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_centralInstances": {
      "description": "Microsoft.Workloads/sapVirtualInstances/centralInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "Central Services Instance resource name string modeled as parameter for auto generation to work correctly.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the SAP Central Services Instance properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPCentralServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/sapVirtualInstances/centralInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_databaseInstances": {
      "description": "Microsoft.Workloads/sapVirtualInstances/databaseInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "Database resource name string modeled as parameter for auto generation to work correctly.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the Database properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPDatabaseProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/sapVirtualInstances/databaseInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "ApplicationServerConfiguration": {
      "description": "Gets or sets the application server configuration.",
      "properties": {
        "instanceCount": {
          "description": "The number of app server instances.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subnetId": {
          "description": "The subnet id.",
          "type": "string"
        },
        "virtualMachineConfiguration": {
          "description": "Gets or sets the virtual machine configuration.",
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualMachineConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "subnetId",
        "virtualMachineConfiguration",
        "instanceCount"
      ],
      "type": "object"
    },
    "ApplicationServerFullResourceNames": {
      "description": "The full resource names object for application layer resources. The number of entries in this list should be equal to the number VMs to be created for application layer.",
      "properties": {
        "availabilitySetName": {
          "description": "The full name for availability set. In case name is not provided, it will be defaulted to {SID}-App-AvSet.",
          "type": "string"
        },
        "virtualMachines": {
          "description": "The list of virtual machine naming details.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/VirtualMachineResourceNames"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "CentralServerConfiguration": {
      "description": "Gets or sets the central server configuration.",
      "properties": {
        "instanceCount": {
          "description": "The number of central server VMs.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subnetId": {
          "description": "The subnet id.",
          "type": "string"
        },
        "virtualMachineConfiguration": {
          "description": "Gets or sets the virtual machine configuration.",
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualMachineConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "subnetId",
        "virtualMachineConfiguration",
        "instanceCount"
      ],
      "type": "object"
    },
    "CentralServerFullResourceNames": {
      "description": "The full resource names object for central server layer resources.",
      "properties": {
        "availabilitySetName": {
          "description": "The full name for availability set. In case name is not provided, it will be defaulted to {SID}-ASCS-AvSet.",
          "type": "string"
        },
        "loadBalancer": {
          "description": "The resource names object for load balancer and related resources.",
          "oneOf": [
            {
              "$ref": "#/definitions/LoadBalancerResourceNames"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "virtualMachines": {
          "description": "The list of names for all ASCS virtual machines to be deployed. The number of entries in this list should be equal to the number VMs to be created for ASCS layer. At maximum, there can be two virtual machines at this layer: ASCS and ERS.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/VirtualMachineResourceNames"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DatabaseConfiguration": {
      "description": "Gets or sets the database configuration.",
      "properties": {
        "databaseType": {
          "description": "The database type.",
          "oneOf": [
            {
              "enum": [
                "HANA",
                "DB2"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "diskConfiguration": {
          "description": "Gets or sets the disk configuration.",
          "oneOf": [
            {
              "$ref": "#/definitions/DiskConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "instanceCount": {
          "description": "The number of database VMs.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subnetId": {
          "description": "The subnet id.",
          "type": "string"
        },
        "virtualMachineConfiguration": {
          "description": "Gets or sets the virtual machine configuration.",
          "oneOf": [
            {
              "$ref": "#/definitions/VirtualMachineConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "subnetId",
        "virtualMachineConfiguration",
        "instanceCount"
      ],
      "type": "object"
    },
    "DatabaseServerFullResourceNames": {
      "description": "The full resource names object for database layer resources. The number of entries in this list should be equal to the number VMs to be created for database layer.",
      "properties": {
        "availabilitySetName": {
          "description": "The full name for availability set. In case name is not provided, it will be defaulted to {SID}-DB-AvSet.",
          "type": "string"
        },
        "loadBalancer": {
          "description": "The resource names object for load balancer and related resources.",
          "oneOf": [
            {
              "$ref": "#/definitions/LoadBalancerResourceNames"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "virtualMachines": {
          "description": "The list of virtual machine naming details.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/VirtualMachineResourceNames"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DeployerVmPackages": {
      "description": "Defines the url and storage account ID where deployer VM packages are uploaded",
      "properties": {
        "storageAccountId": {
          "description": "The deployer VM packages storage account id",
          "type": "string"
        },
        "url": {
          "description": "The URL to the deployer VM packages file.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "DiskConfiguration": {
      "description": "The Disk Configuration Details.",
      "properties": {
        "diskVolumeConfigurations": {
          "description": "The disk configuration for the db volume. For HANA, Required volumes are: ['hana/data', 'hana/log', hana/shared', 'usr/sap', 'os'], Optional volume : ['backup'].",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/DiskVolumeConfiguration"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DiskSku": {
      "description": "The disk sku.",
      "properties": {
        "name": {
          "description": "Defines the disk sku name.",
          "oneOf": [
            {
              "enum": [
                "Standard_LRS",
                "Premium_LRS",
                "StandardSSD_LRS",
                "UltraSSD_LRS",
                "Premium_ZRS",
                "StandardSSD_ZRS",
                "PremiumV2_LRS"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DiskVolumeConfiguration": {
      "description": "The disk configuration required for the selected volume.",
      "properties": {
        "count": {
          "description": "The total number of disks required for the concerned volume.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sizeGB": {
          "description": "The disk size in GB.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sku": {
          "description": "The disk SKU details.",
          "oneOf": [
            {
              "$ref": "#/definitions/DiskSku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "EnqueueReplicationServerProperties": {
      "description": "Defines the SAP Enqueue Replication Server (ERS) properties.",
      "properties": {},
      "type": "object"
    },
    "EnqueueServerProperties": {
      "description": "Defines the SAP Enqueue Server properties.",
      "properties": {},
      "type": "object"
    },
    "FileShareConfiguration": {
      "description": "File Share configuration details, populated with information on storage configuration mounted on the VIS. The createAndMount option is selected in case of missing input.",
      "oneOf": [
        {
          "description": "Gets or sets the file share configuration for file share created with the VIS case.",
          "properties": {
            "resourceGroup": {
              "description": "The name of file share resource group. The app rg is used in case of missing input.",
              "type": "string"
            },
            "storageAccountName": {
              "description": "The name of file share storage account name . A custom name is used in case of missing input.",
              "type": "string"
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the file share configuration for externally mounted cases.",
          "properties": {
            "id": {
              "description": "The fileshare resource ID",
              "type": "string"
            },
            "privateEndpointId": {
              "description": "The private endpoint resource ID",
              "type": "string"
            }
          },
          "required": [
            "id",
            "privateEndpointId"
          ],
          "type": "object"
        },
        {
          "description": "Gets or sets the skip file share configuration",
          "properties": {},
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "GatewayServerProperties": {
      "description": "Defines the SAP Gateway Server properties.",
      "properties": {},
      "type": "object"
    },
    "HighAvailabilityConfiguration": {
      "description": "Gets or sets the high availability configuration.",
      "properties": {
        "highAvailabilityType": {
          "description": "The high availability type.",
          "oneOf": [
            {
              "enum": [
                "AvailabilitySet",
                "AvailabilityZone"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "highAvailabilityType"
      ],
      "type": "object"
    },
    "HighAvailabilitySoftwareConfiguration": {
      "description": "Gets or sets the HA software configuration.",
      "properties": {
        "fencingClientId": {
          "description": "The fencing client id.",
          "type": "string"
        },
        "fencingClientPassword": {
          "description": "The fencing client id secret/password. The secret should never expire. This will be used pacemaker to start/stop the cluster VMs.",
          "type": "string"
        }
      },
      "required": [
        "fencingClientId",
        "fencingClientPassword"
      ],
      "type": "object"
    },
    "ImageReference": {
      "description": "Specifies information about the image to use. You can specify information about platform images, marketplace images, or virtual machine images. This element is required when you want to use a platform image, marketplace image, or virtual machine image, but is not used in other creation operations. NOTE: Image reference publisher and offer can only be set when you create the scale set.",
      "properties": {
        "offer": {
          "description": "Specifies the offer of the platform image or marketplace image used to create the virtual machine.",
          "type": "string"
        },
        "publisher": {
          "description": "The image publisher.",
          "type": "string"
        },
        "sharedGalleryImageId": {
          "description": "Specified the shared gallery image unique id for vm deployment. This can be fetched from shared gallery image GET call.",
          "type": "string"
        },
        "sku": {
          "description": "The image SKU.",
          "type": "string"
        },
        "version": {
          "description": "Specifies the version of the platform image or marketplace image used to create the virtual machine. The allowed formats are Major.Minor.Build or 'latest'. Major, Minor, and Build are decimal numbers. Specify 'latest' to use the latest version of an image available at deploy time. Even if you use 'latest', the VM image will not automatically update after deploy time even if a new version becomes available.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "InfrastructureConfiguration": {
      "description": "Deploy SAP Infrastructure Details.",
      "oneOf": [
        {
          "description": "Gets or sets the single server configuration.",
          "properties": {
            "customResourceNames": {
              "description": "The set of custom names to be used for underlying azure resources that are part of the SAP system.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SingleServerCustomResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "databaseType": {
              "description": "The database type.",
              "oneOf": [
                {
                  "enum": [
                    "HANA",
                    "DB2"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "dbDiskConfiguration": {
              "description": "Gets or sets the disk configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DiskConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "networkConfiguration": {
              "description": "Network configuration for the server",
              "oneOf": [
                {
                  "$ref": "#/definitions/NetworkConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "subnetId": {
              "description": "The subnet id.",
              "type": "string"
            },
            "virtualMachineConfiguration": {
              "description": "Gets or sets the virtual machine configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/VirtualMachineConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "subnetId",
            "virtualMachineConfiguration"
          ],
          "type": "object"
        },
        {
          "description": "Gets or sets the three tier SAP configuration.",
          "properties": {
            "applicationServer": {
              "description": "The application server configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/ApplicationServerConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "centralServer": {
              "description": "The central server configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/CentralServerConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "customResourceNames": {
              "description": "The set of custom names to be used for underlying azure resources that are part of the SAP system.",
              "oneOf": [
                {
                  "$ref": "#/definitions/ThreeTierCustomResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "databaseServer": {
              "description": "The database configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DatabaseConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "highAvailabilityConfig": {
              "description": "The high availability configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/HighAvailabilityConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "networkConfiguration": {
              "description": "Network configuration common to all servers",
              "oneOf": [
                {
                  "$ref": "#/definitions/NetworkConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "storageConfiguration": {
              "description": "The storage configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/StorageConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "centralServer",
            "applicationServer",
            "databaseServer"
          ],
          "type": "object"
        }
      ],
      "properties": {
        "appResourceGroup": {
          "description": "The application resource group where SAP system resources will be deployed.",
          "type": "string"
        }
      },
      "required": [
        "appResourceGroup"
      ],
      "type": "object"
    },
    "LoadBalancerResourceNames": {
      "description": "The resource names object for load balancer and related resources.",
      "properties": {
        "backendPoolNames": {
          "description": "The list of backend pool names. Currently, ACSS deploys only one backend pool and hence, size of this list should be 1",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "frontendIpConfigurationNames": {
          "description": "The list of frontend IP configuration names. If provided as input, size of this list should be 2 for cs layer and should be 1 for database layer.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "healthProbeNames": {
          "description": "The list of health probe names. If provided as input, size of this list should be 2 for cs layer and should be 1 for database layer.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "loadBalancerName": {
          "description": "The full resource name for load balancer. If this value is not provided, load balancer will be name as {ASCS/DB}-loadBalancer.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ManagedRGConfiguration": {
      "description": "Managed resource group configuration",
      "properties": {
        "name": {
          "description": "Managed resource group name",
          "type": "string"
        }
      },
      "type": "object"
    },
    "MessageServerProperties": {
      "description": "Defines the SAP Message Server properties.",
      "properties": {},
      "type": "object"
    },
    "MonitorProperties": {
      "description": "Describes the properties of a SAP monitor.",
      "properties": {
        "appLocation": {
          "description": "The SAP monitor resources will be deployed in the SAP monitoring region. The subnet region should be same as the SAP monitoring region.",
          "type": "string"
        },
        "logAnalyticsWorkspaceArmId": {
          "description": "The ARM ID of the Log Analytics Workspace that is used for SAP monitoring.",
          "type": "string"
        },
        "managedResourceGroupConfiguration": {
          "description": "Managed resource group configuration",
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedRGConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "monitorSubnet": {
          "description": "The subnet which the SAP monitor will be deployed in",
          "type": "string"
        },
        "routingPreference": {
          "description": "Sets the routing preference of the SAP monitor. By default only RFC1918 traffic is routed to the customer VNET.",
          "oneOf": [
            {
              "enum": [
                "Default",
                "RouteAll"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "zoneRedundancyPreference": {
          "description": "Sets the preference for zone redundancy on resources created for the SAP monitor. By default resources will be created which do not support zone redundancy.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "NetworkConfiguration": {
      "description": "Defines the network configuration type for SAP system infrastructure that is being deployed ",
      "properties": {
        "isSecondaryIpEnabled": {
          "description": "Specifies whether a secondary IP address should be added to the network interface on all VMs of the SAP system being deployed",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "NetworkInterfaceResourceNames": {
      "description": "The resource names object for network interface and related resources.",
      "properties": {
        "networkInterfaceName": {
          "description": "The full name for network interface. If name is not provided, service uses a default name based on the deployment type. For SingleServer, default name is {SID}-Nic. In case of HA-AvZone systems, default name will be {SID}-{App/ASCS/DB}-Zone{A/B}-Nic with an incrementor at the end in case of more than 1 instance per layer. For distributed and HA-AvSet systems, default name will be {SID}-{App/ASCS/DB}-Nic with an incrementor at the end in case of more than 1 instance per layer.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "OSConfiguration": {
      "description": "Defines the OS configuration.",
      "oneOf": [
        {
          "description": "Specifies the Linux operating system settings on the virtual machine. <br><br>For a list of supported Linux distributions, see [Linux on Azure-Endorsed Distributions](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros).",
          "properties": {
            "disablePasswordAuthentication": {
              "description": "Specifies whether password authentication should be disabled.",
              "oneOf": [
                {
                  "type": "boolean"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "ssh": {
              "description": "Specifies the ssh key configuration for a Linux OS. (This property is deprecated, please use 'sshKeyPair' instead)",
              "oneOf": [
                {
                  "$ref": "#/definitions/SshConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "sshKeyPair": {
              "description": "The SSH Key-pair used to authenticate with the VM's.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SshKeyPair"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Specifies Windows operating system settings on the virtual machine.",
          "properties": {},
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "OSProfile": {
      "description": "Specifies the operating system settings for the virtual machine. Some of the settings cannot be changed once VM is provisioned.",
      "properties": {
        "adminPassword": {
          "description": "Specifies the password of the administrator account. <br><br> **Minimum-length (Windows):** 8 characters <br><br> **Minimum-length (Linux):** 6 characters <br><br> **Max-length (Windows):** 123 characters <br><br> **Max-length (Linux):** 72 characters <br><br> **Complexity requirements:** 3 out of 4 conditions below need to be fulfilled <br> Has lower characters <br>Has upper characters <br> Has a digit <br> Has a special character (Regex match [\\W_]) <br><br> **Disallowed values:** \"abc@123\", \"P@$$w0rd\", \"P@ssw0rd\", \"P@ssword123\", \"Pa$$word\", \"pass@word1\", \"Password!\", \"Password1\", \"Password22\", \"iloveyou!\" <br><br> For resetting the password, see [How to reset the Remote Desktop service or its login password in a Windows VM](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/reset-rdp) <br><br> For resetting root password, see [Manage users, SSH, and check or repair disks on Azure Linux VMs using the VMAccess Extension](https://docs.microsoft.com/troubleshoot/azure/virtual-machines/troubleshoot-ssh-connection)",
          "type": "string"
        },
        "adminUsername": {
          "description": "Specifies the name of the administrator account. <br><br> This property cannot be updated after the VM is created. <br><br> **Windows-only restriction:** Cannot end in \".\" <br><br> **Disallowed values:** \"administrator\", \"admin\", \"user\", \"user1\", \"test\", \"user2\", \"test1\", \"user3\", \"admin1\", \"1\", \"123\", \"a\", \"actuser\", \"adm\", \"admin2\", \"aspnet\", \"backup\", \"console\", \"david\", \"guest\", \"john\", \"owner\", \"root\", \"server\", \"sql\", \"support\", \"support_388945a0\", \"sys\", \"test2\", \"test3\", \"user4\", \"user5\". <br><br> **Minimum-length (Linux):** 1  character <br><br> **Max-length (Linux):** 64 characters <br><br> **Max-length (Windows):** 20 characters.",
          "type": "string"
        },
        "osConfiguration": {
          "description": "Specifies Windows operating system settings on the virtual machine.",
          "oneOf": [
            {
              "$ref": "#/definitions/OSConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "OsSapConfiguration": {
      "description": "Defines the OS and SAP Configurations for Deployment",
      "properties": {
        "deployerVmPackages": {
          "description": "The url and storage account ID where deployer VM packages are uploaded",
          "oneOf": [
            {
              "$ref": "#/definitions/DeployerVmPackages"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sapFqdn": {
          "description": "The FQDN to set for the SAP system",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ProviderInstanceProperties": {
      "description": "Describes the properties of a provider instance.",
      "properties": {
        "providerSettings": {
          "description": "Defines the provider instance errors.",
          "oneOf": [
            {
              "$ref": "#/definitions/ProviderSpecificProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ProviderSpecificProperties": {
      "description": "Gets or sets the provider specific properties.",
      "oneOf": [
        {
          "description": "Gets or sets the DB2 provider properties.",
          "properties": {
            "dbName": {
              "description": "Gets or sets the db2 database name.",
              "type": "string"
            },
            "dbPassword": {
              "description": "Gets or sets the db2 database password.",
              "type": "string"
            },
            "dbPasswordUri": {
              "description": "Gets or sets the key vault URI to secret with the database password.",
              "type": "string"
            },
            "dbPort": {
              "description": "Gets or sets the db2 database sql port.",
              "type": "string"
            },
            "dbUsername": {
              "description": "Gets or sets the db2 database user name.",
              "type": "string"
            },
            "hostname": {
              "description": "Gets or sets the target virtual machine name.",
              "type": "string"
            },
            "sapSid": {
              "description": "Gets or sets the SAP System Identifier",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the DB2 Database.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the SQL server provider properties.",
          "properties": {
            "dbPassword": {
              "description": "Gets or sets the database password.",
              "type": "string"
            },
            "dbPasswordUri": {
              "description": "Gets or sets the key vault URI to secret with the database password.",
              "type": "string"
            },
            "dbPort": {
              "description": "Gets or sets the database sql port.",
              "type": "string"
            },
            "dbUsername": {
              "description": "Gets or sets the database user name.",
              "type": "string"
            },
            "hostname": {
              "description": "Gets or sets the SQL server host name.",
              "type": "string"
            },
            "sapSid": {
              "description": "Gets or sets the SAP System Identifier",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the SQL Database.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the PrometheusHaCluster provider properties.",
          "properties": {
            "clusterName": {
              "description": "Gets or sets the clusterName.",
              "type": "string"
            },
            "hostname": {
              "description": "Gets or sets the target machine name.",
              "type": "string"
            },
            "prometheusUrl": {
              "description": "URL of the Node Exporter endpoint.",
              "type": "string"
            },
            "sid": {
              "description": "Gets or sets the cluster sid.",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the HA cluster exporter.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the PrometheusOS provider properties.",
          "properties": {
            "prometheusUrl": {
              "description": "URL of the Node Exporter endpoint",
              "type": "string"
            },
            "sapSid": {
              "description": "Gets or sets the SAP System Identifier",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the prometheus node exporter.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the provider properties.",
          "properties": {
            "dbName": {
              "description": "Gets or sets the hana database name.",
              "type": "string"
            },
            "dbPassword": {
              "description": "Gets or sets the database password.",
              "type": "string"
            },
            "dbPasswordUri": {
              "description": "Gets or sets the key vault URI to secret with the database password.",
              "type": "string"
            },
            "dbUsername": {
              "description": "Gets or sets the database user name.",
              "type": "string"
            },
            "hostname": {
              "description": "Gets or sets the target virtual machine size.",
              "type": "string"
            },
            "instanceNumber": {
              "description": "Gets or sets the database instance number.",
              "type": "string"
            },
            "sapSid": {
              "description": "Gets or sets the SAP System Identifier.",
              "type": "string"
            },
            "sqlPort": {
              "description": "Gets or sets the database sql port.",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the DB.",
              "type": "string"
            },
            "sslHostNameInCertificate": {
              "description": "Gets or sets the hostname(s) in the SSL certificate.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Gets or sets the provider properties.",
          "properties": {
            "sapClientId": {
              "description": "Gets or sets the SAP Client ID.",
              "type": "string"
            },
            "sapHostFileEntries": {
              "description": "Gets or sets the list of HostFile Entries",
              "oneOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "sapHostname": {
              "description": "Gets or sets the target virtual machine IP Address/FQDN.",
              "type": "string"
            },
            "sapInstanceNr": {
              "description": "Gets or sets the instance number of SAP NetWeaver.",
              "type": "string"
            },
            "sapPassword": {
              "description": "Sets the SAP password.",
              "type": "string"
            },
            "sapPasswordUri": {
              "description": "Gets or sets the key vault URI to secret with the SAP password.",
              "type": "string"
            },
            "sapPortNumber": {
              "description": "Gets or sets the SAP HTTP port number.",
              "type": "string"
            },
            "sapSid": {
              "description": "Gets or sets the SAP System Identifier",
              "type": "string"
            },
            "sapUsername": {
              "description": "Gets or sets the SAP user name.",
              "type": "string"
            },
            "sslCertificateUri": {
              "description": "Gets or sets the blob URI to SSL certificate for the SAP system.",
              "type": "string"
            },
            "sslPreference": {
              "description": "Gets or sets certificate preference if secure communication is enabled.",
              "oneOf": [
                {
                  "enum": [
                    "Disabled",
                    "RootCertificate",
                    "ServerCertificate"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "SAPApplicationServerProperties": {
      "description": "Defines the SAP Application Server instance properties.",
      "properties": {},
      "type": "object"
    },
    "SAPCentralServerProperties": {
      "description": "Defines the SAP Central Services Instance properties.",
      "properties": {
        "enqueueReplicationServerProperties": {
          "description": "Defines the SAP Enqueue Replication Server (ERS) properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/EnqueueReplicationServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "enqueueServerProperties": {
          "description": "Defines the SAP Enqueue Server properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/EnqueueServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "gatewayServerProperties": {
          "description": "Defines the SAP Gateway Server properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/GatewayServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "messageServerProperties": {
          "description": "Defines the SAP Message Server properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/MessageServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SAPConfiguration": {
      "description": "The SAP Configuration.",
      "oneOf": [
        {
          "description": "Deployment Configuration.",
          "properties": {
            "appLocation": {
              "description": "The geo-location where the SAP system is to be created.",
              "type": "string"
            },
            "infrastructureConfiguration": {
              "description": "The infrastructure configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/InfrastructureConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "softwareConfiguration": {
              "description": "The software configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SoftwareConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Deployment along with OS Configuration.",
          "properties": {
            "appLocation": {
              "description": "The geo-location where the SAP system is to be created.",
              "type": "string"
            },
            "infrastructureConfiguration": {
              "description": "The infrastructure configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/InfrastructureConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "osSapConfiguration": {
              "description": "The OS and SAP configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/OsSapConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "softwareConfiguration": {
              "description": "The software configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SoftwareConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        },
        {
          "description": "Discovery Details.",
          "properties": {
            "centralServerVmId": {
              "description": "The virtual machine ID of the Central Server.",
              "type": "string"
            },
            "managedRgStorageAccountName": {
              "description": "The custom storage account name for the storage account created by the service in the managed resource group created as part of VIS deployment.<br><br>Refer to the storage account naming rules [here](https://learn.microsoft.com/azure/azure-resource-manager/management/resource-name-rules#microsoftstorage).<br><br>If not provided, the service will create the storage account with a random name.",
              "maxLength": 24,
              "minLength": 3,
              "type": "string"
            }
          },
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "SAPDatabaseProperties": {
      "description": "Defines the Database properties.",
      "properties": {},
      "type": "object"
    },
    "SAPVirtualInstanceProperties": {
      "description": "Defines the Virtual Instance for SAP solutions resource properties.",
      "properties": {
        "configuration": {
          "description": "Defines if the SAP system is being created using Azure Center for SAP solutions (ACSS) or if an existing SAP system is being registered with ACSS",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "environment": {
          "description": "Defines the environment type - Production/Non Production.",
          "oneOf": [
            {
              "enum": [
                "NonProd",
                "Prod"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "managedResourceGroupConfiguration": {
          "description": "Managed resource group configuration",
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedRGConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sapProduct": {
          "description": "Defines the SAP Product type.",
          "oneOf": [
            {
              "enum": [
                "ECC",
                "S4HANA",
                "Other"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "environment",
        "sapProduct",
        "configuration"
      ],
      "type": "object"
    },
    "SapLandscapeMonitorMetricThresholds": {
      "description": "Gets or sets the Threshold Values for Top Metrics Health.",
      "properties": {
        "green": {
          "description": "Gets or sets the threshold value for Green.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "Gets or sets the name of the threshold.",
          "type": "string"
        },
        "red": {
          "description": "Gets or sets the threshold value for Red.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "yellow": {
          "description": "Gets or sets the threshold value for Yellow.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SapLandscapeMonitorProperties": {
      "description": "Gets or sets the properties for Sap Landscape Monitor Dashboard.",
      "properties": {
        "grouping": {
          "description": "Gets or sets the SID groupings by landscape and Environment.",
          "oneOf": [
            {
              "$ref": "#/definitions/SapLandscapeMonitorPropertiesGrouping"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "topMetricsThresholds": {
          "description": "Gets or sets the list Top Metric Thresholds for SAP Landscape Monitor Dashboard",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SapLandscapeMonitorMetricThresholds"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SapLandscapeMonitorPropertiesGrouping": {
      "description": "Gets or sets the SID groupings by landscape and Environment.",
      "properties": {
        "landscape": {
          "description": "Gets or sets the list of landscape to SID mappings.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SapLandscapeMonitorSidMapping"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sapApplication": {
          "description": "Gets or sets the list of Sap Applications to SID mappings.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SapLandscapeMonitorSidMapping"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SapLandscapeMonitorSidMapping": {
      "description": "Gets or sets the mapping for SID to Environment/Applications.",
      "properties": {
        "name": {
          "description": "Gets or sets the name of the grouping.",
          "type": "string"
        },
        "topSid": {
          "description": "Gets or sets the list of SID's.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SharedStorageResourceNames": {
      "description": "The resource names object for shared storage.",
      "properties": {
        "sharedStorageAccountName": {
          "description": "The full name of the shared storage account. If it is not provided, it will be defaulted to {SID}nfs{guid of 15 chars}.",
          "type": "string"
        },
        "sharedStorageAccountPrivateEndPointName": {
          "description": "The full name of private end point for the shared storage account. If it is not provided, it will be defaulted to {storageAccountName}_pe",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SingleServerCustomResourceNames": {
      "description": "The resource-names input to specify custom names for underlying azure resources that are part of a single server SAP system.",
      "oneOf": [
        {
          "description": "The resource name object where the specified values will be full resource names of the corresponding resources in a single server SAP system.",
          "properties": {
            "virtualMachine": {
              "description": "The resource names object for virtual machine and related resources.",
              "oneOf": [
                {
                  "$ref": "#/definitions/VirtualMachineResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "SoftwareConfiguration": {
      "description": "The SAP Software configuration Input.",
      "oneOf": [
        {
          "description": "The SAP Software configuration Input when the software is installed externally outside the service.",
          "properties": {
            "centralServerVmId": {
              "description": "The resource ID of the virtual machine containing the central server instance.",
              "type": "string"
            }
          },
          "type": "object"
        },
        {
          "description": "The SAP Software configuration Input when the software is to be installed by service without OS Configurations",
          "properties": {
            "bomUrl": {
              "description": "The URL to the SAP Build of Materials(BOM) file.",
              "type": "string"
            },
            "highAvailabilitySoftwareConfiguration": {
              "description": "Gets or sets the HA software configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/HighAvailabilitySoftwareConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "sapBitsStorageAccountId": {
              "description": "The SAP bits storage account id.",
              "type": "string"
            },
            "softwareVersion": {
              "description": "The software version to install.",
              "type": "string"
            }
          },
          "required": [
            "bomUrl",
            "sapBitsStorageAccountId",
            "softwareVersion"
          ],
          "type": "object"
        },
        {
          "description": "The SAP Software configuration Input when the software is to be installed by service.",
          "properties": {
            "bomUrl": {
              "description": "The URL to the SAP Build of Materials(BOM) file.",
              "type": "string"
            },
            "highAvailabilitySoftwareConfiguration": {
              "description": "Gets or sets the HA software configuration.",
              "oneOf": [
                {
                  "$ref": "#/definitions/HighAvailabilitySoftwareConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "sapBitsStorageAccountId": {
              "description": "The SAP bits storage account id.",
              "type": "string"
            },
            "sapFqdn": {
              "description": "The FQDN to set for the SAP system during install.",
              "type": "string"
            },
            "softwareVersion": {
              "description": "The software version to install.",
              "type": "string"
            },
            "sshPrivateKey": {
              "description": "The SSH private key.",
              "type": "string"
            }
          },
          "required": [
            "bomUrl",
            "softwareVersion",
            "sapBitsStorageAccountId",
            "sapFqdn",
            "sshPrivateKey"
          ],
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "SshConfiguration": {
      "description": "SSH configuration for Linux based VMs running on Azure",
      "properties": {
        "publicKeys": {
          "description": "The list of SSH public keys used to authenticate with linux based VMs.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SshPublicKey"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SshKeyPair": {
      "description": "The SSH Key-pair used to authenticate with the VM. The key needs to be at least 2048-bit and in ssh-rsa format. <br><br> For creating ssh keys, see [Create SSH keys on Linux and Mac for Linux VMs in Azure](https://docs.microsoft.com/azure/virtual-machines/linux/create-ssh-keys-detailed).",
      "properties": {
        "privateKey": {
          "description": "SSH private key.",
          "type": "string"
        },
        "publicKey": {
          "description": "SSH public key",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SshPublicKey": {
      "description": "Contains information about SSH certificate public key and the path on the Linux VM where the public key is placed.",
      "properties": {
        "keyData": {
          "description": "SSH public key certificate used to authenticate with the VM through ssh. The key needs to be at least 2048-bit and in ssh-rsa format. <br><br> For creating ssh keys, see [Create SSH keys on Linux and Mac for Linux VMs in Azure](https://docs.microsoft.com/azure/virtual-machines/linux/create-ssh-keys-detailed).",
          "type": "string"
        }
      },
      "type": "object"
    },
    "StorageConfiguration": {
      "description": "Gets or sets the storage configuration.",
      "properties": {
        "transportFileShareConfiguration": {
          "description": "The properties of the transport directory attached to the VIS. The default for transportFileShareConfiguration is the createAndMount flow if storage configuration is missing.",
          "oneOf": [
            {
              "$ref": "#/definitions/FileShareConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ThreeTierCustomResourceNames": {
      "description": "The resource-names input to specify custom names for underlying azure resources that are part of a three tier SAP system.",
      "oneOf": [
        {
          "description": "The resource name object where the specified values will be full resource names of the corresponding resources in a three tier SAP system.",
          "properties": {
            "applicationServer": {
              "description": "The full resource names object for application layer resources. The number of entries in this list should be equal to the number VMs to be created for application layer.",
              "oneOf": [
                {
                  "$ref": "#/definitions/ApplicationServerFullResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "centralServer": {
              "description": "The full resource names object for central server layer resources.",
              "oneOf": [
                {
                  "$ref": "#/definitions/CentralServerFullResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "databaseServer": {
              "description": "The full resource names object for database layer resources. The number of entries in this list should be equal to the number VMs to be created for database layer.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DatabaseServerFullResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "sharedStorage": {
              "description": "The resource names object for shared storage.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SharedStorageResourceNames"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "UserAssignedIdentity": {
      "description": "User assigned identity properties",
      "properties": {},
      "type": "object"
    },
    "UserAssignedServiceIdentity": {
      "description": "Managed service identity (user assigned identities)",
      "properties": {
        "type": {
          "description": "Type of manage identity",
          "oneOf": [
            {
              "enum": [
                "None",
                "UserAssigned"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedIdentities": {
          "description": "User assigned identities dictionary",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/UserAssignedIdentity"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "VirtualMachineConfiguration": {
      "description": "Defines the virtual machine configuration.",
      "properties": {
        "imageReference": {
          "description": "The image reference.",
          "oneOf": [
            {
              "$ref": "#/definitions/ImageReference"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "osProfile": {
          "description": "The OS profile.",
          "oneOf": [
            {
              "$ref": "#/definitions/OSProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "vmSize": {
          "description": "The virtual machine size.",
          "type": "string"
        }
      },
      "required": [
        "vmSize",
        "imageReference",
        "osProfile"
      ],
      "type": "object"
    },
    "VirtualMachineResourceNames": {
      "description": "The resource names object for virtual machine and related resources.",
      "properties": {
        "dataDiskNames": {
          "description": "The full resource names for virtual machine data disks. This is a dictionary containing list of names of data disks per volume. Currently supported volumes for database layer are ['hana/data', 'hana/log', hana/shared', 'usr/sap', 'os', 'backup']. For application and cs layers, only 'default' volume is supported",
          "oneOf": [
            {
              "additionalProperties": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "hostName": {
          "description": "The full name for virtual-machine's host (computer name). Currently, ACSS only supports host names which are less than or equal to 13 characters long. If this value is not provided, vmName will be used as host name.",
          "type": "string"
        },
        "networkInterfaces": {
          "description": "The list of network interface name objects for the selected virtual machine. Currently, only one network interface is supported per virtual machine.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/NetworkInterfaceResourceNames"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "osDiskName": {
          "description": "The full name for OS disk attached to the VM. If this value is not provided, it will be named by ARM as per its default naming standards (prefixed with vm name). There is only one OS disk attached per Virtual Machine.",
          "type": "string"
        },
        "vmName": {
          "description": "The full name for virtual machine. The length of this field can be upto 64 characters. If name is not provided, service uses a default name based on the deployment type. For SingleServer, default name is {SID}vm. In case of HA-AvZone systems, default name will be {SID}{app/ascs/db}z{a/b}vm with an incrementor at the end in case of more than 1 vm per layer. For distributed and HA-AvSet systems, default name will be {SID}{app/ascs/db}vm with an incrementor at the end in case of more than 1 vm per layer.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "monitors_providerInstances_childResource": {
      "description": "Microsoft.Workloads/monitors/providerInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Managed service identity (user assigned identities)",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "Name of the provider instance.",
          "type": "string"
        },
        "properties": {
          "description": "Provider Instance properties",
          "oneOf": [
            {
              "$ref": "#/definitions/ProviderInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "providerInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "monitors_sapLandscapeMonitor_childResource": {
      "description": "Microsoft.Workloads/monitors/sapLandscapeMonitor",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "oneOf": [
            {
              "enum": [
                "default"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Sap Landscape Monitor properties",
          "oneOf": [
            {
              "$ref": "#/definitions/SapLandscapeMonitorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "sapLandscapeMonitor"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_applicationInstances_childResource": {
      "description": "Microsoft.Workloads/sapVirtualInstances/applicationInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of SAP Application Server instance resource.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the SAP Application Server instance properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPApplicationServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "applicationInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_centralInstances_childResource": {
      "description": "Microsoft.Workloads/sapVirtualInstances/centralInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "Central Services Instance resource name string modeled as parameter for auto generation to work correctly.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the SAP Central Services Instance properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPCentralServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "centralInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "sapVirtualInstances_databaseInstances_childResource": {
      "description": "Microsoft.Workloads/sapVirtualInstances/databaseInstances",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-11-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "Database resource name string modeled as parameter for auto generation to work correctly.",
          "type": "string"
        },
        "properties": {
          "description": "Defines the Database properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/SAPDatabaseProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "databaseInstances"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  }
}