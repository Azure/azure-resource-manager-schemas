{
  "id": "https://schema.management.azure.com/schemas/2022-12-01/Microsoft.AzureStackHCI.json#",
  "title": "Microsoft.AzureStackHCI",
  "description": "Microsoft AzureStackHCI Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "clusters": {
      "description": "Microsoft.AzureStackHCI/clusters",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Identity of Cluster resource",
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the cluster.",
          "type": "string"
        },
        "properties": {
          "description": "Cluster properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/clusters_updates_childResource"
              },
              {
                "$ref": "#/definitions/clusters_arcSettings_childResource"
              },
              {
                "$ref": "#/definitions/clusters_updateSummaries_childResource"
              }
            ]
          },
          "type": "array"
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_arcSettings": {
      "description": "Microsoft.AzureStackHCI/clusters/arcSettings",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the proxy resource holding details of HCI ArcSetting information.",
          "type": "string"
        },
        "properties": {
          "description": "ArcSetting properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ArcSettingProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/clusters_arcSettings_extensions_childResource"
              }
            ]
          },
          "type": "array"
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters/arcSettings"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_arcSettings_extensions": {
      "description": "Microsoft.AzureStackHCI/clusters/arcSettings/extensions",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the machine extension.",
          "type": "string"
        },
        "properties": {
          "description": "Describes Machine Extension Properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExtensionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters/arcSettings/extensions"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updateSummaries": {
      "description": "Microsoft.AzureStackHCI/clusters/updateSummaries",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "oneOf": [
            {
              "pattern": "^.*/default$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Update summaries properties",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateSummariesProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters/updateSummaries"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updates": {
      "description": "Microsoft.AzureStackHCI/clusters/updates",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the Update",
          "type": "string"
        },
        "properties": {
          "description": "Update properties",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/clusters_updates_updateRuns_childResource"
              }
            ]
          },
          "type": "array"
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters/updates"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updates_updateRuns": {
      "description": "Microsoft.AzureStackHCI/clusters/updates/updateRuns",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the Update Run",
          "type": "string"
        },
        "properties": {
          "description": "Describes Update Run Properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.AzureStackHCI/clusters/updates/updateRuns"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "ArcSettingProperties": {
      "description": "ArcSetting properties.",
      "properties": {
        "arcApplicationClientId": {
          "description": "App id of arc AAD identity.",
          "type": "string"
        },
        "arcApplicationObjectId": {
          "description": "Object id of arc AAD identity.",
          "type": "string"
        },
        "arcApplicationTenantId": {
          "description": "Tenant id of arc AAD identity.",
          "type": "string"
        },
        "arcInstanceResourceGroup": {
          "description": "The resource group that hosts the Arc agents, ie. Hybrid Compute Machine resources.",
          "type": "string"
        },
        "arcServicePrincipalObjectId": {
          "description": "Object id of arc AAD service principal.",
          "type": "string"
        },
        "connectivityProperties": {
          "description": "contains connectivity related configuration for ARC resources",
          "oneOf": [
            {
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ClusterDesiredProperties": {
      "description": "Desired properties of the cluster.",
      "properties": {
        "diagnosticLevel": {
          "description": "Desired level of diagnostic data emitted by the cluster.",
          "oneOf": [
            {
              "enum": [
                "Off",
                "Basic",
                "Enhanced"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "windowsServerSubscription": {
          "description": "Desired state of Windows Server Subscription.",
          "oneOf": [
            {
              "enum": [
                "Disabled",
                "Enabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ClusterProperties": {
      "description": "Cluster properties.",
      "properties": {
        "aadApplicationObjectId": {
          "description": "Object id of cluster AAD identity.",
          "type": "string"
        },
        "aadClientId": {
          "description": "App id of cluster AAD identity.",
          "type": "string"
        },
        "aadServicePrincipalObjectId": {
          "description": "Id of cluster identity service principal.",
          "type": "string"
        },
        "aadTenantId": {
          "description": "Tenant id of cluster AAD identity.",
          "type": "string"
        },
        "cloudManagementEndpoint": {
          "description": "Endpoint configured for management from the Azure portal.",
          "type": "string"
        },
        "desiredProperties": {
          "description": "Desired properties of the cluster.",
          "oneOf": [
            {
              "$ref": "#/definitions/ClusterDesiredProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "softwareAssuranceProperties": {
          "description": "Software Assurance properties of the cluster.",
          "oneOf": [
            {
              "$ref": "#/definitions/SoftwareAssuranceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ExtensionParameters": {
      "description": "Describes the properties of a Machine Extension. This object mirrors the definition in HybridCompute.",
      "properties": {
        "autoUpgradeMinorVersion": {
          "description": "Indicates whether the extension should use a newer minor version if one is available at deployment time. Once deployed, however, the extension will not upgrade minor versions unless redeployed, even with this property set to true.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "enableAutomaticUpgrade": {
          "description": "Indicates whether the extension should be automatically upgraded by the platform if there is a newer version available.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "forceUpdateTag": {
          "description": "How the extension handler should be forced to update even if the extension configuration has not changed.",
          "type": "string"
        },
        "protectedSettings": {
          "description": "Protected settings (may contain secrets).",
          "oneOf": [
            {
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "publisher": {
          "description": "The name of the extension handler publisher.",
          "type": "string"
        },
        "settings": {
          "description": "Json formatted public settings for the extension.",
          "oneOf": [
            {
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "description": "Specifies the type of the extension; an example is \"CustomScriptExtension\".",
          "type": "string"
        },
        "typeHandlerVersion": {
          "description": "Specifies the version of the script handler.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ExtensionProperties": {
      "description": "Status of Arc Extension for a particular node in HCI Cluster.",
      "properties": {
        "extensionParameters": {
          "description": "Parameters specific to this extension type.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExtensionParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ManagedServiceIdentity": {
      "description": "Managed service identity (system assigned and/or user assigned identities)",
      "properties": {
        "type": {
          "description": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed).",
          "oneOf": [
            {
              "enum": [
                "None",
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned, UserAssigned"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedIdentities": {
          "description": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests.",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/UserAssignedIdentity"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "PackageVersionInfo": {
      "description": "Current version of each updatable component.",
      "properties": {
        "lastUpdated": {
          "description": "Last time this component was updated.",
          "format": "date-time",
          "type": "string"
        },
        "packageType": {
          "description": "Package type",
          "type": "string"
        },
        "version": {
          "description": "Package version",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PrecheckResult": {
      "properties": {
        "additionalData": {
          "description": "Property bag of key value pairs for additional information.",
          "type": "string"
        },
        "description": {
          "description": "Detailed overview of the issue and what impact the issue has on the stamp.",
          "type": "string"
        },
        "healthCheckSource": {
          "description": "The name of the services called for the HealthCheck (I.E. Test-AzureStack, Test-Cluster).",
          "type": "string"
        },
        "name": {
          "description": "Name of the individual test/rule/alert that was executed. Unique, not exposed to the customer.",
          "type": "string"
        },
        "remediation": {
          "description": "Set of steps that can be taken to resolve the issue found.",
          "type": "string"
        },
        "severity": {
          "description": "Severity of the result (Critical, Warning, Informational, Hidden). This answers how important the result is. Critical is the only update-blocking severity.",
          "oneOf": [
            {
              "enum": [
                "Critical",
                "Warning",
                "Informational",
                "Hidden"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "status": {
          "description": "The status of the check running (i.e. Failed, Succeeded, In Progress). This answers whether the check ran, and passed or failed.",
          "oneOf": [
            {
              "enum": [
                "NotYetRegistered",
                "ConnectedRecently",
                "NotConnectedRecently",
                "Disconnected",
                "Error",
                "NotSpecified",
                "Succeeded",
                "Failed",
                "InProgress"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Key-value pairs that allow grouping/filtering individual tests.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrecheckResultTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "targetResourceID": {
          "description": "The unique identifier for the affected resource (such as a node or drive).",
          "type": "string"
        },
        "targetResourceName": {
          "description": "The name of the affected resource.",
          "type": "string"
        },
        "timestamp": {
          "description": "The Time in which the HealthCheck was called.",
          "format": "date-time",
          "type": "string"
        },
        "title": {
          "description": "User-facing name; one or more sentences indicating the direct issue.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PrecheckResultTags": {
      "description": "Key-value pairs that allow grouping/filtering individual tests.",
      "properties": {
        "key": {
          "description": "Key that allow grouping/filtering individual tests.",
          "type": "string"
        },
        "value": {
          "description": "Value of the key that allow grouping/filtering individual tests.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SoftwareAssuranceProperties": {
      "description": "Software Assurance properties of the cluster.",
      "properties": {
        "softwareAssuranceIntent": {
          "description": "Customer Intent for Software Assurance Benefit.",
          "oneOf": [
            {
              "enum": [
                "Enable",
                "Disable"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "softwareAssuranceStatus": {
          "description": "Status of the Software Assurance for the cluster.",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Step": {
      "description": "Progress representation of the update run steps.",
      "properties": {
        "description": {
          "description": "More detailed description of the step.",
          "type": "string"
        },
        "endTimeUtc": {
          "description": "When the step reached a terminal state.",
          "format": "date-time",
          "type": "string"
        },
        "errorMessage": {
          "description": "Error message, specified if the step is in a failed state.",
          "type": "string"
        },
        "lastUpdatedTimeUtc": {
          "description": "Completion time of this step or the last completed sub-step.",
          "format": "date-time",
          "type": "string"
        },
        "name": {
          "description": "Name of the step.",
          "type": "string"
        },
        "startTimeUtc": {
          "description": "When the step started, or empty if it has not started executing.",
          "format": "date-time",
          "type": "string"
        },
        "status": {
          "description": "Status of the step, bubbled up from the ECE action plan for installation attempts. Values are: 'Success', 'Error', 'InProgress', and 'Unknown status'.",
          "type": "string"
        },
        "steps": {
          "description": "Recursive model for child steps of this step.",
          "oneOf": [
            {
              "items": {
                "type": "object"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UpdatePrerequisite": {
      "description": "If update State is HasPrerequisite, this property contains an array of objects describing prerequisite updates before installing this update. Otherwise, it is empty.",
      "properties": {
        "packageName": {
          "description": "Friendly name of the prerequisite.",
          "type": "string"
        },
        "updateType": {
          "description": "Updatable component type.",
          "type": "string"
        },
        "version": {
          "description": "Version of the prerequisite.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "UpdateProperties": {
      "description": "Details of a singular Update in HCI Cluster",
      "properties": {
        "additionalProperties": {
          "description": "Extensible KV pairs serialized as a string. This is currently used to report the stamp OEM family and hardware model information when an update is flagged as Invalid for the stamp based on OEM type.",
          "type": "string"
        },
        "availabilityType": {
          "description": "Indicates the way the update content can be downloaded.",
          "oneOf": [
            {
              "enum": [
                "Local",
                "Online",
                "Notify"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "componentVersions": {
          "description": "An array of component versions for a Solution Bundle update, and an empty array otherwise.  ",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/PackageVersionInfo"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "description": {
          "description": "Description of the update.",
          "type": "string"
        },
        "displayName": {
          "description": "Display name of the Update",
          "type": "string"
        },
        "healthCheckDate": {
          "description": "Last time the package-specific checks were run.",
          "format": "date-time",
          "type": "string"
        },
        "healthCheckResult": {
          "description": "An array of PrecheckResult objects.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/PrecheckResult"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "healthState": {
          "description": "Overall health state for update-specific health checks.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Success",
                "Failure",
                "Warning",
                "Error",
                "InProgress"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "installedDate": {
          "description": "Date that the update was installed.",
          "format": "date-time",
          "type": "string"
        },
        "packagePath": {
          "description": "Path where the update package is available.",
          "type": "string"
        },
        "packageSizeInMb": {
          "description": "Size of the package. This value is a combination of the size from update metadata and size of the payload that results from the live scan operation for OS update content.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "packageType": {
          "description": "Customer-visible type of the update.",
          "type": "string"
        },
        "prerequisites": {
          "description": "If update State is HasPrerequisite, this property contains an array of objects describing prerequisite updates before installing this update. Otherwise, it is empty.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/UpdatePrerequisite"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "publisher": {
          "description": "Publisher of the update package.",
          "type": "string"
        },
        "rebootRequired": {
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "True",
                "False"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "releaseLink": {
          "description": "Link to release notes for the update.",
          "type": "string"
        },
        "state": {
          "description": "State of the update as it relates to this stamp.",
          "oneOf": [
            {
              "enum": [
                "HasPrerequisite",
                "Obsolete",
                "Ready",
                "NotApplicableBecauseAnotherUpdateIsInProgress",
                "Preparing",
                "Installing",
                "Installed",
                "PreparationFailed",
                "InstallationFailed",
                "Invalid",
                "Recalled",
                "Downloading",
                "DownloadFailed",
                "HealthChecking",
                "HealthCheckFailed",
                "ReadyToInstall",
                "ScanInProgress",
                "ScanFailed"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "updateStateProperties": {
          "description": "Additional information regarding the state of the update. See definition of UpdateStateProperties type below for more details on this property.",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateStateProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "version": {
          "description": "Version of the update.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "UpdateRunProperties": {
      "description": "Details of an Update run",
      "properties": {
        "duration": {
          "description": "Duration of the update run.",
          "type": "string"
        },
        "lastUpdatedTime": {
          "description": "Timestamp of the most recently completed step in the update run.",
          "format": "date-time",
          "type": "string"
        },
        "progress": {
          "description": "Progress representation of the update run steps.",
          "oneOf": [
            {
              "$ref": "#/definitions/Step"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "state": {
          "description": "State of the update run.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Succeeded",
                "InProgress",
                "Failed"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeStarted": {
          "description": "Timestamp of the update run was started.",
          "format": "date-time",
          "type": "string"
        }
      },
      "type": "object"
    },
    "UpdateStateProperties": {
      "description": "Additional information regarding the state of the update. See definition of UpdateStateProperties type below for more details on this property.",
      "properties": {
        "notifyMessage": {
          "description": "Brief message with instructions for updates of AvailabilityType Notify.",
          "type": "string"
        },
        "progressPercentage": {
          "description": "Progress percentage of ongoing operation. Currently this property is only valid when the update is in the Downloading state, where it maps to how much of the update content has been downloaded.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UpdateSummariesProperties": {
      "description": "Properties of Update summaries",
      "properties": {
        "currentVersion": {
          "description": "Current Solution Bundle version of the stamp.",
          "type": "string"
        },
        "hardwareModel": {
          "description": "Name of the hardware model.",
          "type": "string"
        },
        "healthCheckDate": {
          "description": "Last time the package-specific checks were run.",
          "format": "date-time",
          "type": "string"
        },
        "healthCheckResult": {
          "description": "An array of pre-check result objects.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/PrecheckResult"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "healthState": {
          "description": "Overall health state for update-specific health checks.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Success",
                "Failure",
                "Warning",
                "Error",
                "InProgress"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "lastChecked": {
          "description": "Last time the update service successfully checked for updates",
          "format": "date-time",
          "type": "string"
        },
        "lastUpdated": {
          "description": "Last time an update installation completed successfully.",
          "format": "date-time",
          "type": "string"
        },
        "oemFamily": {
          "description": "OEM family name.",
          "type": "string"
        },
        "packageVersions": {
          "description": "Current version of each updatable component.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/PackageVersionInfo"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "state": {
          "description": "Overall update state of the stamp.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "AppliedSuccessfully",
                "UpdateAvailable",
                "UpdateInProgress",
                "UpdateFailed",
                "NeedsAttention",
                "PreparationInProgress",
                "PreparationFailed"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UserAssignedIdentity": {
      "description": "User assigned identity properties",
      "properties": {},
      "type": "object"
    },
    "clusters_arcSettings_childResource": {
      "description": "Microsoft.AzureStackHCI/clusters/arcSettings",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the proxy resource holding details of HCI ArcSetting information.",
          "type": "string"
        },
        "properties": {
          "description": "ArcSetting properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ArcSettingProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "arcSettings"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_arcSettings_extensions_childResource": {
      "description": "Microsoft.AzureStackHCI/clusters/arcSettings/extensions",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the machine extension.",
          "type": "string"
        },
        "properties": {
          "description": "Describes Machine Extension Properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExtensionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "extensions"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updateSummaries_childResource": {
      "description": "Microsoft.AzureStackHCI/clusters/updateSummaries",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "oneOf": [
            {
              "enum": [
                "default"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Update summaries properties",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateSummariesProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "updateSummaries"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updates_childResource": {
      "description": "Microsoft.AzureStackHCI/clusters/updates",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the Update",
          "type": "string"
        },
        "properties": {
          "description": "Update properties",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "updates"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "clusters_updates_updateRuns_childResource": {
      "description": "Microsoft.AzureStackHCI/clusters/updates/updateRuns",
      "properties": {
        "apiVersion": {
          "enum": [
            "2022-12-01"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the Update Run",
          "type": "string"
        },
        "properties": {
          "description": "Describes Update Run Properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "updateRuns"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  }
}