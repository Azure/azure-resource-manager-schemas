{
  "id": "https://schema.management.azure.com/schemas/2023-01-01-preview/Microsoft.ContainerRegistry.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.ContainerRegistry",
  "description": "Microsoft ContainerRegistry Resource Types",
  "resourceDefinitions": {
    "registries": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "location": {
          "type": "string",
          "description": "The location of the resource. This cannot be changed after the resource is created."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the container registry."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/RegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a container registry."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/registries_cacheRules_childResource"
              },
              {
                "$ref": "#/definitions/registries_connectedRegistries_childResource"
              },
              {
                "$ref": "#/definitions/registries_credentialSets_childResource"
              },
              {
                "$ref": "#/definitions/registries_exportPipelines_childResource"
              },
              {
                "$ref": "#/definitions/registries_importPipelines_childResource"
              },
              {
                "$ref": "#/definitions/registries_pipelineRuns_childResource"
              },
              {
                "$ref": "#/definitions/registries_privateEndpointConnections_childResource"
              },
              {
                "$ref": "#/definitions/registries_replications_childResource"
              },
              {
                "$ref": "#/definitions/registries_scopeMaps_childResource"
              },
              {
                "$ref": "#/definitions/registries_tokens_childResource"
              },
              {
                "$ref": "#/definitions/registries_webhooks_childResource"
              }
            ]
          }
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/Sku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU of a container registry."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The tags of the resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "sku",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries"
    },
    "registries_cacheRules": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the cache rule."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/CacheRuleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a cache rule."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/cacheRules"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/cacheRules"
    },
    "registries_connectedRegistries": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the connected registry."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectedRegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a connected registry."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/connectedRegistries"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/connectedRegistries"
    },
    "registries_credentialSets": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the credential set."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/CredentialSetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a credential set resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/credentialSets"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/credentialSets"
    },
    "registries_exportPipelines": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "location": {
          "type": "string",
          "description": "The location of the export pipeline."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the export pipeline."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an export pipeline."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/exportPipelines"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/exportPipelines"
    },
    "registries_importPipelines": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "location": {
          "type": "string",
          "description": "The location of the import pipeline."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the import pipeline."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an import pipeline."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/importPipelines"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/importPipelines"
    },
    "registries_pipelineRuns": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the pipeline run."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a pipeline run."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/pipelineRuns"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/pipelineRuns"
    },
    "registries_privateEndpointConnections": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the private endpoint connection."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpointConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a private endpoint connection."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/privateEndpointConnections"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/privateEndpointConnections"
    },
    "registries_replications": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The location of the resource. This cannot be changed after the resource is created."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the replication."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ReplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a replication."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The tags of the resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/replications"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/replications"
    },
    "registries_scopeMaps": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-_]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the scope map."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ScopeMapProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a scope map."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/scopeMaps"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/scopeMaps"
    },
    "registries_tokens": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the token."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/TokenProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a token."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/tokens"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/tokens"
    },
    "registries_webhooks": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The location of the webhook. This cannot be changed after the resource is created."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the webhook."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/WebhookPropertiesCreateParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The parameters for creating the properties of a webhook."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The tags for the webhook."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerRegistry/registries/webhooks"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/webhooks"
    }
  },
  "definitions": {
    "AuthCredential": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Credential1"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the credential."
        },
        "passwordSecretIdentifier": {
          "type": "string",
          "description": "KeyVault Secret URI for accessing the password."
        },
        "usernameSecretIdentifier": {
          "type": "string",
          "description": "KeyVault Secret URI for accessing the username."
        }
      },
      "description": "Authentication credential stored for an upstream."
    },
    "AzureADAuthenticationAsArmPolicy": {
      "type": "object",
      "properties": {
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        }
      },
      "description": "The policy for using ARM audience token for a container registry."
    },
    "CacheRuleProperties": {
      "type": "object",
      "properties": {
        "credentialSetResourceId": {
          "type": "string",
          "description": "The ARM resource ID of the credential store which is associated with the cache rule."
        },
        "sourceRepository": {
          "type": "string",
          "description": "Source repository pulled from upstream."
        },
        "targetRepository": {
          "type": "string",
          "description": "Target repository specified in docker pull command.\r\nEg: docker pull myregistry.azurecr.io/{targetRepository}:{tag}"
        }
      },
      "description": "The properties of a cache rule."
    },
    "ConnectedRegistryProperties": {
      "type": "object",
      "properties": {
        "clientTokenIds": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of the ACR token resource IDs used to authenticate clients to the connected registry."
        },
        "logging": {
          "oneOf": [
            {
              "$ref": "#/definitions/LoggingProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The logging properties of the connected registry."
        },
        "loginServer": {
          "oneOf": [
            {
              "$ref": "#/definitions/LoginServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The login server properties of the connected registry."
        },
        "mode": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ReadWrite",
                "ReadOnly",
                "Registry",
                "Mirror"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The mode of the connected registry resource that indicates the permissions of the registry."
        },
        "notificationsList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of notifications subscription information for the connected registry."
        },
        "parent": {
          "oneOf": [
            {
              "$ref": "#/definitions/ParentProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of the connected registry parent."
        }
      },
      "required": [
        "mode",
        "parent"
      ],
      "description": "The properties of a connected registry."
    },
    "CredentialSetProperties": {
      "type": "object",
      "properties": {
        "authCredentials": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AuthCredential"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of authentication credentials stored for an upstream.\r\nUsually consists of a primary and an optional secondary credential."
        },
        "loginServer": {
          "type": "string",
          "description": "The credentials are stored for this upstream or login server."
        }
      },
      "description": "The properties of a credential set resource."
    },
    "EncryptionProperty": {
      "type": "object",
      "properties": {
        "keyVaultProperties": {
          "oneOf": [
            {
              "$ref": "#/definitions/KeyVaultProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Indicates whether or not the encryption is enabled for container registry."
        }
      }
    },
    "ExportPipelineProperties": {
      "type": "object",
      "properties": {
        "options": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "OverwriteTags",
                  "OverwriteBlobs",
                  "DeleteSourceBlobOnSuccess",
                  "ContinueOnErrors"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of all options configured for the pipeline."
        },
        "target": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineTargetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of the export pipeline target."
        }
      },
      "required": [
        "target"
      ],
      "description": "The properties of an export pipeline."
    },
    "ExportPipelineTargetProperties": {
      "type": "object",
      "properties": {
        "keyVaultUri": {
          "type": "string",
          "description": "They key vault secret uri to obtain the target storage SAS token."
        },
        "type": {
          "type": "string",
          "description": "The type of target for the export pipeline."
        },
        "uri": {
          "type": "string",
          "description": "The target uri of the export pipeline.\r\nWhen 'AzureStorageBlob': \"https://accountName.blob.core.windows.net/containerName/blobName\"\r\nWhen 'AzureStorageBlobContainer':  \"https://accountName.blob.core.windows.net/containerName\""
        }
      },
      "required": [
        "keyVaultUri"
      ],
      "description": "The properties of the export pipeline target."
    },
    "ExportPolicy": {
      "type": "object",
      "properties": {
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        }
      },
      "description": "The export policy for a container registry."
    },
    "IdentityProperties": {
      "type": "object",
      "properties": {
        "principalId": {
          "type": "string",
          "description": "The principal ID of resource identity."
        },
        "tenantId": {
          "type": "string",
          "description": "The tenant ID of resource."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned, UserAssigned",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The identity type."
        },
        "userAssignedIdentities": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/UserIdentityProperties"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of user identities associated with the resource. The user identity \r\ndictionary key references will be ARM resource ids in the form: \r\n'/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/\r\n    providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'."
        }
      },
      "description": "Managed identity for the resource."
    },
    "ImportPipelineProperties": {
      "type": "object",
      "properties": {
        "options": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "OverwriteTags",
                  "OverwriteBlobs",
                  "DeleteSourceBlobOnSuccess",
                  "ContinueOnErrors"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of all options configured for the pipeline."
        },
        "source": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineSourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of the import pipeline source."
        },
        "trigger": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineTriggerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "source"
      ],
      "description": "The properties of an import pipeline."
    },
    "ImportPipelineSourceProperties": {
      "type": "object",
      "properties": {
        "keyVaultUri": {
          "type": "string",
          "description": "They key vault secret uri to obtain the source storage SAS token."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureStorageBlobContainer"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of source for the import pipeline."
        },
        "uri": {
          "type": "string",
          "description": "The source uri of the import pipeline.\r\nWhen 'AzureStorageBlob': \"https://accountName.blob.core.windows.net/containerName/blobName\"\r\nWhen 'AzureStorageBlobContainer': \"https://accountName.blob.core.windows.net/containerName\""
        }
      },
      "required": [
        "keyVaultUri"
      ],
      "description": "The properties of the import pipeline source."
    },
    "IPRule": {
      "type": "object",
      "properties": {
        "action": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Allow"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The action of IP ACL rule."
        },
        "value": {
          "type": "string",
          "description": "Specifies the IP or IP range in CIDR format. Only IPV4 address is allowed."
        }
      },
      "required": [
        "value"
      ],
      "description": "IP rule with specific IP or IP range in CIDR format."
    },
    "KeyVaultProperties": {
      "type": "object",
      "properties": {
        "identity": {
          "type": "string",
          "description": "The client id of the identity which will be used to access key vault."
        },
        "keyIdentifier": {
          "type": "string",
          "description": "Key vault uri to access the encryption key."
        }
      }
    },
    "LoggingProperties": {
      "type": "object",
      "properties": {
        "auditLogStatus": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Indicates whether audit logs are enabled on the connected registry."
        },
        "logLevel": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Debug",
                "Information",
                "Warning",
                "Error",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The verbosity of logs persisted on the connected registry."
        }
      },
      "description": "The logging properties of the connected registry."
    },
    "LoginServerProperties": {
      "type": "object",
      "properties": {},
      "description": "The login server properties of the connected registry."
    },
    "NetworkRuleSet": {
      "type": "object",
      "properties": {
        "defaultAction": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Allow",
                "Deny"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The default action of allow or deny when no other rules match."
        },
        "ipRules": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/IPRule"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The IP ACL rules."
        }
      },
      "required": [
        "defaultAction"
      ],
      "description": "The network rule set for a container registry."
    },
    "ParentProperties": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "The resource ID of the parent to which the connected registry will be associated."
        },
        "syncProperties": {
          "oneOf": [
            {
              "$ref": "#/definitions/SyncProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The sync properties of the connected registry with its parent."
        }
      },
      "required": [
        "syncProperties"
      ],
      "description": "The properties of the connected registry parent."
    },
    "PipelineRunProperties": {
      "type": "object",
      "properties": {
        "forceUpdateTag": {
          "type": "string",
          "description": "How the pipeline run should be forced to recreate even if the pipeline run configuration has not changed."
        },
        "request": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunRequest"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The request properties provided for a pipeline run."
        }
      },
      "description": "The properties of a pipeline run."
    },
    "PipelineRunRequest": {
      "type": "object",
      "properties": {
        "artifacts": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of source artifacts to be transferred by the pipeline. \r\nSpecify an image by repository ('hello-world'). This will use the 'latest' tag.\r\nSpecify an image by tag ('hello-world:latest').\r\nSpecify an image by sha256-based manifest digest ('hello-world@sha256:abc123')."
        },
        "catalogDigest": {
          "type": "string",
          "description": "The digest of the tar used to transfer the artifacts."
        },
        "pipelineResourceId": {
          "type": "string",
          "description": "The resource ID of the pipeline to run."
        },
        "source": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunSourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "target": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunTargetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "description": "The request properties provided for a pipeline run."
    },
    "PipelineRunSourceProperties": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the source."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureStorageBlob"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of the source."
        }
      }
    },
    "PipelineRunTargetProperties": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the target."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureStorageBlob"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of the target."
        }
      }
    },
    "PipelineSourceTriggerProperties": {
      "type": "object",
      "properties": {
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The current status of the source trigger."
        }
      },
      "required": [
        "status"
      ]
    },
    "PipelineTriggerProperties": {
      "type": "object",
      "properties": {
        "sourceTrigger": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineSourceTriggerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      }
    },
    "Policies": {
      "type": "object",
      "properties": {
        "azureADAuthenticationAsArmPolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/AzureADAuthenticationAsArmPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The policy for using ARM audience token for a container registry."
        },
        "exportPolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The export policy for a container registry."
        },
        "quarantinePolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/QuarantinePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The quarantine policy for a container registry."
        },
        "retentionPolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The retention policy for a container registry."
        },
        "softDeletePolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/SoftDeletePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The soft delete policy for a container registry"
        },
        "trustPolicy": {
          "oneOf": [
            {
              "$ref": "#/definitions/TrustPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The content trust policy for a container registry."
        }
      },
      "description": "The policies for a container registry."
    },
    "PrivateEndpoint": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "This is private endpoint resource created with Microsoft.Network resource provider."
        }
      },
      "description": "The Private Endpoint resource."
    },
    "PrivateEndpointConnectionProperties": {
      "type": "object",
      "properties": {
        "privateEndpoint": {
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpoint"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The Private Endpoint resource."
        },
        "privateLinkServiceConnectionState": {
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateLinkServiceConnectionState"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The state of a private link service connection."
        }
      },
      "description": "The properties of a private endpoint connection."
    },
    "PrivateLinkServiceConnectionState": {
      "type": "object",
      "properties": {
        "actionsRequired": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "None",
                "Recreate"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A message indicating if changes on the service provider require any updates on the consumer."
        },
        "description": {
          "type": "string",
          "description": "The description for connection status. For example if connection is rejected it can indicate reason for rejection."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Approved",
                "Pending",
                "Rejected",
                "Disconnected"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The private link service connection status."
        }
      },
      "description": "The state of a private link service connection."
    },
    "QuarantinePolicy": {
      "type": "object",
      "properties": {
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        }
      },
      "description": "The quarantine policy for a container registry."
    },
    "registries_cacheRules_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the cache rule."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/CacheRuleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a cache rule."
        },
        "type": {
          "type": "string",
          "enum": [
            "cacheRules"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/cacheRules"
    },
    "registries_connectedRegistries_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the connected registry."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectedRegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a connected registry."
        },
        "type": {
          "type": "string",
          "enum": [
            "connectedRegistries"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/connectedRegistries"
    },
    "registries_credentialSets_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the credential set."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/CredentialSetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a credential set resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "credentialSets"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/credentialSets"
    },
    "registries_exportPipelines_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "location": {
          "type": "string",
          "description": "The location of the export pipeline."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the export pipeline."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an export pipeline."
        },
        "type": {
          "type": "string",
          "enum": [
            "exportPipelines"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/exportPipelines"
    },
    "registries_importPipelines_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity for the resource."
        },
        "location": {
          "type": "string",
          "description": "The location of the import pipeline."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the import pipeline."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of an import pipeline."
        },
        "type": {
          "type": "string",
          "enum": [
            "importPipelines"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/importPipelines"
    },
    "registries_pipelineRuns_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the pipeline run."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a pipeline run."
        },
        "type": {
          "type": "string",
          "enum": [
            "pipelineRuns"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/pipelineRuns"
    },
    "registries_privateEndpointConnections_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the private endpoint connection."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpointConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a private endpoint connection."
        },
        "type": {
          "type": "string",
          "enum": [
            "privateEndpointConnections"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/privateEndpointConnections"
    },
    "registries_replications_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The location of the resource. This cannot be changed after the resource is created."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the replication."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ReplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a replication."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The tags of the resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "replications"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/replications"
    },
    "registries_scopeMaps_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-_]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the scope map."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ScopeMapProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a scope map."
        },
        "type": {
          "type": "string",
          "enum": [
            "scopeMaps"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/scopeMaps"
    },
    "registries_tokens_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9-]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the token."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/TokenProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of a token."
        },
        "type": {
          "type": "string",
          "enum": [
            "tokens"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/tokens"
    },
    "registries_webhooks_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The location of the webhook. This cannot be changed after the resource is created."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]*$",
              "minLength": 5,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the webhook."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/WebhookPropertiesCreateParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The parameters for creating the properties of a webhook."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The tags for the webhook."
        },
        "type": {
          "type": "string",
          "enum": [
            "webhooks"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.ContainerRegistry/registries/webhooks"
    },
    "RegistryProperties": {
      "type": "object",
      "properties": {
        "adminUserEnabled": {
          "oneOf": [
            {
              "type": "boolean",
              "default": false
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the admin user is enabled."
        },
        "anonymousPullEnabled": {
          "oneOf": [
            {
              "type": "boolean",
              "default": false
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Enables registry-wide pull from unauthenticated clients."
        },
        "dataEndpointEnabled": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Enable a single data endpoint per region for serving data."
        },
        "encryption": {
          "oneOf": [
            {
              "$ref": "#/definitions/EncryptionProperty"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "networkRuleBypassOptions": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "AzureServices",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether to allow trusted Azure services to access a network restricted registry."
        },
        "networkRuleSet": {
          "oneOf": [
            {
              "$ref": "#/definitions/NetworkRuleSet"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The network rule set for a container registry."
        },
        "policies": {
          "oneOf": [
            {
              "$ref": "#/definitions/Policies"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The policies for a container registry."
        },
        "publicNetworkAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether or not public network access is allowed for the container registry."
        },
        "zoneRedundancy": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether or not zone redundancy is enabled for this container registry."
        }
      },
      "description": "The properties of a container registry."
    },
    "ReplicationProperties": {
      "type": "object",
      "properties": {
        "regionEndpointEnabled": {
          "oneOf": [
            {
              "type": "boolean",
              "default": true
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies whether the replication's regional endpoint is enabled. Requests will not be routed to a replication whose regional endpoint is disabled, however its data will continue to be synced with other replications."
        },
        "zoneRedundancy": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether or not zone redundancy is enabled for this container registry replication."
        }
      },
      "description": "The properties of a replication."
    },
    "RetentionPolicy": {
      "type": "object",
      "properties": {
        "days": {
          "oneOf": [
            {
              "type": "integer",
              "default": "7"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The number of days to retain an untagged manifest after which it gets purged."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        }
      },
      "description": "The retention policy for a container registry."
    },
    "ScopeMapProperties": {
      "type": "object",
      "properties": {
        "actions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of scoped permissions for registry artifacts.\r\nE.g. repositories/repository-name/content/read,\r\nrepositories/repository-name/metadata/write"
        },
        "description": {
          "type": "string",
          "description": "The user friendly description of the scope map."
        }
      },
      "required": [
        "actions"
      ],
      "description": "The properties of a scope map."
    },
    "Sku": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Classic",
                "Basic",
                "Standard",
                "Premium"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU name of the container registry. Required for registry creation."
        }
      },
      "required": [
        "name"
      ],
      "description": "The SKU of a container registry."
    },
    "SoftDeletePolicy": {
      "type": "object",
      "properties": {
        "retentionDays": {
          "oneOf": [
            {
              "type": "integer",
              "default": "7"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The number of days after which a soft-deleted item is permanently deleted."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        }
      },
      "description": "The soft delete policy for a container registry"
    },
    "SyncProperties": {
      "type": "object",
      "properties": {
        "messageTtl": {
          "type": "string",
          "format": "duration",
          "description": "The period of time for which a message is available to sync before it is expired. Specify the duration using the format P[n]Y[n]M[n]DT[n]H[n]M[n]S as per ISO8601."
        },
        "schedule": {
          "type": "string",
          "description": "The cron expression indicating the schedule that the connected registry will sync with its parent."
        },
        "syncWindow": {
          "type": "string",
          "format": "duration",
          "description": "The time window during which sync is enabled for each schedule occurrence. Specify the duration using the format P[n]Y[n]M[n]DT[n]H[n]M[n]S as per ISO8601."
        },
        "tokenId": {
          "type": "string",
          "description": "The resource ID of the ACR token used to authenticate the connected registry to its parent during sync."
        }
      },
      "required": [
        "messageTtl",
        "tokenId"
      ],
      "description": "The sync properties of the connected registry with its parent."
    },
    "TokenCertificate": {
      "type": "object",
      "properties": {
        "encodedPemCertificate": {
          "type": "string",
          "description": "Base 64 encoded string of the public certificate1 in PEM format that will be used for authenticating the token."
        },
        "expiry": {
          "type": "string",
          "format": "date-time",
          "description": "The expiry datetime of the certificate."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "certificate1",
                "certificate2"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "thumbprint": {
          "type": "string",
          "description": "The thumbprint of the certificate."
        }
      },
      "description": "The properties of a certificate used for authenticating a token."
    },
    "TokenCredentialsProperties": {
      "type": "object",
      "properties": {
        "certificates": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TokenCertificate"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "passwords": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TokenPassword"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "description": "The properties of the credentials that can be used for authenticating the token."
    },
    "TokenPassword": {
      "type": "object",
      "properties": {
        "creationTime": {
          "type": "string",
          "format": "date-time",
          "description": "The creation datetime of the password."
        },
        "expiry": {
          "type": "string",
          "format": "date-time",
          "description": "The expiry datetime of the password."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "password1",
                "password2"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The password name \"password1\" or \"password2\"."
        }
      },
      "description": "The password that will be used for authenticating the token of a container registry."
    },
    "TokenProperties": {
      "type": "object",
      "properties": {
        "credentials": {
          "oneOf": [
            {
              "$ref": "#/definitions/TokenCredentialsProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The properties of the credentials that can be used for authenticating the token."
        },
        "scopeMapId": {
          "type": "string",
          "description": "The resource ID of the scope map to which the token will be associated with."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The status of the token example enabled or disabled."
        }
      },
      "description": "The properties of a token."
    },
    "TrustPolicy": {
      "type": "object",
      "properties": {
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The value that indicates whether the policy is enabled or not."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Notary"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of trust policy."
        }
      },
      "description": "The content trust policy for a container registry."
    },
    "UserIdentityProperties": {
      "type": "object",
      "properties": {
        "clientId": {
          "type": "string",
          "description": "The client id of user assigned identity."
        },
        "principalId": {
          "type": "string",
          "description": "The principal id of user assigned identity."
        }
      }
    },
    "WebhookPropertiesCreateParameters": {
      "type": "object",
      "properties": {
        "actions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "push",
                  "delete",
                  "quarantine",
                  "chart_push",
                  "chart_delete"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of actions that trigger the webhook to post notifications."
        },
        "customHeaders": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Custom headers that will be added to the webhook notifications."
        },
        "scope": {
          "type": "string",
          "description": "The scope of repositories where the event can be triggered. For example, 'foo:*' means events for all tags under repository 'foo'. 'foo:bar' means events for 'foo:bar' only. 'foo' is equivalent to 'foo:latest'. Empty means all events."
        },
        "serviceUri": {
          "type": "string",
          "description": "The service URI for the webhook to post notifications."
        },
        "status": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "enabled",
                "disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The status of the webhook at the time the operation was called."
        }
      },
      "required": [
        "actions",
        "serviceUri"
      ],
      "description": "The parameters for creating the properties of a webhook."
    }
  }
}