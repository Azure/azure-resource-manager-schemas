{
  "id": "https://schema.management.azure.com/schemas/2023-01-01/Microsoft.DataProtection.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.DataProtection",
  "description": "Microsoft DataProtection Resource Types",
  "resourceDefinitions": {
    "backupVaults": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "eTag": {
          "type": "string",
          "description": "Optional ETag."
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/DppIdentityDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Identity details"
        },
        "location": {
          "type": "string",
          "description": "Resource location."
        },
        "name": {
          "type": "string",
          "description": "The name of the backup vault."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupVault"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Backup Vault"
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/backupVaults_backupPolicies_childResource"
              },
              {
                "$ref": "#/definitions/backupVaults_backupInstances_childResource"
              }
            ]
          }
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults"
    },
    "backupVaults_backupInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the backup instance."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupInstance"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Backup Instance"
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Proxy Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances"
    },
    "backupVaults_backupPolicies": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "name": {
          "type": "string",
          "description": "Name of the policy"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BaseBackupPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupPolicy base"
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/backupVaults/backupPolicies"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupPolicies"
    },
    "resourceGuards": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "eTag": {
          "type": "string",
          "description": "Optional ETag."
        },
        "location": {
          "type": "string",
          "description": "Resource location."
        },
        "name": {
          "type": "string",
          "description": "The name of ResourceGuard"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/ResourceGuard"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.DataProtection/resourceGuards"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/resourceGuards"
    }
  },
  "definitions": {
    "AbsoluteDeleteOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "AbsoluteDeleteOption"
          ]
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Delete option with duration"
    },
    "AdhocBasedTaggingCriteria": {
      "type": "object",
      "properties": {
        "tagInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionTag"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention tag"
        }
      },
      "description": "Adhoc backup tagging criteria"
    },
    "AdhocBasedTriggerContext": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "AdhocBasedTriggerContext"
          ]
        },
        "taggingCriteria": {
          "oneOf": [
            {
              "$ref": "#/definitions/AdhocBasedTaggingCriteria"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Adhoc backup tagging criteria"
        }
      },
      "required": [
        "objectType",
        "taggingCriteria"
      ],
      "description": "Adhoc trigger context"
    },
    "AuthCredentials": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/SecretStoreBasedAuthCredentials"
        }
      ],
      "properties": {},
      "description": "Base class for different types of authentication credentials."
    },
    "AzureBackupParams": {
      "type": "object",
      "properties": {
        "backupType": {
          "type": "string",
          "description": "BackupType ; Full/Incremental etc"
        },
        "objectType": {
          "type": "string",
          "enum": [
            "AzureBackupParams"
          ]
        }
      },
      "required": [
        "backupType",
        "objectType"
      ],
      "description": "Azure backup parameters"
    },
    "AzureBackupRule": {
      "type": "object",
      "properties": {
        "backupParameters": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupParameters base"
        },
        "dataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DataStoreInfo base"
        },
        "objectType": {
          "type": "string",
          "enum": [
            "AzureBackupRule"
          ]
        },
        "trigger": {
          "oneOf": [
            {
              "$ref": "#/definitions/TriggerContext"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Trigger context"
        }
      },
      "required": [
        "dataStore",
        "objectType",
        "trigger"
      ],
      "description": "Azure backup rule"
    },
    "AzureMonitorAlertSettings": {
      "type": "object",
      "properties": {
        "alertsForAllJobFailures": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "description": "Settings for Azure Monitor based alerts"
    },
    "AzureOperationalStoreParameters": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "AzureOperationalStoreParameters"
          ]
        },
        "resourceGroupId": {
          "type": "string",
          "description": "Gets or sets the Snapshot Resource Group Uri."
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Parameters for Operational-Tier DataStore"
    },
    "AzureRetentionRule": {
      "type": "object",
      "properties": {
        "isDefault": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "lifecycles": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SourceLifeCycle"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "objectType": {
          "type": "string",
          "enum": [
            "AzureRetentionRule"
          ]
        }
      },
      "required": [
        "lifecycles",
        "objectType"
      ],
      "description": "Azure retention rule"
    },
    "BackupCriteria": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/ScheduleBasedBackupCriteria"
        }
      ],
      "properties": {},
      "description": "BackupCriteria base class"
    },
    "BackupDatasourceParameters": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/KubernetesClusterBackupDatasourceParameters"
        },
        {
          "$ref": "#/definitions/BlobBackupDatasourceParameters"
        }
      ],
      "properties": {},
      "description": "Parameters for Backup Datasource"
    },
    "BackupInstance": {
      "type": "object",
      "properties": {
        "datasourceAuthCredentials": {
          "oneOf": [
            {
              "$ref": "#/definitions/AuthCredentials"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Base class for different types of authentication credentials."
        },
        "dataSourceInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/Datasource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Datasource to be backed up"
        },
        "dataSourceSetInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/DatasourceSet"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DatasourceSet details of datasource to be backed up"
        },
        "friendlyName": {
          "type": "string",
          "description": "Gets or sets the Backup Instance friendly name."
        },
        "objectType": {
          "type": "string"
        },
        "policyInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/PolicyInfo"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Policy Info in backupInstance"
        },
        "validationType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ShallowValidation",
                "DeepValidation"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the type of validation. In case of DeepValidation, all validations from /validateForBackup API will run again."
        }
      },
      "required": [
        "dataSourceInfo",
        "objectType",
        "policyInfo"
      ],
      "description": "Backup Instance"
    },
    "BackupParameters": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/AzureBackupParams"
        }
      ],
      "properties": {},
      "description": "BackupParameters base"
    },
    "BackupPolicy": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "BackupPolicy"
          ]
        },
        "policyRules": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BasePolicyRule"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Policy rule dictionary that contains rules for each backuptype i.e Full/Incremental/Logs etc"
        }
      },
      "required": [
        "objectType",
        "policyRules"
      ],
      "description": "Rule based backup policy"
    },
    "BackupSchedule": {
      "type": "object",
      "properties": {
        "repeatingTimeIntervals": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "ISO 8601 repeating time interval format"
        },
        "timeZone": {
          "type": "string",
          "description": "Time zone for a schedule. Example: Pacific Standard Time"
        }
      },
      "required": [
        "repeatingTimeIntervals"
      ],
      "description": "Schedule for backup"
    },
    "BackupVault": {
      "type": "object",
      "properties": {
        "featureSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/FeatureSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Class containing feature settings of vault"
        },
        "monitoringSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/MonitoringSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Monitoring Settings"
        },
        "securitySettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/SecuritySettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Class containing security settings of vault"
        },
        "storageSettings": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageSetting"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Storage Settings"
        }
      },
      "required": [
        "storageSettings"
      ],
      "description": "Backup Vault"
    },
    "backupVaults_backupInstances_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "name": {
          "type": "string",
          "description": "The name of the backup instance."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupInstance"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Backup Instance"
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Proxy Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "backupInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupInstances"
    },
    "backupVaults_backupPolicies_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2023-01-01"
          ]
        },
        "name": {
          "type": "string",
          "description": "Name of the policy"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/BaseBackupPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "BackupPolicy base"
        },
        "systemData": {
          "oneOf": [
            {
              "$ref": "#/definitions/SystemData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Metadata pertaining to creation and last modification of the resource."
        },
        "type": {
          "type": "string",
          "enum": [
            "backupPolicies"
          ]
        }
      },
      "required": [
        "apiVersion",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.DataProtection/backupVaults/backupPolicies"
    },
    "BaseBackupPolicy": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/BackupPolicy"
        }
      ],
      "properties": {
        "datasourceTypes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of datasource for the backup management"
        }
      },
      "required": [
        "datasourceTypes"
      ],
      "description": "BackupPolicy base"
    },
    "BasePolicyRule": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/AzureBackupRule"
        },
        {
          "$ref": "#/definitions/AzureRetentionRule"
        }
      ],
      "properties": {
        "name": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "description": "BasePolicy Rule"
    },
    "BlobBackupDatasourceParameters": {
      "type": "object",
      "properties": {
        "containersList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of containers to be backed up during configuration of backup of blobs"
        },
        "objectType": {
          "type": "string",
          "enum": [
            "BlobBackupDatasourceParameters"
          ]
        }
      },
      "required": [
        "containersList",
        "objectType"
      ],
      "description": "Parameters to be used during configuration of backup of blobs"
    },
    "CopyOnExpiryOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "CopyOnExpiryOption"
          ]
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Copy on Expiry Option"
    },
    "CopyOption": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/CopyOnExpiryOption"
        },
        {
          "$ref": "#/definitions/CustomCopyOption"
        },
        {
          "$ref": "#/definitions/ImmediateCopyOption"
        }
      ],
      "properties": {},
      "description": "Options to copy"
    },
    "CrossSubscriptionRestoreSettings": {
      "type": "object",
      "properties": {
        "state": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Disabled",
                "PermanentlyDisabled",
                "Enabled"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "CrossSubscriptionRestore state."
        }
      },
      "description": "CrossSubscriptionRestore Settings"
    },
    "CustomCopyOption": {
      "type": "object",
      "properties": {
        "duration": {
          "type": "string",
          "description": "Data copied after given timespan"
        },
        "objectType": {
          "type": "string",
          "enum": [
            "CustomCopyOption"
          ]
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Duration based custom options to copy"
    },
    "Datasource": {
      "type": "object",
      "properties": {
        "datasourceType": {
          "type": "string",
          "description": "DatasourceType of the resource."
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        },
        "resourceID": {
          "type": "string",
          "description": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."
        },
        "resourceLocation": {
          "type": "string",
          "description": "Location of datasource."
        },
        "resourceName": {
          "type": "string",
          "description": "Unique identifier of the resource in the context of parent."
        },
        "resourceType": {
          "type": "string",
          "description": "Resource Type of Datasource."
        },
        "resourceUri": {
          "type": "string",
          "description": "Uri of the resource."
        }
      },
      "required": [
        "resourceID"
      ],
      "description": "Datasource to be backed up"
    },
    "DatasourceSet": {
      "type": "object",
      "properties": {
        "datasourceType": {
          "type": "string",
          "description": "DatasourceType of the resource."
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        },
        "resourceID": {
          "type": "string",
          "description": "Full ARM ID of the resource. For azure resources, this is ARM ID. For non azure resources, this will be the ID created by backup service via Fabric/Vault."
        },
        "resourceLocation": {
          "type": "string",
          "description": "Location of datasource."
        },
        "resourceName": {
          "type": "string",
          "description": "Unique identifier of the resource in the context of parent."
        },
        "resourceType": {
          "type": "string",
          "description": "Resource Type of Datasource."
        },
        "resourceUri": {
          "type": "string",
          "description": "Uri of the resource."
        }
      },
      "required": [
        "resourceID"
      ],
      "description": "DatasourceSet details of datasource to be backed up"
    },
    "DataStoreInfoBase": {
      "type": "object",
      "properties": {
        "dataStoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "OperationalStore",
                "VaultStore",
                "ArchiveStore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "type of datastore; Operational/Vault/Archive."
        },
        "objectType": {
          "type": "string",
          "description": "Type of Datasource object, used to initialize the right inherited type"
        }
      },
      "required": [
        "dataStoreType",
        "objectType"
      ],
      "description": "DataStoreInfo base"
    },
    "DataStoreParameters": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/AzureOperationalStoreParameters"
        }
      ],
      "properties": {
        "dataStoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "OperationalStore",
                "VaultStore",
                "ArchiveStore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "type of datastore; Operational/Vault/Archive."
        }
      },
      "required": [
        "dataStoreType"
      ],
      "description": "Parameters for DataStore"
    },
    "Day": {
      "type": "object",
      "properties": {
        "date": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Date of the month"
        },
        "isLast": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether Date is last date of month"
        }
      },
      "description": "Day of the week"
    },
    "DeleteOption": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/AbsoluteDeleteOption"
        }
      ],
      "properties": {
        "duration": {
          "type": "string",
          "description": "Duration of deletion after given timespan"
        }
      },
      "required": [
        "duration"
      ],
      "description": "Delete Option"
    },
    "DppIdentityDetails": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "The identityType which can be either SystemAssigned or None"
        }
      },
      "description": "Identity details"
    },
    "FeatureSettings": {
      "type": "object",
      "properties": {
        "crossSubscriptionRestoreSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/CrossSubscriptionRestoreSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "CrossSubscriptionRestore Settings"
        }
      },
      "description": "Class containing feature settings of vault"
    },
    "ImmediateCopyOption": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "ImmediateCopyOption"
          ]
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Immediate copy Option"
    },
    "ImmutabilitySettings": {
      "type": "object",
      "properties": {
        "state": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Disabled",
                "Unlocked",
                "Locked"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Immutability state."
        }
      },
      "description": "Immutability Settings at vault level"
    },
    "KubernetesClusterBackupDatasourceParameters": {
      "type": "object",
      "properties": {
        "excludedNamespaces": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the exclude namespaces property. This property sets the namespaces to be excluded during restore."
        },
        "excludedResourceTypes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the exclude resource types property. This property sets the resource types to be excluded during restore."
        },
        "includeClusterScopeResources": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the include cluster resources property. This property if enabled will include cluster scope resources during restore."
        },
        "includedNamespaces": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the include namespaces property. This property sets the namespaces to be included during restore."
        },
        "includedResourceTypes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the include resource types property. This property sets the resource types to be included during restore."
        },
        "labelSelectors": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the LabelSelectors property. This property sets the resource with such label selectors to be included during restore."
        },
        "objectType": {
          "type": "string",
          "enum": [
            "KubernetesClusterBackupDatasourceParameters"
          ]
        },
        "snapshotVolumes": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the volume snapshot property. This property if enabled will take volume snapshots during restore."
        }
      },
      "required": [
        "includeClusterScopeResources",
        "objectType",
        "snapshotVolumes"
      ],
      "description": "Parameters for Kubernetes Cluster Backup Datasource"
    },
    "MonitoringSettings": {
      "type": "object",
      "properties": {
        "azureMonitorAlertSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/AzureMonitorAlertSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Settings for Azure Monitor based alerts"
        }
      },
      "description": "Monitoring Settings"
    },
    "PolicyInfo": {
      "type": "object",
      "properties": {
        "policyId": {
          "type": "string"
        },
        "policyParameters": {
          "oneOf": [
            {
              "$ref": "#/definitions/PolicyParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Parameters in Policy"
        }
      },
      "required": [
        "policyId"
      ],
      "description": "Policy Info in backupInstance"
    },
    "PolicyParameters": {
      "type": "object",
      "properties": {
        "backupDatasourceParametersList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BackupDatasourceParameters"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the Backup Data Source Parameters"
        },
        "dataStoreParametersList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/DataStoreParameters"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the DataStore Parameters"
        }
      },
      "description": "Parameters in Policy"
    },
    "ResourceGuard": {
      "type": "object",
      "properties": {
        "vaultCriticalOperationExclusionList": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of critical operations which are not protected by this resourceGuard"
        }
      }
    },
    "RetentionTag": {
      "type": "object",
      "properties": {
        "tagName": {
          "type": "string",
          "description": "Retention Tag Name to relate it to retention rule."
        }
      },
      "required": [
        "tagName"
      ],
      "description": "Retention tag"
    },
    "ScheduleBasedBackupCriteria": {
      "type": "object",
      "properties": {
        "absoluteCriteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "AllBackup",
                  "FirstOfDay",
                  "FirstOfMonth",
                  "FirstOfWeek",
                  "FirstOfYear"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "it contains absolute values like \"AllBackup\" / \"FirstOfDay\" / \"FirstOfWeek\" / \"FirstOfMonth\"\r\nand should be part of AbsoluteMarker enum"
        },
        "daysOfMonth": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Day"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This is day of the month from 1 to 28 other wise last of month"
        },
        "daysOfTheWeek": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Friday",
                  "Monday",
                  "Saturday",
                  "Sunday",
                  "Thursday",
                  "Tuesday",
                  "Wednesday"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be Sunday/Monday/T..../Saturday"
        },
        "monthsOfYear": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "April",
                  "August",
                  "December",
                  "February",
                  "January",
                  "July",
                  "June",
                  "March",
                  "May",
                  "November",
                  "October",
                  "September"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be January/February/....../December"
        },
        "objectType": {
          "type": "string",
          "enum": [
            "ScheduleBasedBackupCriteria"
          ]
        },
        "scheduleTimes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of schedule times for backup"
        },
        "weeksOfTheMonth": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "First",
                  "Fourth",
                  "Last",
                  "Second",
                  "Third"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "It should be First/Second/Third/Fourth/Last"
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Schedule based backup criteria"
    },
    "ScheduleBasedTriggerContext": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "ScheduleBasedTriggerContext"
          ]
        },
        "schedule": {
          "oneOf": [
            {
              "$ref": "#/definitions/BackupSchedule"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Schedule for backup"
        },
        "taggingCriteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TaggingCriteria"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of tags that can be applicable for given schedule."
        }
      },
      "required": [
        "objectType",
        "schedule",
        "taggingCriteria"
      ],
      "description": "Schedule based trigger context"
    },
    "SecretStoreBasedAuthCredentials": {
      "type": "object",
      "properties": {
        "objectType": {
          "type": "string",
          "enum": [
            "SecretStoreBasedAuthCredentials"
          ]
        },
        "secretStoreResource": {
          "oneOf": [
            {
              "$ref": "#/definitions/SecretStoreResource"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Class representing a secret store resource."
        }
      },
      "required": [
        "objectType"
      ],
      "description": "Secret store based authentication credentials."
    },
    "SecretStoreResource": {
      "type": "object",
      "properties": {
        "secretStoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Invalid",
                "AzureKeyVault"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the type of secret store."
        },
        "uri": {
          "type": "string",
          "description": "Uri to get to the resource"
        },
        "value": {
          "type": "string",
          "description": "Gets or sets value stored in secret store resource"
        }
      },
      "required": [
        "secretStoreType"
      ],
      "description": "Class representing a secret store resource."
    },
    "SecuritySettings": {
      "type": "object",
      "properties": {
        "immutabilitySettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/ImmutabilitySettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Immutability Settings at vault level"
        },
        "softDeleteSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/SoftDeleteSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Soft delete related settings"
        }
      },
      "description": "Class containing security settings of vault"
    },
    "SoftDeleteSettings": {
      "type": "object",
      "properties": {
        "retentionDurationInDays": {
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Soft delete retention duration"
        },
        "state": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Off",
                "On",
                "AlwaysOn"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "State of soft delete."
        }
      },
      "description": "Soft delete related settings"
    },
    "SourceLifeCycle": {
      "type": "object",
      "properties": {
        "deleteAfter": {
          "oneOf": [
            {
              "$ref": "#/definitions/DeleteOption"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Delete Option"
        },
        "sourceDataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DataStoreInfo base"
        },
        "targetDataStoreCopySettings": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TargetCopySetting"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "deleteAfter",
        "sourceDataStore"
      ],
      "description": "Source LifeCycle"
    },
    "StorageSetting": {
      "type": "object",
      "properties": {
        "datastoreType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ArchiveStore",
                "OperationalStore",
                "VaultStore"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the type of the datastore."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "GeoRedundant",
                "LocallyRedundant",
                "ZoneRedundant"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Gets or sets the type."
        }
      },
      "description": "Storage setting"
    },
    "SystemData": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of resource creation (UTC)."
        },
        "createdBy": {
          "type": "string",
          "description": "The identity that created the resource."
        },
        "createdByType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "User",
                "Application",
                "ManagedIdentity",
                "Key"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of identity that created the resource."
        },
        "lastModifiedAt": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp of resource last modification (UTC)"
        },
        "lastModifiedBy": {
          "type": "string",
          "description": "The identity that last modified the resource."
        },
        "lastModifiedByType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "User",
                "Application",
                "ManagedIdentity",
                "Key"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of identity that last modified the resource."
        }
      },
      "description": "Metadata pertaining to creation and last modification of the resource."
    },
    "TaggingCriteria": {
      "type": "object",
      "properties": {
        "criteria": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/BackupCriteria"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Criteria which decides whether the tag can be applied to a triggered backup."
        },
        "isDefault": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies if tag is default."
        },
        "taggingPriority": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention Tag priority."
        },
        "tagInfo": {
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionTag"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Retention tag"
        }
      },
      "required": [
        "isDefault",
        "taggingPriority",
        "tagInfo"
      ],
      "description": "Tagging criteria"
    },
    "TargetCopySetting": {
      "type": "object",
      "properties": {
        "copyAfter": {
          "oneOf": [
            {
              "$ref": "#/definitions/CopyOption"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Options to copy"
        },
        "dataStore": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataStoreInfoBase"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DataStoreInfo base"
        }
      },
      "required": [
        "copyAfter",
        "dataStore"
      ],
      "description": "Target copy settings"
    },
    "TriggerContext": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/AdhocBasedTriggerContext"
        },
        {
          "$ref": "#/definitions/ScheduleBasedTriggerContext"
        }
      ],
      "properties": {},
      "description": "Trigger context"
    }
  }
}