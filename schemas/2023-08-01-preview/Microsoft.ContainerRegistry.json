{
  "id": "https://schema.management.azure.com/schemas/2023-08-01-preview/Microsoft.ContainerRegistry.json#",
  "title": "Microsoft.ContainerRegistry",
  "description": "Microsoft ContainerRegistry Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "registries": {
      "description": "Microsoft.ContainerRegistry/registries",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the resource. This cannot be changed after the resource is created.",
          "type": "string"
        },
        "name": {
          "description": "The name of the container registry.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/RegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/registries_tokens_childResource"
              },
              {
                "$ref": "#/definitions/registries_webhooks_childResource"
              },
              {
                "$ref": "#/definitions/registries_scopeMaps_childResource"
              },
              {
                "$ref": "#/definitions/registries_cacheRules_childResource"
              },
              {
                "$ref": "#/definitions/registries_pipelineRuns_childResource"
              },
              {
                "$ref": "#/definitions/registries_replications_childResource"
              },
              {
                "$ref": "#/definitions/registries_credentialSets_childResource"
              },
              {
                "$ref": "#/definitions/registries_exportPipelines_childResource"
              },
              {
                "$ref": "#/definitions/registries_importPipelines_childResource"
              },
              {
                "$ref": "#/definitions/registries_connectedRegistries_childResource"
              },
              {
                "$ref": "#/definitions/registries_privateEndpointConnections_childResource"
              }
            ]
          },
          "type": "array"
        },
        "sku": {
          "description": "The SKU of the container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/Sku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags of the resource.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_cacheRules": {
      "description": "Microsoft.ContainerRegistry/registries/cacheRules",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the cache rule.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the cache rule.",
          "oneOf": [
            {
              "$ref": "#/definitions/CacheRuleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/cacheRules"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_connectedRegistries": {
      "description": "Microsoft.ContainerRegistry/registries/connectedRegistries",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the connected registry.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the connected registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectedRegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/connectedRegistries"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_credentialSets": {
      "description": "Microsoft.ContainerRegistry/registries/credentialSets",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Identities associated with the resource. This is used to access the KeyVault secrets.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of the credential set.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the credential set.",
          "oneOf": [
            {
              "$ref": "#/definitions/CredentialSetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/credentialSets"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_exportPipelines": {
      "description": "Microsoft.ContainerRegistry/registries/exportPipelines",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the export pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the export pipeline.",
          "type": "string"
        },
        "name": {
          "description": "The name of the export pipeline.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the export pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/exportPipelines"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_importPipelines": {
      "description": "Microsoft.ContainerRegistry/registries/importPipelines",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the import pipeline.",
          "type": "string"
        },
        "name": {
          "description": "The name of the import pipeline.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/importPipelines"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_packages_archives": {
      "description": "Microsoft.ContainerRegistry/registries/packages/archives",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the archive resource.",
          "oneOf": [
            {
              "maxLength": 200,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the archive.",
          "oneOf": [
            {
              "$ref": "#/definitions/ArchiveProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/registries_packages_archives_versions_childResource"
              }
            ]
          },
          "type": "array"
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/packages/archives"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_packages_archives_versions": {
      "description": "Microsoft.ContainerRegistry/registries/packages/archives/versions",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the archive version resource.",
          "oneOf": [
            {
              "maxLength": 200,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/packages/archives/versions"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_pipelineRuns": {
      "description": "Microsoft.ContainerRegistry/registries/pipelineRuns",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the pipeline run.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of a pipeline run.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/pipelineRuns"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_privateEndpointConnections": {
      "description": "Microsoft.ContainerRegistry/registries/privateEndpointConnections",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the private endpoint connection.",
          "type": "string"
        },
        "properties": {
          "description": "The properties of a private endpoint connection.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpointConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/privateEndpointConnections"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_replications": {
      "description": "Microsoft.ContainerRegistry/registries/replications",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The location of the resource. This cannot be changed after the resource is created.",
          "type": "string"
        },
        "name": {
          "description": "The name of the replication.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the replication.",
          "oneOf": [
            {
              "$ref": "#/definitions/ReplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags of the resource.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/replications"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_scopeMaps": {
      "description": "Microsoft.ContainerRegistry/registries/scopeMaps",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the scope map.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-_]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the scope map.",
          "oneOf": [
            {
              "$ref": "#/definitions/ScopeMapProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/scopeMaps"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_tokens": {
      "description": "Microsoft.ContainerRegistry/registries/tokens",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the token.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the token.",
          "oneOf": [
            {
              "$ref": "#/definitions/TokenProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/tokens"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_webhooks": {
      "description": "Microsoft.ContainerRegistry/registries/webhooks",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The location of the webhook. This cannot be changed after the resource is created.",
          "type": "string"
        },
        "name": {
          "description": "The name of the webhook.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties that the webhook will be created with.",
          "oneOf": [
            {
              "$ref": "#/definitions/WebhookPropertiesCreateParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags for the webhook.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.ContainerRegistry/registries/webhooks"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "ArchivePackageSourceProperties": {
      "description": "The properties of the archive package source.",
      "properties": {
        "type": {
          "description": "The type of package source for a archive.",
          "oneOf": [
            {
              "enum": [
                "remote"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "url": {
          "description": "The external repository url.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ArchiveProperties": {
      "description": "The properties of a archive.",
      "properties": {
        "packageSource": {
          "description": "The package source of the archive.",
          "oneOf": [
            {
              "$ref": "#/definitions/ArchivePackageSourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "publishedVersion": {
          "description": "The published version of the archive.",
          "type": "string"
        },
        "repositoryEndpointPrefix": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "AuthCredential": {
      "description": "Authentication credential stored for an upstream.",
      "properties": {
        "name": {
          "description": "The name of the credential.",
          "oneOf": [
            {
              "enum": [
                "Credential1"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "passwordSecretIdentifier": {
          "description": "KeyVault Secret URI for accessing the password.",
          "type": "string"
        },
        "usernameSecretIdentifier": {
          "description": "KeyVault Secret URI for accessing the username.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "AzureADAuthenticationAsArmPolicy": {
      "description": "The policy for using ARM audience token for a container registry.",
      "properties": {
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "CacheRuleProperties": {
      "description": "The properties of a cache rule.",
      "properties": {
        "credentialSetResourceId": {
          "description": "The ARM resource ID of the credential store which is associated with the cache rule.",
          "type": "string"
        },
        "sourceRepository": {
          "description": "Source repository pulled from upstream.",
          "type": "string"
        },
        "targetRepository": {
          "description": "Target repository specified in docker pull command.\r\nEg: docker pull myregistry.azurecr.io/{targetRepository}:{tag}",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ConnectedRegistryProperties": {
      "description": "The properties of a connected registry.",
      "properties": {
        "clientTokenIds": {
          "description": "The list of the ACR token resource IDs used to authenticate clients to the connected registry.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "logging": {
          "description": "The logging properties of the connected registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/LoggingProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "loginServer": {
          "description": "The login server properties of the connected registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/LoginServerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "mode": {
          "description": "The mode of the connected registry resource that indicates the permissions of the registry.",
          "oneOf": [
            {
              "enum": [
                "ReadWrite",
                "ReadOnly",
                "Registry",
                "Mirror"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "notificationsList": {
          "description": "The list of notifications subscription information for the connected registry.",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "parent": {
          "description": "The parent of the connected registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/ParentProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "mode",
        "parent"
      ],
      "type": "object"
    },
    "CredentialSetProperties": {
      "description": "The properties of a credential set resource.",
      "properties": {
        "authCredentials": {
          "description": "List of authentication credentials stored for an upstream.\r\nUsually consists of a primary and an optional secondary credential.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/AuthCredential"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "loginServer": {
          "description": "The credentials are stored for this upstream or login server.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "EncryptionProperty": {
      "properties": {
        "keyVaultProperties": {
          "description": "Key vault properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/KeyVaultProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "status": {
          "description": "Indicates whether or not the encryption is enabled for container registry.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ExportPipelineProperties": {
      "description": "The properties of an export pipeline.",
      "properties": {
        "options": {
          "description": "The list of all options configured for the pipeline.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "OverwriteTags",
                  "OverwriteBlobs",
                  "DeleteSourceBlobOnSuccess",
                  "ContinueOnErrors"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "target": {
          "description": "The target properties of the export pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineTargetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "target"
      ],
      "type": "object"
    },
    "ExportPipelineTargetProperties": {
      "description": "The properties of the export pipeline target.",
      "properties": {
        "keyVaultUri": {
          "description": "They key vault secret uri to obtain the target storage SAS token.",
          "type": "string"
        },
        "type": {
          "description": "The type of target for the export pipeline.",
          "type": "string"
        },
        "uri": {
          "description": "The target uri of the export pipeline.\r\nWhen 'AzureStorageBlob': \"https://accountName.blob.core.windows.net/containerName/blobName\"\r\nWhen 'AzureStorageBlobContainer':  \"https://accountName.blob.core.windows.net/containerName\"",
          "type": "string"
        }
      },
      "required": [
        "keyVaultUri"
      ],
      "type": "object"
    },
    "ExportPolicy": {
      "description": "The export policy for a container registry.",
      "properties": {
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "IPRule": {
      "description": "IP rule with specific IP or IP range in CIDR format.",
      "properties": {
        "action": {
          "description": "The action of IP ACL rule.",
          "oneOf": [
            {
              "enum": [
                "Allow"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "value": {
          "description": "Specifies the IP or IP range in CIDR format. Only IPV4 address is allowed.",
          "type": "string"
        }
      },
      "required": [
        "value"
      ],
      "type": "object"
    },
    "IdentityProperties": {
      "description": "Managed identity for the resource.",
      "properties": {
        "type": {
          "description": "The identity type.",
          "oneOf": [
            {
              "enum": [
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned, UserAssigned",
                "None"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedIdentities": {
          "description": "The list of user identities associated with the resource. The user identity \r\ndictionary key references will be ARM resource ids in the form: \r\n'/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/\r\n    providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}'.",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/UserIdentityProperties"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ImportPipelineProperties": {
      "description": "The properties of an import pipeline.",
      "properties": {
        "options": {
          "description": "The list of all options configured for the pipeline.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "OverwriteTags",
                  "OverwriteBlobs",
                  "DeleteSourceBlobOnSuccess",
                  "ContinueOnErrors"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "source": {
          "description": "The source properties of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineSourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "trigger": {
          "description": "The properties that describe the trigger of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineTriggerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "source"
      ],
      "type": "object"
    },
    "ImportPipelineSourceProperties": {
      "description": "The properties of the import pipeline source.",
      "properties": {
        "keyVaultUri": {
          "description": "They key vault secret uri to obtain the source storage SAS token.",
          "type": "string"
        },
        "type": {
          "description": "The type of source for the import pipeline.",
          "oneOf": [
            {
              "enum": [
                "AzureStorageBlobContainer"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "uri": {
          "description": "The source uri of the import pipeline.\r\nWhen 'AzureStorageBlob': \"https://accountName.blob.core.windows.net/containerName/blobName\"\r\nWhen 'AzureStorageBlobContainer': \"https://accountName.blob.core.windows.net/containerName\"",
          "type": "string"
        }
      },
      "required": [
        "keyVaultUri"
      ],
      "type": "object"
    },
    "KeyVaultProperties": {
      "properties": {
        "identity": {
          "description": "The client id of the identity which will be used to access key vault.",
          "type": "string"
        },
        "keyIdentifier": {
          "description": "Key vault uri to access the encryption key.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "LoggingProperties": {
      "description": "The logging properties of the connected registry.",
      "properties": {
        "auditLogStatus": {
          "description": "Indicates whether audit logs are enabled on the connected registry.",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "logLevel": {
          "description": "The verbosity of logs persisted on the connected registry.",
          "oneOf": [
            {
              "enum": [
                "Debug",
                "Information",
                "Warning",
                "Error",
                "None"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "LoginServerProperties": {
      "description": "The login server properties of the connected registry.",
      "properties": {},
      "type": "object"
    },
    "NetworkRuleSet": {
      "description": "The network rule set for a container registry.",
      "properties": {
        "defaultAction": {
          "description": "The default action of allow or deny when no other rules match.",
          "oneOf": [
            {
              "enum": [
                "Allow",
                "Deny"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "ipRules": {
          "description": "The IP ACL rules.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/IPRule"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "defaultAction"
      ],
      "type": "object"
    },
    "ParentProperties": {
      "description": "The properties of the connected registry parent.",
      "properties": {
        "id": {
          "description": "The resource ID of the parent to which the connected registry will be associated.",
          "type": "string"
        },
        "syncProperties": {
          "description": "The sync properties of the connected registry with its parent.",
          "oneOf": [
            {
              "$ref": "#/definitions/SyncProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "syncProperties"
      ],
      "type": "object"
    },
    "PipelineRunProperties": {
      "description": "The properties of a pipeline run.",
      "properties": {
        "forceUpdateTag": {
          "description": "How the pipeline run should be forced to recreate even if the pipeline run configuration has not changed.",
          "type": "string"
        },
        "request": {
          "description": "The request parameters for a pipeline run.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunRequest"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PipelineRunRequest": {
      "description": "The request properties provided for a pipeline run.",
      "properties": {
        "artifacts": {
          "description": "List of source artifacts to be transferred by the pipeline. \r\nSpecify an image by repository ('hello-world'). This will use the 'latest' tag.\r\nSpecify an image by tag ('hello-world:latest').\r\nSpecify an image by sha256-based manifest digest ('hello-world@sha256:abc123').",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "catalogDigest": {
          "description": "The digest of the tar used to transfer the artifacts.",
          "type": "string"
        },
        "pipelineResourceId": {
          "description": "The resource ID of the pipeline to run.",
          "type": "string"
        },
        "source": {
          "description": "The source properties of the pipeline run.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunSourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "target": {
          "description": "The target properties of the pipeline run.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunTargetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PipelineRunSourceProperties": {
      "properties": {
        "name": {
          "description": "The name of the source.",
          "type": "string"
        },
        "type": {
          "description": "The type of the source.",
          "oneOf": [
            {
              "enum": [
                "AzureStorageBlob"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PipelineRunTargetProperties": {
      "properties": {
        "name": {
          "description": "The name of the target.",
          "type": "string"
        },
        "type": {
          "description": "The type of the target.",
          "oneOf": [
            {
              "enum": [
                "AzureStorageBlob"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PipelineSourceTriggerProperties": {
      "properties": {
        "status": {
          "description": "The current status of the source trigger.",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "status"
      ],
      "type": "object"
    },
    "PipelineTriggerProperties": {
      "properties": {
        "sourceTrigger": {
          "description": "The source trigger properties of the pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineSourceTriggerProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Policies": {
      "description": "The policies for a container registry.",
      "properties": {
        "azureADAuthenticationAsArmPolicy": {
          "description": "The policy for using ARM audience token for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureADAuthenticationAsArmPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "exportPolicy": {
          "description": "The export policy for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "quarantinePolicy": {
          "description": "The quarantine policy for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/QuarantinePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionPolicy": {
          "description": "The retention policy for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "softDeletePolicy": {
          "description": "The soft delete policy for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/SoftDeletePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "trustPolicy": {
          "description": "The content trust policy for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/TrustPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PrivateEndpoint": {
      "description": "The Private Endpoint resource.",
      "properties": {
        "id": {
          "description": "This is private endpoint resource created with Microsoft.Network resource provider.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PrivateEndpointConnectionProperties": {
      "description": "The properties of a private endpoint connection.",
      "properties": {
        "privateEndpoint": {
          "description": "The resource of private endpoint.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpoint"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "privateLinkServiceConnectionState": {
          "description": "A collection of information about the state of the connection between service consumer and provider.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateLinkServiceConnectionState"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PrivateLinkServiceConnectionState": {
      "description": "The state of a private link service connection.",
      "properties": {
        "actionsRequired": {
          "description": "A message indicating if changes on the service provider require any updates on the consumer.",
          "oneOf": [
            {
              "enum": [
                "None",
                "Recreate"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "description": {
          "description": "The description for connection status. For example if connection is rejected it can indicate reason for rejection.",
          "type": "string"
        },
        "status": {
          "description": "The private link service connection status.",
          "oneOf": [
            {
              "enum": [
                "Approved",
                "Pending",
                "Rejected",
                "Disconnected"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "QuarantinePolicy": {
      "description": "The quarantine policy for a container registry.",
      "properties": {
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "RegistryProperties": {
      "description": "The properties of a container registry.",
      "properties": {
        "adminUserEnabled": {
          "description": "The value that indicates whether the admin user is enabled.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "anonymousPullEnabled": {
          "description": "Enables registry-wide pull from unauthenticated clients.",
          "oneOf": [
            {
              "default": false,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "dataEndpointEnabled": {
          "description": "Enable a single data endpoint per region for serving data.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "encryption": {
          "description": "The encryption settings of container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/EncryptionProperty"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "networkRuleBypassOptions": {
          "description": "Whether to allow trusted Azure services to access a network restricted registry.",
          "oneOf": [
            {
              "enum": [
                "AzureServices",
                "None"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "networkRuleSet": {
          "description": "The network rule set for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/NetworkRuleSet"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "policies": {
          "description": "The policies for a container registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/Policies"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "publicNetworkAccess": {
          "description": "Whether or not public network access is allowed for the container registry.",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "zoneRedundancy": {
          "description": "Whether or not zone redundancy is enabled for this container registry",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ReplicationProperties": {
      "description": "The properties of a replication.",
      "properties": {
        "regionEndpointEnabled": {
          "description": "Specifies whether the replication's regional endpoint is enabled. Requests will not be routed to a replication whose regional endpoint is disabled, however its data will continue to be synced with other replications.",
          "oneOf": [
            {
              "default": true,
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "zoneRedundancy": {
          "description": "Whether or not zone redundancy is enabled for this container registry replication",
          "oneOf": [
            {
              "enum": [
                "Enabled",
                "Disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "RetentionPolicy": {
      "description": "The retention policy for a container registry.",
      "properties": {
        "days": {
          "description": "The number of days to retain an untagged manifest after which it gets purged.",
          "oneOf": [
            {
              "default": 7,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "ScopeMapProperties": {
      "description": "The properties of a scope map.",
      "properties": {
        "actions": {
          "description": "The list of scoped permissions for registry artifacts.\r\nE.g. repositories/repository-name/content/read,\r\nrepositories/repository-name/metadata/write",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "description": {
          "description": "The user friendly description of the scope map.",
          "type": "string"
        }
      },
      "required": [
        "actions"
      ],
      "type": "object"
    },
    "Sku": {
      "description": "The SKU of a container registry.",
      "properties": {
        "name": {
          "description": "The SKU name of the container registry. Required for registry creation.",
          "oneOf": [
            {
              "enum": [
                "Classic",
                "Basic",
                "Standard",
                "Premium"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "SoftDeletePolicy": {
      "description": "The soft delete policy for a container registry",
      "properties": {
        "retentionDays": {
          "description": "The number of days after which a soft-deleted item is permanently deleted.",
          "oneOf": [
            {
              "default": 7,
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SyncProperties": {
      "description": "The sync properties of the connected registry with its parent.",
      "properties": {
        "messageTtl": {
          "description": "The period of time for which a message is available to sync before it is expired. Specify the duration using the format P[n]Y[n]M[n]DT[n]H[n]M[n]S as per ISO8601.",
          "type": "string"
        },
        "schedule": {
          "description": "The cron expression indicating the schedule that the connected registry will sync with its parent.",
          "type": "string"
        },
        "syncWindow": {
          "description": "The time window during which sync is enabled for each schedule occurrence. Specify the duration using the format P[n]Y[n]M[n]DT[n]H[n]M[n]S as per ISO8601.",
          "type": "string"
        },
        "tokenId": {
          "description": "The resource ID of the ACR token used to authenticate the connected registry to its parent during sync.",
          "type": "string"
        }
      },
      "required": [
        "tokenId",
        "messageTtl"
      ],
      "type": "object"
    },
    "TokenCertificate": {
      "description": "The properties of a certificate used for authenticating a token.",
      "properties": {
        "encodedPemCertificate": {
          "description": "Base 64 encoded string of the public certificate1 in PEM format that will be used for authenticating the token.",
          "type": "string"
        },
        "expiry": {
          "description": "The expiry datetime of the certificate.",
          "format": "date-time",
          "type": "string"
        },
        "name": {
          "oneOf": [
            {
              "enum": [
                "certificate1",
                "certificate2"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "thumbprint": {
          "description": "The thumbprint of the certificate.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "TokenCredentialsProperties": {
      "description": "The properties of the credentials that can be used for authenticating the token.",
      "properties": {
        "certificates": {
          "description": "Array of TokenCertificate",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/TokenCertificate"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "passwords": {
          "description": "Array of TokenPassword",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/TokenPassword"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "TokenPassword": {
      "description": "The password that will be used for authenticating the token of a container registry.",
      "properties": {
        "creationTime": {
          "description": "The creation datetime of the password.",
          "format": "date-time",
          "type": "string"
        },
        "expiry": {
          "description": "The expiry datetime of the password.",
          "format": "date-time",
          "type": "string"
        },
        "name": {
          "description": "The password name \"password1\" or \"password2\"",
          "oneOf": [
            {
              "enum": [
                "password1",
                "password2"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "TokenProperties": {
      "description": "The properties of a token.",
      "properties": {
        "credentials": {
          "description": "The credentials that can be used for authenticating the token.",
          "oneOf": [
            {
              "$ref": "#/definitions/TokenCredentialsProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scopeMapId": {
          "description": "The resource ID of the scope map to which the token will be associated with.",
          "type": "string"
        },
        "status": {
          "description": "The status of the token example enabled or disabled.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "TrustPolicy": {
      "description": "The content trust policy for a container registry.",
      "properties": {
        "status": {
          "description": "The value that indicates whether the policy is enabled or not.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "description": "The type of trust policy.",
          "oneOf": [
            {
              "enum": [
                "Notary"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UserIdentityProperties": {
      "properties": {},
      "type": "object"
    },
    "WebhookPropertiesCreateParameters": {
      "description": "The parameters for creating the properties of a webhook.",
      "properties": {
        "actions": {
          "description": "The list of actions that trigger the webhook to post notifications.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "push",
                  "delete",
                  "quarantine",
                  "chart_push",
                  "chart_delete"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "customHeaders": {
          "description": "Custom headers that will be added to the webhook notifications.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scope": {
          "description": "The scope of repositories where the event can be triggered. For example, 'foo:*' means events for all tags under repository 'foo'. 'foo:bar' means events for 'foo:bar' only. 'foo' is equivalent to 'foo:latest'. Empty means all events.",
          "type": "string"
        },
        "serviceUri": {
          "description": "The service URI for the webhook to post notifications.",
          "type": "string"
        },
        "status": {
          "description": "The status of the webhook at the time the operation was called.",
          "oneOf": [
            {
              "enum": [
                "enabled",
                "disabled"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "serviceUri",
        "actions"
      ],
      "type": "object"
    },
    "registries_cacheRules_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/cacheRules",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the cache rule.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the cache rule.",
          "oneOf": [
            {
              "$ref": "#/definitions/CacheRuleProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "cacheRules"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_connectedRegistries_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/connectedRegistries",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the connected registry.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the connected registry.",
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectedRegistryProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "connectedRegistries"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_credentialSets_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/credentialSets",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Identities associated with the resource. This is used to access the KeyVault secrets.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "name": {
          "description": "The name of the credential set.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the credential set.",
          "oneOf": [
            {
              "$ref": "#/definitions/CredentialSetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "credentialSets"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_exportPipelines_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/exportPipelines",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the export pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the export pipeline.",
          "type": "string"
        },
        "name": {
          "description": "The name of the export pipeline.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the export pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ExportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "exportPipelines"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_importPipelines_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/importPipelines",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "The identity of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/IdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The location of the import pipeline.",
          "type": "string"
        },
        "name": {
          "description": "The name of the import pipeline.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the import pipeline.",
          "oneOf": [
            {
              "$ref": "#/definitions/ImportPipelineProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "importPipelines"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_packages_archives_versions_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/packages/archives/versions",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the archive version resource.",
          "oneOf": [
            {
              "maxLength": 200,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "versions"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_pipelineRuns_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/pipelineRuns",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the pipeline run.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of a pipeline run.",
          "oneOf": [
            {
              "$ref": "#/definitions/PipelineRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "pipelineRuns"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_privateEndpointConnections_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/privateEndpointConnections",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the private endpoint connection.",
          "type": "string"
        },
        "properties": {
          "description": "The properties of a private endpoint connection.",
          "oneOf": [
            {
              "$ref": "#/definitions/PrivateEndpointConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "privateEndpointConnections"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_replications_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/replications",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The location of the resource. This cannot be changed after the resource is created.",
          "type": "string"
        },
        "name": {
          "description": "The name of the replication.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the replication.",
          "oneOf": [
            {
              "$ref": "#/definitions/ReplicationProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags of the resource.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "replications"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_scopeMaps_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/scopeMaps",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the scope map.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-_]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the scope map.",
          "oneOf": [
            {
              "$ref": "#/definitions/ScopeMapProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "scopeMaps"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_tokens_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/tokens",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "The name of the token.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9-]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties of the token.",
          "oneOf": [
            {
              "$ref": "#/definitions/TokenProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "tokens"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "registries_webhooks_childResource": {
      "description": "Microsoft.ContainerRegistry/registries/webhooks",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-08-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The location of the webhook. This cannot be changed after the resource is created.",
          "type": "string"
        },
        "name": {
          "description": "The name of the webhook.",
          "oneOf": [
            {
              "maxLength": 50,
              "minLength": 5,
              "pattern": "^[a-zA-Z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The properties that the webhook will be created with.",
          "oneOf": [
            {
              "$ref": "#/definitions/WebhookPropertiesCreateParameters"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "The tags for the webhook.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "webhooks"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  }
}