{
  "id": "https://schema.management.azure.com/schemas/2023-10-01-preview/Microsoft.Workloads.connectors.json#",
  "title": "Microsoft.Workloads",
  "description": "Microsoft Workloads Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "connectors": {
      "description": "Microsoft.Workloads/connectors",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-10-01-preview"
          ],
          "type": "string"
        },
        "identity": {
          "description": "Managed service identity (user assigned identities)",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the connector resource",
          "oneOf": [
            {
              "pattern": "^[A-Za-z0-9]+-?[A-Za-z0-9]*$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Defines the connector resource properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/ConnectorProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resources": {
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/connectors_acssBackups_childResource"
              }
            ]
          },
          "type": "array"
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/connectors"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    },
    "connectors_acssBackups": {
      "description": "Microsoft.Workloads/connectors/acssBackups",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-10-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the backup connection resource of virtual instance for SAP.",
          "oneOf": [
            {
              "pattern": "^.+",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Defines the backup connection properties for a virtual instance for SAP.",
          "oneOf": [
            {
              "$ref": "#/definitions/AcssBackupConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Workloads/connectors/acssBackups"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "AcssBackupConnectionProperties": {
      "description": "Defines the backup connection properties for a virtual instance for SAP.",
      "properties": {
        "backupData": {
          "description": "Information about the recovery services vault and backup policy used for backup.",
          "oneOf": [
            {
              "$ref": "#/definitions/BackupData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "AzureIaaSVMProtectionPolicy": {
      "description": "IaaS VM workload-specific backup policy.",
      "properties": {
        "backupManagementType": {
          "description": "This property will be used as the discriminator for deciding the specific types in the polymorphic chain of types.",
          "type": "string"
        },
        "instantRPDetails": {
          "description": "Instant recovery point additional details.",
          "oneOf": [
            {
              "$ref": "#/definitions/InstantRPAdditionalDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "instantRpRetentionRangeInDays": {
          "description": "Instant RP retention policy range in days",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "policyType": {
          "description": "The policy type.",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "V1",
                "V2"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "protectedItemsCount": {
          "description": "Number of items associated with this policy.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resourceGuardOperationRequests": {
          "description": "ResourceGuard Operation Requests",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionPolicy": {
          "description": "Retention policy with the details on backup copy retention ranges.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "schedulePolicy": {
          "description": "Backup schedule specified as part of backup policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/SchedulePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tieringPolicy": {
          "description": "Tiering policy to automatically move RPs to another tier\r\nKey is Target Tier, defined in RecoveryPointTierType enum.\r\nTiering policy specifies the criteria to move RP to the target tier.",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/TieringPolicy"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeZone": {
          "description": "Time zone optional input as string. For example: \"Pacific Standard Time\".",
          "type": "string"
        }
      },
      "required": [
        "backupManagementType"
      ],
      "type": "object"
    },
    "AzureVmWorkloadProtectionPolicy": {
      "description": "Azure VM (Mercury) workload-specific backup policy.",
      "properties": {
        "backupManagementType": {
          "description": "This property will be used as the discriminator for deciding the specific types in the polymorphic chain of types.",
          "type": "string"
        },
        "makePolicyConsistent": {
          "description": "Fix the policy inconsistency",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "protectedItemsCount": {
          "description": "Number of items associated with this policy.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "resourceGuardOperationRequests": {
          "description": "ResourceGuard Operation Requests",
          "oneOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "settings": {
          "description": "Common settings for the backup management",
          "oneOf": [
            {
              "$ref": "#/definitions/Settings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subProtectionPolicy": {
          "description": "List of sub-protection policies which includes schedule and retention",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/SubProtectionPolicy"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "workLoadType": {
          "description": "Type of workload for the backup management",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "VM",
                "FileFolder",
                "AzureSqlDb",
                "SQLDB",
                "Exchange",
                "Sharepoint",
                "VMwareVM",
                "SystemState",
                "Client",
                "GenericDataSource",
                "SQLDataBase",
                "AzureFileShare",
                "SAPHanaDatabase",
                "SAPAseDatabase",
                "SAPHanaDBInstance"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "backupManagementType"
      ],
      "type": "object"
    },
    "BackupData": {
      "description": "Information about the recovery services vault and backup policy used for backup.",
      "oneOf": [
        {
          "description": "Defines the HANA Backup data for a virtual instance for SAP.",
          "properties": {
            "backupPolicy": {
              "description": "Defines the policy properties for database backup.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DBBackupPolicyProperties"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "backupType": {
              "enum": [
                "HANA"
              ],
              "type": "string"
            },
            "dbInstanceSnapshotBackupPolicy": {
              "description": "Defines the policy properties for database backup.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DBBackupPolicyProperties"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "hdbuserstoreKeyName": {
              "description": "Name of the HANA Database User Store Key.",
              "type": "string"
            },
            "instanceNumber": {
              "description": "Gets or sets the database instance number.",
              "type": "string"
            },
            "sslConfiguration": {
              "description": "Path of the SSL key store.",
              "oneOf": [
                {
                  "$ref": "#/definitions/SSLConfiguration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "backupPolicy",
            "hdbuserstoreKeyName",
            "backupType"
          ],
          "type": "object"
        },
        {
          "description": "Defines the SQL Backup data for a virtual instance for SAP.",
          "properties": {
            "backupPolicy": {
              "description": "Defines the policy properties for database backup.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DBBackupPolicyProperties"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "backupType": {
              "enum": [
                "SQL"
              ],
              "type": "string"
            }
          },
          "required": [
            "backupPolicy",
            "backupType"
          ],
          "type": "object"
        },
        {
          "description": "Defines the VM Backup data for a virtual instance for SAP.",
          "properties": {
            "backupPolicy": {
              "description": "Defines the policy properties for virtual machine backup.",
              "oneOf": [
                {
                  "$ref": "#/definitions/VMBackupPolicyProperties"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "backupType": {
              "enum": [
                "VM"
              ],
              "type": "string"
            },
            "diskExclusionProperties": {
              "description": "Defines the disk exclusion properties for virtual machine backup.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DiskExclusionProperties"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "backupPolicy",
            "backupType"
          ],
          "type": "object"
        }
      ],
      "properties": {
        "recoveryServicesVault": {
          "description": "The properties of the recovery services vault used for backup.",
          "oneOf": [
            {
              "$ref": "#/definitions/RecoveryServicesVaultProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "recoveryServicesVault"
      ],
      "type": "object"
    },
    "ConnectorProperties": {
      "description": "Defines the connector resource properties.",
      "properties": {
        "managedResourceGroupConfiguration": {
          "description": "Managed resource group configuration",
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedRGConfiguration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sourceResourceId": {
          "description": "Defines the ID of the connector's source resource.",
          "type": "string"
        }
      },
      "required": [
        "sourceResourceId"
      ],
      "type": "object"
    },
    "DBBackupPolicyProperties": {
      "description": "Defines the policy properties for database backup.",
      "properties": {
        "name": {
          "description": "The name of the DB backup policy.",
          "type": "string"
        },
        "properties": {
          "description": "Azure VM (Mercury) workload-specific backup policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureVmWorkloadProtectionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "DailyRetentionFormat": {
      "description": "Daily retention format.",
      "properties": {
        "daysOfTheMonth": {
          "description": "List of days of the month.",
          "oneOf": [
            {
              "items": {
                "$ref": "#/definitions/Day"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DailyRetentionSchedule": {
      "description": "Daily retention schedule.",
      "properties": {
        "retentionDuration": {
          "description": "Retention duration of retention Policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionDuration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionTimes": {
          "description": "Retention times of retention policy.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DailySchedule": {
      "description": "Daily schedule.",
      "properties": {
        "scheduleRunTimes": {
          "description": "List of times of day this schedule has to be run.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Day": {
      "description": "Day of the week.",
      "properties": {
        "date": {
          "description": "Date of the month",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isLast": {
          "description": "Whether Date is last date of month",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "DiskExclusionProperties": {
      "description": "Defines the disk exclusion properties for virtual machine backup.",
      "properties": {
        "diskLunList": {
          "description": "List of Disks' Logical Unit Numbers (LUN) to be used for VM Protection.",
          "oneOf": [
            {
              "items": {
                "type": "integer"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isInclusionList": {
          "description": "Flag to indicate whether DiskLunList is to be included/ excluded from backup.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "diskLunList",
        "isInclusionList"
      ],
      "type": "object"
    },
    "HourlySchedule": {
      "description": "Hourly schedule.",
      "properties": {
        "interval": {
          "description": "Interval at which backup needs to be triggered. For hourly the value\r\n can be 4/6/8/12",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scheduleWindowDuration": {
          "description": "To specify duration of the backup window",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scheduleWindowStartTime": {
          "description": "To specify start time of the backup window",
          "format": "date-time",
          "type": "string"
        }
      },
      "type": "object"
    },
    "InstantRPAdditionalDetails": {
      "description": "Instant recovery point additional details.",
      "properties": {
        "azureBackupRGNamePrefix": {
          "description": "Azure backup resource group name prefix.",
          "type": "string"
        },
        "azureBackupRGNameSuffix": {
          "description": "Azure backup resource group name suffix.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "ManagedRGConfiguration": {
      "description": "Managed resource group configuration",
      "properties": {
        "name": {
          "description": "Managed resource group name",
          "type": "string"
        }
      },
      "type": "object"
    },
    "MonthlyRetentionSchedule": {
      "description": "Monthly retention schedule.",
      "properties": {
        "retentionDuration": {
          "description": "Retention duration of retention Policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionDuration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleDaily": {
          "description": "Daily retention format for monthly retention policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/DailyRetentionFormat"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleFormatType": {
          "description": "Retention schedule format type for monthly retention policy.",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "Daily",
                "Weekly"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleWeekly": {
          "description": "Weekly retention format for monthly retention policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/WeeklyRetentionFormat"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionTimes": {
          "description": "Retention times of retention policy.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "RecoveryServicesVaultProperties": {
      "description": "The properties of the recovery services vault used for backup.",
      "oneOf": [
        {
          "description": "Existing recovery services vault.",
          "properties": {
            "id": {
              "description": "The resource ID of the recovery services vault that has been created.",
              "type": "string"
            },
            "vaultType": {
              "enum": [
                "Existing"
              ],
              "type": "string"
            }
          },
          "required": [
            "id",
            "vaultType"
          ],
          "type": "object"
        },
        {
          "description": "New recovery services vault.",
          "properties": {
            "name": {
              "description": "The name of the recovery services vault has to be created.",
              "type": "string"
            },
            "resourceGroup": {
              "description": "The name of the resource group where the recovery services vault has to be created.",
              "type": "string"
            },
            "vaultType": {
              "enum": [
                "New"
              ],
              "type": "string"
            }
          },
          "required": [
            "name",
            "resourceGroup",
            "vaultType"
          ],
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "RetentionDuration": {
      "description": "Retention duration.",
      "properties": {
        "count": {
          "description": "Count of duration types. Retention duration is obtained by the counting the duration type Count times.\r\nFor example, when Count = 3 and DurationType = Weeks, retention duration will be three weeks.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "durationType": {
          "description": "Retention duration type of retention policy.",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "Days",
                "Weeks",
                "Months",
                "Years"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "RetentionPolicy": {
      "description": "Base class for retention policy.",
      "oneOf": [
        {
          "description": "Long term retention policy.",
          "properties": {
            "dailySchedule": {
              "description": "Daily retention schedule of the protection policy.",
              "oneOf": [
                {
                  "$ref": "#/definitions/DailyRetentionSchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "monthlySchedule": {
              "description": "Monthly retention schedule of the protection policy.",
              "oneOf": [
                {
                  "$ref": "#/definitions/MonthlyRetentionSchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "retentionPolicyType": {
              "enum": [
                "LongTermRetentionPolicy"
              ],
              "type": "string"
            },
            "weeklySchedule": {
              "description": "Weekly retention schedule of the protection policy.",
              "oneOf": [
                {
                  "$ref": "#/definitions/WeeklyRetentionSchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "yearlySchedule": {
              "description": "Yearly retention schedule of the protection policy.",
              "oneOf": [
                {
                  "$ref": "#/definitions/YearlyRetentionSchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "retentionPolicyType"
          ],
          "type": "object"
        },
        {
          "description": "Simple policy retention.",
          "properties": {
            "retentionDuration": {
              "description": "Retention duration of the protection policy.",
              "oneOf": [
                {
                  "$ref": "#/definitions/RetentionDuration"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "retentionPolicyType": {
              "enum": [
                "SimpleRetentionPolicy"
              ],
              "type": "string"
            }
          },
          "required": [
            "retentionPolicyType"
          ],
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "SSLConfiguration": {
      "description": "Specify the HANA database TLS/SSL properties which will be used for enabling Azure Backup for this database. You need to specify these details if you have enabled secure communication for your HANA database.",
      "properties": {
        "sslCryptoProvider": {
          "description": "Specify the crypto provider being used (commoncrypto/openssl). If this argument is not provided, it is automatically determined by searching in the configuration files.",
          "oneOf": [
            {
              "enum": [
                "commoncrypto",
                "openssl"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sslHostNameInCertificate": {
          "description": "Specify the hostname as mentioned in the SSL certificate. If this argument is not provided, it is automatically determined by searching in the SSL certificate.",
          "type": "string"
        },
        "sslKeyStore": {
          "description": "Specify the name of the keystore file that contains the client's identity (eg. sapsrv.pse). The script will search for the file in the appropriate directory depending on the crypto provider mentioned. If this argument is not provided, it is automatically determined by searching in the configuration files.",
          "type": "string"
        },
        "sslTrustStore": {
          "description": "Specify the name of the trust store file that contains the serverâ€™s public certificates (eg. sapsrv.pse). The script will search for the file in the appropriate directory depending on the crypto provider mentioned. If this argument is not provided, it is automatically determined by searching in the configuration files.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SchedulePolicy": {
      "description": "Base class for backup schedule.",
      "oneOf": [
        {
          "description": "Log policy schedule.",
          "properties": {
            "scheduleFrequencyInMins": {
              "description": "Frequency of the log schedule operation of this policy in minutes.",
              "oneOf": [
                {
                  "type": "integer"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "schedulePolicyType": {
              "enum": [
                "LogSchedulePolicy"
              ],
              "type": "string"
            }
          },
          "required": [
            "schedulePolicyType"
          ],
          "type": "object"
        },
        {
          "description": "Long term policy schedule.",
          "properties": {
            "schedulePolicyType": {
              "enum": [
                "LongTermSchedulePolicy"
              ],
              "type": "string"
            }
          },
          "required": [
            "schedulePolicyType"
          ],
          "type": "object"
        },
        {
          "description": "Simple policy schedule.",
          "properties": {
            "hourlySchedule": {
              "description": "Hourly Schedule of this Policy",
              "oneOf": [
                {
                  "$ref": "#/definitions/HourlySchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "schedulePolicyType": {
              "enum": [
                "SimpleSchedulePolicy"
              ],
              "type": "string"
            },
            "scheduleRunDays": {
              "description": "List of days of week this schedule has to be run.",
              "oneOf": [
                {
                  "items": {
                    "enum": [
                      "Sunday",
                      "Monday",
                      "Tuesday",
                      "Wednesday",
                      "Thursday",
                      "Friday",
                      "Saturday"
                    ],
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "scheduleRunFrequency": {
              "description": "Frequency of the schedule operation of this policy.",
              "oneOf": [
                {
                  "enum": [
                    "Invalid",
                    "Daily",
                    "Weekly",
                    "Hourly"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "scheduleRunTimes": {
              "description": "List of times of day this schedule has to be run.",
              "oneOf": [
                {
                  "items": {
                    "format": "date-time",
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "scheduleWeeklyFrequency": {
              "description": "At every number weeks this schedule has to be run.",
              "oneOf": [
                {
                  "type": "integer"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "schedulePolicyType"
          ],
          "type": "object"
        },
        {
          "description": "The V2 policy schedule for IaaS that supports hourly backups.",
          "properties": {
            "dailySchedule": {
              "description": "Daily schedule of this policy",
              "oneOf": [
                {
                  "$ref": "#/definitions/DailySchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "hourlySchedule": {
              "description": "hourly schedule of this policy",
              "oneOf": [
                {
                  "$ref": "#/definitions/HourlySchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "schedulePolicyType": {
              "enum": [
                "SimpleSchedulePolicyV2"
              ],
              "type": "string"
            },
            "scheduleRunFrequency": {
              "description": "Frequency of the schedule operation of this policy.",
              "oneOf": [
                {
                  "enum": [
                    "Invalid",
                    "Daily",
                    "Weekly",
                    "Hourly"
                  ],
                  "type": "string"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            },
            "weeklySchedule": {
              "description": "Weekly schedule of this policy",
              "oneOf": [
                {
                  "$ref": "#/definitions/WeeklySchedule"
                },
                {
                  "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
                }
              ]
            }
          },
          "required": [
            "schedulePolicyType"
          ],
          "type": "object"
        }
      ],
      "properties": {},
      "type": "object"
    },
    "Settings": {
      "description": "Common settings field for backup management",
      "properties": {
        "isCompression": {
          "description": "Workload compression flag. This has been added so that 'isSqlCompression'\r\nwill be deprecated once clients upgrade to consider this flag.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "issqlcompression": {
          "description": "SQL compression flag",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "timeZone": {
          "description": "TimeZone optional input as string. For example: TimeZone = \"Pacific Standard Time\".",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SnapshotBackupAdditionalDetails": {
      "description": "Snapshot Backup related fields for WorkloadType SAP Hana system",
      "properties": {
        "instantRPDetails": {
          "description": "Instant RP details for the snapshot.",
          "type": "string"
        },
        "instantRpRetentionRangeInDays": {
          "description": "Retention range for instant Rp in days.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedManagedIdentityDetails": {
          "description": "User Assigned managed identity details used for snapshot policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedManagedIdentityDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SubProtectionPolicy": {
      "description": "Sub-protection policy which includes schedule and retention",
      "properties": {
        "policyType": {
          "description": "Type of backup policy type",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "Full",
                "Differential",
                "Log",
                "CopyOnlyFull",
                "Incremental",
                "SnapshotFull",
                "SnapshotCopyOnlyFull"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionPolicy": {
          "description": "Retention policy with the details on backup copy retention ranges.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "schedulePolicy": {
          "description": "Backup schedule specified as part of backup policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/SchedulePolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "snapshotBackupAdditionalDetails": {
          "description": "Hana DB instance snapshot backup additional details.",
          "oneOf": [
            {
              "$ref": "#/definitions/SnapshotBackupAdditionalDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tieringPolicy": {
          "description": "Tiering policy to automatically move RPs to another tier.\r\nKey is Target Tier, defined in RecoveryPointTierType enum.\r\nTiering policy specifies the criteria to move RP to the target tier.",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/TieringPolicy"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "TieringPolicy": {
      "description": "Tiering Policy for a target tier.\r\nIf the policy is not specified for a given target tier, service retains the existing configured tiering policy for that tier",
      "properties": {
        "duration": {
          "description": "Number of days/weeks/months/years to retain backups in current tier before tiering.\r\nUsed only if TieringMode is set to TierAfter",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "durationType": {
          "description": "Retention duration type: days/weeks/months/years\r\nUsed only if TieringMode is set to TierAfter",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "Days",
                "Weeks",
                "Months",
                "Years"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tieringMode": {
          "description": "Tiering Mode to control automatic tiering of recovery points. Supported values are:\r\n1. TierRecommended: Tier all recovery points recommended to be tiered\r\n2. TierAfter: Tier all recovery points after a fixed period, as specified in duration + durationType below.\r\n3. DoNotTier: Do not tier any recovery points",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "TierRecommended",
                "TierAfter",
                "DoNotTier"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UserAssignedIdentity": {
      "description": "User assigned identity properties",
      "properties": {},
      "type": "object"
    },
    "UserAssignedIdentityProperties": {
      "description": "User assigned managed identity properties.",
      "properties": {
        "clientId": {
          "type": "string"
        },
        "principalId": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "UserAssignedManagedIdentityDetails": {
      "description": "User assigned managed identity details.",
      "properties": {
        "identityArmId": {
          "type": "string"
        },
        "identityName": {
          "type": "string"
        },
        "userAssignedIdentityProperties": {
          "description": "User assigned managed identity properties.",
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedIdentityProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "UserAssignedServiceIdentity": {
      "description": "Managed service identity (user assigned identities)",
      "properties": {
        "type": {
          "description": "Type of manage identity",
          "oneOf": [
            {
              "enum": [
                "None",
                "UserAssigned"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "userAssignedIdentities": {
          "description": "User assigned identities dictionary",
          "oneOf": [
            {
              "additionalProperties": {
                "$ref": "#/definitions/UserAssignedIdentity"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "VMBackupPolicyProperties": {
      "description": "Defines the policy properties for virtual machine backup.",
      "properties": {
        "name": {
          "description": "The name of the VM Backup policy.",
          "type": "string"
        },
        "properties": {
          "description": "IaaS VM workload-specific backup policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/AzureIaaSVMProtectionPolicy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name"
      ],
      "type": "object"
    },
    "WeeklyRetentionFormat": {
      "description": "Weekly retention format.",
      "properties": {
        "daysOfTheWeek": {
          "description": "List of days of the week.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Sunday",
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday",
                  "Saturday"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "weeksOfTheMonth": {
          "description": "List of weeks of month.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "First",
                  "Second",
                  "Third",
                  "Fourth",
                  "Last",
                  "Invalid"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "WeeklyRetentionSchedule": {
      "description": "Weekly retention schedule.",
      "properties": {
        "daysOfTheWeek": {
          "description": "List of days of week for weekly retention policy.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Sunday",
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday",
                  "Saturday"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionDuration": {
          "description": "Retention duration of retention Policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionDuration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionTimes": {
          "description": "Retention times of retention policy.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "WeeklySchedule": {
      "description": "Weekly schedule.",
      "properties": {
        "scheduleRunDays": {
          "description": "Schedule run days.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Sunday",
                  "Monday",
                  "Tuesday",
                  "Wednesday",
                  "Thursday",
                  "Friday",
                  "Saturday"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scheduleRunTimes": {
          "description": "List of times of day this schedule has to be run.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "YearlyRetentionSchedule": {
      "description": "Yearly retention schedule.",
      "properties": {
        "monthsOfYear": {
          "description": "List of months of year of yearly retention policy.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Invalid",
                  "January",
                  "February",
                  "March",
                  "April",
                  "May",
                  "June",
                  "July",
                  "August",
                  "September",
                  "October",
                  "November",
                  "December"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionDuration": {
          "description": "Retention duration of retention Policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/RetentionDuration"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleDaily": {
          "description": "Daily retention format for yearly retention policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/DailyRetentionFormat"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleFormatType": {
          "description": "Retention schedule format for yearly retention policy.",
          "oneOf": [
            {
              "enum": [
                "Invalid",
                "Daily",
                "Weekly"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionScheduleWeekly": {
          "description": "Weekly retention format for yearly retention policy.",
          "oneOf": [
            {
              "$ref": "#/definitions/WeeklyRetentionFormat"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "retentionTimes": {
          "description": "Retention times of retention policy.",
          "oneOf": [
            {
              "items": {
                "format": "date-time",
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "connectors_acssBackups_childResource": {
      "description": "Microsoft.Workloads/connectors/acssBackups",
      "properties": {
        "apiVersion": {
          "enum": [
            "2023-10-01-preview"
          ],
          "type": "string"
        },
        "location": {
          "description": "The geo-location where the resource lives",
          "type": "string"
        },
        "name": {
          "description": "The name of the backup connection resource of virtual instance for SAP.",
          "oneOf": [
            {
              "pattern": "^.+",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "Defines the backup connection properties for a virtual instance for SAP.",
          "oneOf": [
            {
              "$ref": "#/definitions/AcssBackupConnectionProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "tags": {
          "description": "Resource tags.",
          "oneOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "properties": {},
              "type": "object"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "acssBackups"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  }
}