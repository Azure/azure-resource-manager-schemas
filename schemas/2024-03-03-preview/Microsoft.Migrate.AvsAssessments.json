{
  "id": "https://schema.management.azure.com/schemas/2024-03-03-preview/Microsoft.Migrate.AvsAssessments.json#",
  "title": "Microsoft.Migrate",
  "description": "Microsoft Migrate Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "assessmentProjects_avsAssessments": {
      "description": "Microsoft.Migrate/assessmentProjects/avsAssessments",
      "properties": {
        "apiVersion": {
          "enum": [
            "2024-03-03-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "AVS Assessment ARM name",
          "oneOf": [
            {
              "pattern": "^[^<>&:\\?/#]{1,260}$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The resource-specific properties for this resource.",
          "oneOf": [
            {
              "$ref": "#/definitions/AvsAssessmentPropertiesV2"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Migrate/assessmentProjects/avsAssessments"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "AssessmentDetails": {
      "description": "Assessment details class.",
      "properties": {},
      "type": "object"
    },
    "AvsAssessmentPropertiesV2": {
      "description": "Assessment properties class.",
      "properties": {
        "details": {
          "description": "Gets or sets the details of the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/AssessmentDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "fallbackMachineAssessmentArmId": {
          "description": "Gets or sets the machine assessment ARM ID for VM fallback.",
          "type": "string"
        },
        "scope": {
          "description": "Gets or sets the scope of assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/Scope"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "settings": {
          "description": "Gets or sets the settings for the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/AvsAssessmentSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "AvsAssessmentSettings": {
      "description": "Properties of the AVS assessment.",
      "properties": {
        "avsAssessmentScenario": {
          "description": "AVS Assessment Scenario.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "NewAvsSddc",
                "AvsSddcExpansion"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureLocation": {
          "description": "Azure Location or Azure region where to which the machines will be migrated.",
          "type": "string"
        },
        "billingSettings": {
          "description": "Gets or sets the billing settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/BillingSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "cpuHeadroom": {
          "description": "Gets or sets the CPU headroom.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "currency": {
          "description": "Currency in which prices should be reported.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "USD",
                "DKK",
                "CAD",
                "IDR",
                "JPY",
                "KRW",
                "NZD",
                "NOK",
                "RUB",
                "SAR",
                "ZAR",
                "SEK",
                "TRY",
                "GBP",
                "MXN",
                "MYR",
                "INR",
                "HKD",
                "BRL",
                "TWD",
                "EUR",
                "CHF",
                "ARS",
                "AUD",
                "CNY"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "dedupeCompression": {
          "description": "De-duplication compression.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "discountPercentage": {
          "description": "Custom discount percentage.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "environmentType": {
          "description": "Gets or sets user configurable setting to display the environment type.",
          "oneOf": [
            {
              "enum": [
                "Production",
                "Unknown",
                "DevTest"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "externalStorageTypes": {
          "description": "List of AVS external storage types.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "None",
                  "AnfStandard",
                  "AnfPremium",
                  "AnfUltra"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "failuresToTolerateAndRaidLevelList": {
          "description": "List of Failures to tolerate and RAID levels in a common property.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "Ftt1Raid1",
                  "Ftt1Raid5",
                  "Ftt2Raid1",
                  "Ftt2Raid6",
                  "Ftt3Raid1"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isStretchClusterEnabled": {
          "description": "Is Stretch Cluster Enabled.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isVcfByolEnabled": {
          "description": "Is VCF license applied",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "memOvercommit": {
          "description": "Memory overcommit.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "nodeTypes": {
          "description": "AVS node types.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "AV36",
                  "AV36P",
                  "AV52",
                  "AV64"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "performanceData": {
          "description": "Gets or sets the performance data.",
          "oneOf": [
            {
              "$ref": "#/definitions/PerformanceData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsSettings": {
          "description": "Gets or sets the savings settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SavingsSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scalingFactor": {
          "description": "Percentage of buffer that user wants on performance metrics when recommending\nAzure sizes.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sizingCriterion": {
          "description": "Assessment sizing criterion.",
          "oneOf": [
            {
              "enum": [
                "PerformanceBased",
                "AsOnPremises"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "vcpuOversubscription": {
          "description": "VCPU over subscription.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "BillingSettings": {
      "description": "Billing settings class.",
      "properties": {
        "licensingProgram": {
          "description": "Gets or sets the licensing program.",
          "oneOf": [
            {
              "enum": [
                "Retail",
                "Unknown",
                "EA",
                "MCA"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subscriptionId": {
          "description": "Gets or sets the subscription ID for licensing program selected.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "PerformanceData": {
      "description": "Performance data class.",
      "properties": {
        "percentile": {
          "description": "Percentile of the utilization data values to be considered while assessing\nmachines.",
          "oneOf": [
            {
              "enum": [
                "Percentile50",
                "Percentile90",
                "Percentile95",
                "Percentile99",
                "PercentileUnknown"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "perfDataEndTime": {
          "description": "Gets or sets the end time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "perfDataStartTime": {
          "description": "Gets or sets the start time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "timeRange": {
          "description": "Time Range for which the historic utilization data should be considered for\nassessment.",
          "oneOf": [
            {
              "enum": [
                "Day",
                "Week",
                "Month",
                "Custom"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SavingsSettings": {
      "description": "Savings settings class.",
      "properties": {
        "azureOfferCode": {
          "description": "Gets or sets the Azure offer code.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "MSAZR0003P",
                "MSAZR0023P",
                "MSMCAZR0044P",
                "MSMCAZR0059P",
                "MSMCAZR0060P",
                "MSMCAZR0063P",
                "MSAZRUSGOV0003P",
                "EA",
                "SavingsPlan1Year",
                "SavingsPlan3Year"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsOptions": {
          "description": "Gets or sets the savings options.",
          "oneOf": [
            {
              "enum": [
                "None",
                "RI1Year",
                "RI3Year",
                "SavingsPlan1Year",
                "SavingsPlan3Year",
                "CustomAzureOfferCode"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Scope": {
      "description": "Scope of the assessment.",
      "properties": {
        "azureResourceGraphQuery": {
          "description": "The ARG query.",
          "type": "string"
        },
        "scopeType": {
          "description": "The scope type",
          "oneOf": [
            {
              "enum": [
                "ServerGroupId",
                "AzureResourceGraphQuery"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "serverGroupId": {
          "description": "The server group arm id.",
          "type": "string"
        }
      },
      "type": "object"
    }
  }
}