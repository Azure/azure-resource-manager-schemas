{
  "id": "https://schema.management.azure.com/schemas/2024-03-03-preview/Microsoft.Migrate.MachineAssessments.json#",
  "title": "Microsoft.Migrate",
  "description": "Microsoft Migrate Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "assessmentProjects_assessments": {
      "description": "Microsoft.Migrate/assessmentProjects/assessments",
      "properties": {
        "apiVersion": {
          "enum": [
            "2024-03-03-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "Machine Assessment V2 ARM name",
          "oneOf": [
            {
              "pattern": "^[^<>&:\\?/#]{1,260}$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The resource-specific properties for this resource.",
          "oneOf": [
            {
              "$ref": "#/definitions/MachineAssessmentV2Properties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Migrate/assessmentProjects/assessments"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "AssessmentDetails": {
      "description": "Assessment details class.",
      "properties": {},
      "type": "object"
    },
    "BillingSettings": {
      "description": "Billing settings class.",
      "properties": {
        "licensingProgram": {
          "description": "Gets or sets the licensing program.",
          "oneOf": [
            {
              "enum": [
                "Retail",
                "Unknown",
                "EA",
                "MCA"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subscriptionId": {
          "description": "Gets or sets the subscription ID for licensing program selected.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "MachineAssessmentSettings": {
      "description": "Properties of an assessment.",
      "properties": {
        "azureDiskTypes": {
          "description": "The disk type for the assessment.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "Standard",
                  "StandardSSD",
                  "Premium",
                  "StandardOrPremium",
                  "Ultra",
                  "PremiumV2"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureHybridUseBenefit": {
          "description": "Gets or sets the user configurable setting to display the azure hybrid use\nbenefit.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Yes",
                "No"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureLocation": {
          "description": "Azure Location or Azure region where to which the machines will be migrated.",
          "type": "string"
        },
        "azurePricingTier": {
          "description": "Gets or sets Azure Pricing Tier - Free, Basic, etc.",
          "oneOf": [
            {
              "enum": [
                "Standard",
                "Basic"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSecurityOfferingType": {
          "description": "The azure security offering type.",
          "oneOf": [
            {
              "enum": [
                "NO",
                "MDC"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureStorageRedundancy": {
          "description": "Gets or sets the Azure Storage Redundancy. Example: Locally Redundant Storage.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "LocallyRedundant",
                "ZoneRedundant",
                "GeoRedundant",
                "ReadAccessGeoRedundant"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureVmFamilies": {
          "description": "Gets or sets the Azure VM families.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "Basic_A0_A4",
                  "Standard_A0_A7",
                  "Standard_A8_A11",
                  "Av2_series",
                  "D_series",
                  "Dv2_series",
                  "DS_series",
                  "DSv2_series",
                  "F_series",
                  "Fs_series",
                  "G_series",
                  "GS_series",
                  "H_series",
                  "Ls_series",
                  "Dsv3_series",
                  "Dv3_series",
                  "Fsv2_series",
                  "Ev3_series",
                  "Esv3_series",
                  "M_series",
                  "DC_Series",
                  "Lsv2_series",
                  "Ev4_series",
                  "Esv4_series",
                  "Edv4_series",
                  "Edsv4_series",
                  "Dv4_series",
                  "Dsv4_series",
                  "Ddv4_series",
                  "Ddsv4_series",
                  "Easv4_series",
                  "Dasv4_series",
                  "Mv2_series",
                  "Eav4_series",
                  "Dav4_series",
                  "Msv2_series",
                  "Mdsv2_series",
                  "Dv5_series",
                  "Dsv5_series",
                  "Ddv5_series",
                  "Ddsv5_series",
                  "Dasv5_series",
                  "Dadsv5_series",
                  "Ev5_series",
                  "Esv5_series",
                  "Edv5_series",
                  "Edsv5_series",
                  "Easv5_series",
                  "Eadsv5_series",
                  "Ebsv5_series",
                  "Ebdsv5_series"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureVmSecurityOptions": {
          "description": "Gets or sets the Azure VM security options.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "Standard",
                  "TVM",
                  "CVM"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "billingSettings": {
          "description": "Gets or sets the billing settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/BillingSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "currency": {
          "description": "Currency in which prices should be reported.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "USD",
                "DKK",
                "CAD",
                "IDR",
                "JPY",
                "KRW",
                "NZD",
                "NOK",
                "RUB",
                "SAR",
                "ZAR",
                "SEK",
                "TRY",
                "GBP",
                "MXN",
                "MYR",
                "INR",
                "HKD",
                "BRL",
                "TWD",
                "EUR",
                "CHF",
                "ARS",
                "AUD",
                "CNY"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "discountPercentage": {
          "description": "Custom discount percentage.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "environmentType": {
          "description": "Gets or sets user configurable setting to display the environment type.",
          "oneOf": [
            {
              "enum": [
                "Production",
                "Unknown",
                "DevTest"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "linuxAzureHybridUseBenefit": {
          "description": "Gets or sets the user configurable setting to display the linux azure hybrid use\nbenefit.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Yes",
                "No"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "performanceData": {
          "description": "Gets or sets the performance data.",
          "oneOf": [
            {
              "$ref": "#/definitions/PerformanceData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsSettings": {
          "description": "Gets or sets the savings settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SavingsSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scalingFactor": {
          "description": "Percentage of buffer that user wants on performance metrics when recommending\nAzure sizes.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sizingCriterion": {
          "description": "Assessment sizing criterion.",
          "oneOf": [
            {
              "enum": [
                "PerformanceBased",
                "AsOnPremises"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "vmUptime": {
          "description": "Gets or sets the duration for which the VMs are up in the on-premises\nenvironment.",
          "oneOf": [
            {
              "$ref": "#/definitions/VmUptime"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "MachineAssessmentV2Properties": {
      "description": "Assessment properties class.",
      "properties": {
        "details": {
          "description": "Gets or sets the details of the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/AssessmentDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scope": {
          "description": "Gets or sets the scope of assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/Scope"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "settings": {
          "description": "Gets or sets the settings for the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/MachineAssessmentSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PerformanceData": {
      "description": "Performance data class.",
      "properties": {
        "percentile": {
          "description": "Percentile of the utilization data values to be considered while assessing\nmachines.",
          "oneOf": [
            {
              "enum": [
                "Percentile50",
                "Percentile90",
                "Percentile95",
                "Percentile99",
                "PercentileUnknown"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "perfDataEndTime": {
          "description": "Gets or sets the end time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "perfDataStartTime": {
          "description": "Gets or sets the start time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "timeRange": {
          "description": "Time Range for which the historic utilization data should be considered for\nassessment.",
          "oneOf": [
            {
              "enum": [
                "Day",
                "Week",
                "Month",
                "Custom"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SavingsSettings": {
      "description": "Savings settings class.",
      "properties": {
        "azureOfferCode": {
          "description": "Gets or sets the Azure offer code.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "MSAZR0003P",
                "MSAZR0023P",
                "MSMCAZR0044P",
                "MSMCAZR0059P",
                "MSMCAZR0060P",
                "MSMCAZR0063P",
                "MSAZRUSGOV0003P",
                "EA",
                "SavingsPlan1Year",
                "SavingsPlan3Year"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsOptions": {
          "description": "Gets or sets the savings options.",
          "oneOf": [
            {
              "enum": [
                "None",
                "RI1Year",
                "RI3Year",
                "SavingsPlan1Year",
                "SavingsPlan3Year",
                "CustomAzureOfferCode"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Scope": {
      "description": "Scope of the assessment.",
      "properties": {
        "azureResourceGraphQuery": {
          "description": "The ARG query.",
          "type": "string"
        },
        "scopeType": {
          "description": "The scope type",
          "oneOf": [
            {
              "enum": [
                "ServerGroupId",
                "AzureResourceGraphQuery"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "serverGroupId": {
          "description": "The server group arm id.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "VmUptime": {
      "description": "Details on the total up-time for the VM.",
      "properties": {
        "daysPerMonth": {
          "description": "Number of days in a month for VM uptime.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "hoursPerDay": {
          "description": "Number of hours per day for VM uptime.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    }
  }
}