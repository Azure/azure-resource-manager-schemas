{
  "id": "https://schema.management.azure.com/schemas/2024-03-03-preview/Microsoft.Migrate.SqlAssessments.json#",
  "title": "Microsoft.Migrate",
  "description": "Microsoft Migrate Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "assessmentProjects_sqlAssessments": {
      "description": "Microsoft.Migrate/assessmentProjects/sqlAssessments",
      "properties": {
        "apiVersion": {
          "enum": [
            "2024-03-03-preview"
          ],
          "type": "string"
        },
        "name": {
          "description": "SQL Assessment arm name.",
          "oneOf": [
            {
              "pattern": "^[^<>&:\\?/#]{1,260}$",
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "properties": {
          "description": "The resource-specific properties for this resource.",
          "oneOf": [
            {
              "$ref": "#/definitions/SqlAssessmentV3Properties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "type": {
          "enum": [
            "Microsoft.Migrate/assessmentProjects/sqlAssessments"
          ],
          "type": "string"
        }
      },
      "required": [
        "name",
        "properties",
        "apiVersion",
        "type"
      ],
      "type": "object"
    }
  },
  "definitions": {
    "AssessmentDetails": {
      "description": "Assessment details class.",
      "properties": {},
      "type": "object"
    },
    "BillingSettings": {
      "description": "Billing settings class.",
      "properties": {
        "licensingProgram": {
          "description": "Gets or sets the licensing program.",
          "oneOf": [
            {
              "enum": [
                "Retail",
                "Unknown",
                "EA",
                "MCA"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "subscriptionId": {
          "description": "Gets or sets the subscription ID for licensing program selected.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "EntityUptime": {
      "description": "Entity Uptime.",
      "properties": {
        "daysPerMonth": {
          "description": "Gets the days per month.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "hoursPerDay": {
          "description": "Gets the hours per day.",
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "PerformanceData": {
      "description": "Performance data class.",
      "properties": {
        "percentile": {
          "description": "Percentile of the utilization data values to be considered while assessing\nmachines.",
          "oneOf": [
            {
              "enum": [
                "Percentile50",
                "Percentile90",
                "Percentile95",
                "Percentile99",
                "PercentileUnknown"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "perfDataEndTime": {
          "description": "Gets or sets the end time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "perfDataStartTime": {
          "description": "Gets or sets the start time to consider performance data for assessment.",
          "format": "date-time",
          "type": "string"
        },
        "timeRange": {
          "description": "Time Range for which the historic utilization data should be considered for\nassessment.",
          "oneOf": [
            {
              "enum": [
                "Day",
                "Week",
                "Month",
                "Custom"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SavingsSettings": {
      "description": "Savings settings class.",
      "properties": {
        "azureOfferCode": {
          "description": "Gets or sets the Azure offer code.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "MSAZR0003P",
                "MSAZR0023P",
                "MSMCAZR0044P",
                "MSMCAZR0059P",
                "MSMCAZR0060P",
                "MSMCAZR0063P",
                "MSAZRUSGOV0003P",
                "EA",
                "SavingsPlan1Year",
                "SavingsPlan3Year"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsOptions": {
          "description": "Gets or sets the savings options.",
          "oneOf": [
            {
              "enum": [
                "None",
                "RI1Year",
                "RI3Year",
                "SavingsPlan1Year",
                "SavingsPlan3Year",
                "CustomAzureOfferCode"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "Scope": {
      "description": "Scope of the assessment.",
      "properties": {
        "azureResourceGraphQuery": {
          "description": "The ARG query.",
          "type": "string"
        },
        "scopeType": {
          "description": "The scope type",
          "oneOf": [
            {
              "enum": [
                "ServerGroupId",
                "AzureResourceGraphQuery"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "serverGroupId": {
          "description": "The server group arm id.",
          "type": "string"
        }
      },
      "type": "object"
    },
    "SqlAssessmentSettings": {
      "description": "SQL assessment settings class.",
      "properties": {
        "asyncCommitModeIntent": {
          "description": "Gets or sets user preference indicating intent of async commit mode.",
          "oneOf": [
            {
              "enum": [
                "None",
                "HighAvailability",
                "DisasterRecovery"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureLocation": {
          "description": "Azure Location or Azure region where to which the machines will be migrated.",
          "type": "string"
        },
        "azureSecurityOfferingType": {
          "description": "Gets or sets a value indicating azure security offering type.",
          "oneOf": [
            {
              "enum": [
                "NO",
                "MDC"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlDatabaseSettings": {
          "description": "Gets or sets user configurable SQL database settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SqlDbSettingsV3"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlManagedInstanceSettings": {
          "description": "Gets or sets user configurable SQL managed instance settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SqlMiSettingsV3"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlVmSettings": {
          "description": "Gets or sets user configurable SQL VM settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SqlVmSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "billingSettings": {
          "description": "Gets or sets the billing settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/BillingSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "currency": {
          "description": "Currency in which prices should be reported.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "USD",
                "DKK",
                "CAD",
                "IDR",
                "JPY",
                "KRW",
                "NZD",
                "NOK",
                "RUB",
                "SAR",
                "ZAR",
                "SEK",
                "TRY",
                "GBP",
                "MXN",
                "MYR",
                "INR",
                "HKD",
                "BRL",
                "TWD",
                "EUR",
                "CHF",
                "ARS",
                "AUD",
                "CNY"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "disasterRecoveryLocation": {
          "description": "Gets or sets the Azure Location or Azure region where to which the machines\nwill be migrated.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "EastAsia",
                "SoutheastAsia",
                "AustraliaEast",
                "AustraliaSoutheast",
                "BrazilSouth",
                "CanadaCentral",
                "CanadaEast",
                "WestEurope",
                "NorthEurope",
                "CentralIndia",
                "SouthIndia",
                "WestIndia",
                "JapanEast",
                "JapanWest",
                "KoreaCentral",
                "KoreaSouth",
                "UkWest",
                "UkSouth",
                "NorthCentralUs",
                "EastUs",
                "WestUs2",
                "SouthCentralUs",
                "CentralUs",
                "EastUs2",
                "WestUs",
                "WestCentralUs",
                "GermanyCentral",
                "GermanyNortheast",
                "ChinaNorth",
                "ChinaEast",
                "USGovArizona",
                "USGovTexas",
                "USGovIowa",
                "USGovVirginia",
                "USDoDCentral",
                "USDoDEast",
                "FranceCentral",
                "AustraliaCentral",
                "SouthAfricaNorth",
                "FranceSouth",
                "AustraliaCentral2",
                "SouthAfricaWest",
                "GermanyNorth",
                "GermanyWestCentral",
                "NorwayEast",
                "NorwayWest",
                "ChinaEast2",
                "ChinaNorth2",
                "SwitzerlandNorth",
                "SwitzerlandWest",
                "UAENorth",
                "UAECentral",
                "UsNatEast",
                "UsNatWest",
                "UsSecEast",
                "UsSecCentral",
                "UsSecWest",
                "SwedenCentral",
                "QatarCentral",
                "JioIndiaWest",
                "ItalyNorth",
                "PolandCentral",
                "IsraelCentral",
                "MexicoCentral",
                "NewZealandNorth",
                "SpainCentral"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "discountPercentage": {
          "description": "Custom discount percentage.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "enableHadrAssessment": {
          "description": "Gets or sets a value indicating whether HADR assessments needs to be created.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "entityUptime": {
          "description": "Gets or sets the duration for which the entity (SQL, VMs) are up in the\non-premises environment.",
          "oneOf": [
            {
              "$ref": "#/definitions/EntityUptime"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "environmentType": {
          "description": "Gets or sets user configurable setting to display the environment type.",
          "oneOf": [
            {
              "enum": [
                "Production",
                "Unknown",
                "DevTest"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "isInternetAccessAvailable": {
          "description": "Gets or sets a value indicating whether internet access is available.",
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "multiSubnetIntent": {
          "description": "Gets or sets user preference indicating intent of multi-subnet configuration.",
          "oneOf": [
            {
              "enum": [
                "None",
                "HighAvailability",
                "DisasterRecovery"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "osLicense": {
          "description": "Gets or sets user configurable setting to display the azure hybrid use benefit.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Yes",
                "No"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "performanceData": {
          "description": "Gets or sets the performance data.",
          "oneOf": [
            {
              "$ref": "#/definitions/PerformanceData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "preferredTargets": {
          "description": "Gets or sets SQL the preferred azure targets.",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "SqlDatabase",
                  "SqlMI",
                  "FlexServerPG",
                  "OracleIaasVM",
                  "AzureSpringApps",
                  "SAPAzureInstance",
                  "AKS",
                  "MySQLAzureFlexServer",
                  "AzureSQLVM",
                  "AzureVM",
                  "AzureAppService",
                  "AzureAppServiceContainer",
                  "Avs"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "savingsSettings": {
          "description": "Gets or sets the savings settings.",
          "oneOf": [
            {
              "$ref": "#/definitions/SavingsSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "scalingFactor": {
          "description": "Percentage of buffer that user wants on performance metrics when recommending\nAzure sizes.",
          "oneOf": [
            {
              "type": "number"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sizingCriterion": {
          "description": "Assessment sizing criterion.",
          "oneOf": [
            {
              "enum": [
                "PerformanceBased",
                "AsOnPremises"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sqlServerLicense": {
          "description": "SQL server license.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Yes",
                "No"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SqlAssessmentV3Properties": {
      "description": "SQL assessment properties class.",
      "properties": {
        "details": {
          "description": "Gets or sets the details of the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/AssessmentDetails"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "fallbackMachineAssessmentArmId": {
          "description": "Gets or sets the machine assessment ARM ID for VM fallback.",
          "type": "string"
        },
        "scope": {
          "description": "Gets or sets the scope of assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/Scope"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "settings": {
          "description": "Gets or sets the settings for the assessment.",
          "oneOf": [
            {
              "$ref": "#/definitions/SqlAssessmentSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SqlDbSettingsV3": {
      "description": "SQL database assessment settings V3.",
      "properties": {
        "azureSqlComputeTier": {
          "description": "Gets or sets the azure SQL compute tier.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Automatic",
                "Provisioned",
                "Serverless"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlDataBaseType": {
          "description": "Gets or sets the azure PAAS SQL instance type.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Automatic",
                "SingleDatabase",
                "ElasticPool"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlPurchaseModel": {
          "description": "Gets or sets the azure SQL purchase model.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "VCore",
                "DTU"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlServiceTier": {
          "description": "Gets or sets the azure SQL service tier.",
          "oneOf": [
            {
              "enum": [
                "SqlService_Unknown",
                "SqlService_Automatic",
                "SqlService_GeneralPurpose",
                "SqlService_BusinessCritical",
                "SqlService_HyperScale"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SqlMiSettingsV3": {
      "description": "SQL managed instance assessment settings V3.",
      "properties": {
        "azureSqlInstanceType": {
          "description": "Gets or sets the azure PAAS SQL instance type.",
          "oneOf": [
            {
              "enum": [
                "Unknown",
                "Automatic",
                "SingleInstance",
                "InstancePools"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "azureSqlServiceTier": {
          "description": "Gets or sets the azure SQL service tier.",
          "oneOf": [
            {
              "enum": [
                "SqlService_Unknown",
                "SqlService_Automatic",
                "SqlService_GeneralPurpose",
                "SqlService_BusinessCritical",
                "SqlService_HyperScale"
              ],
              "type": "string"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    },
    "SqlVmSettings": {
      "description": "SQL VM assessment settings.",
      "properties": {
        "instanceSeries": {
          "description": "Gets or sets the Azure VM families (calling instance series to keep it\nconsistent with other targets).",
          "oneOf": [
            {
              "items": {
                "enum": [
                  "Unknown",
                  "Basic_A0_A4",
                  "Standard_A0_A7",
                  "Standard_A8_A11",
                  "Av2_series",
                  "D_series",
                  "Dv2_series",
                  "DS_series",
                  "DSv2_series",
                  "F_series",
                  "Fs_series",
                  "G_series",
                  "GS_series",
                  "H_series",
                  "Ls_series",
                  "Dsv3_series",
                  "Dv3_series",
                  "Fsv2_series",
                  "Ev3_series",
                  "Esv3_series",
                  "M_series",
                  "DC_Series",
                  "Lsv2_series",
                  "Ev4_series",
                  "Esv4_series",
                  "Edv4_series",
                  "Edsv4_series",
                  "Dv4_series",
                  "Dsv4_series",
                  "Ddv4_series",
                  "Ddsv4_series",
                  "Easv4_series",
                  "Dasv4_series",
                  "Mv2_series",
                  "Eav4_series",
                  "Dav4_series",
                  "Msv2_series",
                  "Mdsv2_series",
                  "Dv5_series",
                  "Dsv5_series",
                  "Ddv5_series",
                  "Ddsv5_series",
                  "Dasv5_series",
                  "Dadsv5_series",
                  "Ev5_series",
                  "Esv5_series",
                  "Edv5_series",
                  "Edsv5_series",
                  "Easv5_series",
                  "Eadsv5_series",
                  "Ebsv5_series",
                  "Ebdsv5_series"
                ],
                "type": "string"
              },
              "type": "array"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "type": "object"
    }
  }
}