{
  "id": "https://schema.management.azure.com/schemas/2024-03-11/Microsoft.Insights.json#",
  "title": "Microsoft.Insights",
  "description": "Microsoft Insights Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "tenant_resourceDefinitions": {
    "dataCollectionRuleAssociations": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionRuleAssociations"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleAssociationProxyOnlyResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionRuleAssociations"
    }
  },
  "managementGroup_resourceDefinitions": {
    "dataCollectionRuleAssociations": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionRuleAssociations"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleAssociationProxyOnlyResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionRuleAssociations"
    }
  },
  "subscription_resourceDefinitions": {
    "dataCollectionRuleAssociations": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionRuleAssociations"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleAssociationProxyOnlyResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionRuleAssociations"
    }
  },
  "resourceDefinitions": {
    "dataCollectionEndpoints": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionEndpoints"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointResourceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed service identity of the resource."
        },
        "kind": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Linux",
                "Windows"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kind of the resource."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointResourceSku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "location",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionEndpoints"
    },
    "dataCollectionRuleAssociations": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionRuleAssociations"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleAssociationProxyOnlyResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionRuleAssociations"
    },
    "dataCollectionRules": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-03-11"
          ]
        },
        "name": {
          "type": "string",
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.Insights/dataCollectionRules"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleResourceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed service identity of the resource."
        },
        "kind": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Linux",
                "Windows"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The kind of the resource."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleResourceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ]
        },
        "sku": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleResourceSku"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The SKU of the resource."
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "location",
        "properties"
      ],
      "description": "Microsoft.Insights/dataCollectionRules"
    }
  },
  "definitions": {
    "AdxDestination": {
      "type": "object",
      "properties": {
        "databaseName": {
          "type": "string",
          "description": "The name of the database to which data will be ingested."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        },
        "resourceId": {
          "type": "string",
          "description": "The ARM resource id of the Adx resource."
        }
      }
    },
    "AgentSetting": {
      "type": "object",
      "properties": {
        "name": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "MaxDiskQuotaInMB",
                "UseTimeReceivedForForwardedEvents",
                "Tags"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the setting. \r\nMust be part of the list of supported settings"
        },
        "value": {
          "type": "string",
          "description": "The value of the setting"
        }
      }
    },
    "ApplicationInsights": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the reference used as an alias when referencing this application insights in Otel data sources"
        },
        "resourceId": {
          "type": "string",
          "description": "Id of the application insights resource"
        }
      },
      "required": [
        "name",
        "resourceId"
      ]
    },
    "ColumnDefinition": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the column."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "string",
                "int",
                "long",
                "real",
                "boolean",
                "datetime",
                "dynamic"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of the column data."
        }
      }
    },
    "DataCollectionEndpointConfigurationAccess": {
      "type": "object",
      "properties": {}
    },
    "DataCollectionEndpointLogsIngestion": {
      "type": "object",
      "properties": {}
    },
    "DataCollectionEndpointMetricsIngestion": {
      "type": "object",
      "properties": {}
    },
    "DataCollectionEndpointNetworkAcls": {
      "type": "object",
      "properties": {
        "publicNetworkAccess": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Enabled",
                "Disabled",
                "SecuredByPerimeter"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The configuration to set whether network access from public internet to the endpoints are allowed."
        }
      }
    },
    "DataCollectionEndpointResourceIdentity": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "None",
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned,UserAssigned"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."
        },
        "userAssignedIdentities": {
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedIdentities"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."
        }
      },
      "required": [
        "type"
      ]
    },
    "DataCollectionEndpointResourceProperties": {
      "type": "object",
      "properties": {
        "configurationAccess": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointConfigurationAccess"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The endpoint used by clients to access their configuration."
        },
        "description": {
          "type": "string",
          "description": "Description of the data collection endpoint."
        },
        "immutableId": {
          "type": "string",
          "description": "The immutable ID of this data collection endpoint resource. This property is READ-ONLY."
        },
        "logsIngestion": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointLogsIngestion"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The endpoint used by clients to ingest logs."
        },
        "metricsIngestion": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointMetricsIngestion"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The endpoint used by clients to ingest metrics."
        },
        "networkAcls": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionEndpointNetworkAcls"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Network access control rules for the endpoints."
        }
      }
    },
    "DataCollectionEndpointResourceSku": {
      "type": "object",
      "properties": {
        "capacity": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted."
        },
        "family": {
          "type": "string",
          "description": "If the service has different generations of hardware, for the same SKU, then that can be captured here."
        },
        "name": {
          "type": "string",
          "description": "The name of the SKU. E.g. P3. It is typically a letter+number code"
        },
        "size": {
          "type": "string",
          "description": "The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code."
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Free",
                "Basic",
                "Standard",
                "Premium"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT."
        }
      },
      "required": [
        "name"
      ]
    },
    "DataCollectionEndpointResourceTags": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "DataCollectionRuleAgentSettings": {
      "type": "object",
      "properties": {
        "logs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AgentSetting"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "All the settings that are applicable to the logs agent (AMA)"
        }
      }
    },
    "DataCollectionRuleAssociationProxyOnlyResourceProperties": {
      "type": "object",
      "properties": {
        "dataCollectionEndpointId": {
          "type": "string",
          "description": "The resource ID of the data collection endpoint that is to be associated."
        },
        "dataCollectionRuleId": {
          "type": "string",
          "description": "The resource ID of the data collection rule that is to be associated."
        },
        "description": {
          "type": "string",
          "description": "Description of the association."
        }
      }
    },
    "DataCollectionRuleDataSources": {
      "type": "object",
      "properties": {
        "dataImports": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataSourcesSpecDataImports"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifications of pull based data sources"
        },
        "etwProviders": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/EtwProviderDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of ETW providers data source configurations."
        },
        "extensions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ExtensionDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Azure VM extension data source configurations."
        },
        "iisLogs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/IisLogsDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of IIS logs source configurations."
        },
        "logFiles": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/LogFilesDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Log files source configurations."
        },
        "otelLogs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelLogsDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Otel Logs data source configurations."
        },
        "otelMetrics": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelMetricsDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of OTel metrics data source configurations."
        },
        "otelTraces": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelTracesDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Otel traces data source configurations."
        },
        "performanceCounters": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PerfCounterDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of performance counter data source configurations."
        },
        "performanceCountersOTel": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PerformanceCountersOTelDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Open Telemetry performance counter data source configurations."
        },
        "platformTelemetry": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PlatformTelemetryDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of platform telemetry configurations"
        },
        "prometheusForwarder": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PrometheusForwarderDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Prometheus forwarder data source configurations."
        },
        "syslog": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SyslogDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Syslog data source configurations."
        },
        "windowsEventLogs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/WindowsEventLogDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Windows Event Log data source configurations."
        },
        "windowsFirewallLogs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/WindowsFirewallLogsDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of Windows Firewall logs source configurations."
        }
      }
    },
    "DataCollectionRuleDestinations": {
      "type": "object",
      "properties": {
        "azureDataExplorer": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AdxDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Azure Data Explorer destinations."
        },
        "azureMonitorMetrics": {
          "oneOf": [
            {
              "$ref": "#/definitions/DestinationsSpecAzureMonitorMetrics"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Azure Monitor Metrics destination."
        },
        "eventHubs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/EventHubDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Event Hubs destinations."
        },
        "eventHubsDirect": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/EventHubDirectDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Event Hubs Direct destinations."
        },
        "logAnalytics": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/LogAnalyticsDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Log Analytics destinations."
        },
        "microsoftFabric": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/MicrosoftFabricDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Microsoft Fabric destinations."
        },
        "monitoringAccounts": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/MonitoringAccountDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of monitoring account destinations."
        },
        "storageAccounts": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageBlobDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of storage accounts destinations."
        },
        "storageBlobsDirect": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageBlobDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Storage Blob Direct destinations. To be used only for sending data directly to store from the agent."
        },
        "storageTablesDirect": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageTableDestination"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of Storage Table Direct destinations."
        }
      }
    },
    "DataCollectionRuleDirectDataSources": {
      "type": "object",
      "properties": {
        "otelLogs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelLogsDirectDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of OTel logs data source configurations."
        },
        "otelMetrics": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelMetricsDirectDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of OTel metrics data source configurations."
        },
        "otelTraces": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/OtelTracesDirectDataSource"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of OTel traces data source configurations."
        }
      }
    },
    "DataCollectionRuleReferences": {
      "type": "object",
      "properties": {
        "applicationInsights": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ApplicationInsights"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Application Insights references to be used on OTel metrics/logs enrichment"
        },
        "enrichmentData": {
          "oneOf": [
            {
              "$ref": "#/definitions/ReferencesSpecEnrichmentData"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "All the enrichment data sources referenced in data flows"
        }
      }
    },
    "DataCollectionRuleResourceIdentity": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "None",
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned,UserAssigned"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."
        },
        "userAssignedIdentities": {
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedIdentities"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."
        }
      },
      "required": [
        "type"
      ]
    },
    "DataCollectionRuleResourceProperties": {
      "type": "object",
      "properties": {
        "agentSettings": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleAgentSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Agent settings used to modify agent behavior on a given host"
        },
        "dataCollectionEndpointId": {
          "type": "string",
          "description": "The resource ID of the data collection endpoint that this rule can be used with."
        },
        "dataFlows": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/DataFlow"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The specification of data flows."
        },
        "dataSources": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleDataSources"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The specification of data sources. \r\n This property is optional and can be omitted if the rule is meant to be used via direct calls to the provisioned endpoint."
        },
        "description": {
          "type": "string",
          "description": "Description of the data collection rule."
        },
        "destinations": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleDestinations"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The specification of destinations."
        },
        "directDataSources": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleDirectDataSources"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The specification of direct data sources. \r\n This property is optional and can be omitted."
        },
        "references": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleReferences"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Defines all the references that may be used in other sections of the DCR"
        },
        "streamDeclarations": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataCollectionRuleStreamDeclarations"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Declaration of custom streams used in this rule."
        }
      }
    },
    "DataCollectionRuleResourceSku": {
      "type": "object",
      "properties": {
        "capacity": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted."
        },
        "family": {
          "type": "string",
          "description": "If the service has different generations of hardware, for the same SKU, then that can be captured here."
        },
        "name": {
          "type": "string",
          "description": "The name of the SKU. E.g. P3. It is typically a letter+number code"
        },
        "size": {
          "type": "string",
          "description": "The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code."
        },
        "tier": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Free",
                "Basic",
                "Standard",
                "Premium"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT."
        }
      },
      "required": [
        "name"
      ]
    },
    "DataCollectionRuleResourceTags": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "DataCollectionRuleStreamDeclarations": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "$ref": "#/definitions/StreamDeclaration"
      }
    },
    "DataFlow": {
      "type": "object",
      "properties": {
        "builtInTransform": {
          "type": "string",
          "description": "The builtIn transform to transform stream data"
        },
        "captureOverflow": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Flag to enable overflow column in LA destinations"
        },
        "destinations": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of destinations for this data flow."
        },
        "outputStream": {
          "type": "string",
          "description": "The output stream of the transform. Only required if the transform changes data to a different stream."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-Event",
                  "Microsoft-InsightsMetrics",
                  "Microsoft-Perf",
                  "Microsoft-Syslog",
                  "Microsoft-WindowsEvent"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams for this data flow."
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform stream data."
        }
      }
    },
    "DataImportSourcesEventHub": {
      "type": "object",
      "properties": {
        "consumerGroup": {
          "type": "string",
          "description": "Event Hub consumer group name"
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source. \r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "stream": {
          "type": "string",
          "description": "The stream to collect from EventHub"
        }
      }
    },
    "DataSourcesSpecDataImports": {
      "type": "object",
      "properties": {
        "eventHub": {
          "oneOf": [
            {
              "$ref": "#/definitions/DataImportSourcesEventHub"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Definition of Event Hub configuration."
        }
      }
    },
    "DestinationsSpecAzureMonitorMetrics": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        }
      }
    },
    "EtwProviderDataSource": {
      "type": "object",
      "properties": {
        "eventIds": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Events Ids to collect"
        },
        "keyword": {
          "type": "string",
          "description": "Event's membership in a set of event categories"
        },
        "logLevel": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Critical",
                "Error",
                "Warning",
                "Informational",
                "Verbose"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Minimal level of detail to be logged"
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "provider": {
          "type": "string",
          "description": "The provider GUID or class name for event source"
        },
        "providerType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "EventSource",
                "Manifest"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Provider type specification: By Manifest GUID or by Event Source name"
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to"
        }
      },
      "required": [
        "provider",
        "providerType",
        "streams"
      ]
    },
    "EventHubDestination": {
      "type": "object",
      "properties": {
        "eventHubResourceId": {
          "type": "string",
          "description": "The resource ID of the event hub."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        }
      }
    },
    "EventHubDirectDestination": {
      "type": "object",
      "properties": {
        "eventHubResourceId": {
          "type": "string",
          "description": "The resource ID of the event hub."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        }
      }
    },
    "ExtensionDataSource": {
      "type": "object",
      "properties": {
        "extensionName": {
          "type": "string",
          "description": "The name of the VM extension."
        },
        "extensionSettings": {
          "oneOf": [
            {},
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The extension settings. The format is specific for particular extension."
        },
        "inputDataSources": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of data sources this extension needs data from."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-Event",
                  "Microsoft-InsightsMetrics",
                  "Microsoft-Perf",
                  "Microsoft-Syslog",
                  "Microsoft-WindowsEvent"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        }
      },
      "required": [
        "extensionName"
      ]
    },
    "IisLogsDataSource": {
      "type": "object",
      "properties": {
        "logDirectories": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Absolute paths file location"
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "IIS streams"
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform the data source. This is a deprecated property and will be removed in future versions."
        }
      },
      "required": [
        "streams"
      ]
    },
    "LogAnalyticsDestination": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        },
        "workspaceResourceId": {
          "type": "string",
          "description": "The resource ID of the Log Analytics workspace."
        }
      }
    },
    "LogFilesDataSource": {
      "type": "object",
      "properties": {
        "filePatterns": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "File Patterns where the log files are located"
        },
        "format": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "json",
                "text"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The data format of the log files"
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "settings": {
          "oneOf": [
            {
              "$ref": "#/definitions/LogFilesDataSourceSettings"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The log files specific settings."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data source"
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform the data source. This is a deprecated property and will be removed in future versions."
        }
      },
      "required": [
        "filePatterns",
        "format",
        "streams"
      ]
    },
    "LogFilesDataSourceSettings": {
      "type": "object",
      "properties": {
        "text": {
          "oneOf": [
            {
              "$ref": "#/definitions/LogFileSettingsText"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Text settings"
        }
      }
    },
    "LogFileSettingsText": {
      "type": "object",
      "properties": {
        "recordStartTimestampFormat": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "ISO 8601",
                "YYYY-MM-DD HH:MM:SS",
                "M/D/YYYY HH:MM:SS AM/PM",
                "Mon DD, YYYY HH:MM:SS",
                "yyMMdd HH:mm:ss",
                "ddMMyy HH:mm:ss",
                "MMM d hh:mm:ss",
                "dd/MMM/yyyy:HH:mm:ss zzz",
                "yyyy-MM-ddTHH:mm:ssK"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "One of the supported timestamp formats"
        }
      },
      "required": [
        "recordStartTimestampFormat"
      ]
    },
    "MicrosoftFabricDestination": {
      "type": "object",
      "properties": {
        "artifactId": {
          "type": "string",
          "description": "The artifact id of the Microsoft Fabric resource."
        },
        "databaseName": {
          "type": "string",
          "description": "The name of the database to which data will be ingested."
        },
        "ingestionUri": {
          "type": "string",
          "description": "The ingestion uri of the Microsoft Fabric resource."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        },
        "tenantId": {
          "type": "string",
          "description": "The tenant id of the Microsoft Fabric resource."
        }
      }
    },
    "MonitoringAccountDestination": {
      "type": "object",
      "properties": {
        "accountResourceId": {
          "type": "string",
          "description": "The resource ID of the monitoring account."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        }
      }
    },
    "OtelLogsDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference alias to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "replaceResourceIdWithReference": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies whether to replace the default resourceId in the log record with the resourceId of the referenced resource being used for enrichment."
        },
        "resourceAttributeRouting": {
          "oneOf": [
            {
              "$ref": "#/definitions/OtelLogsDataSourceResourceAttributeRouting"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the routing policy based on OTLP payload resource attributes to route subset of the payload according to matching resource attribute."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-OTel-Logs"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "OtelLogsDataSourceResourceAttributeRouting": {
      "type": "object",
      "properties": {
        "attributeName": {
          "type": "string",
          "description": "The name of the resource attribute to match."
        },
        "attributeValue": {
          "type": "string",
          "description": "The value of the resource attribute to match."
        }
      }
    },
    "OtelLogsDirectDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "replaceResourceIdWithReference": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies whether to replace the default resourceId in the log record with the resourceId of the referenced resource being used for enrichment."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-OTel-Logs"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "OtelMetricsDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "resourceAttributeRouting": {
          "oneOf": [
            {
              "$ref": "#/definitions/OtelMetricsDataSourceResourceAttributeRouting"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the routing policy based on OTLP payload resource attributes to route subset of the payload according to matching resource attribute."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "OtelMetricsDataSourceResourceAttributeRouting": {
      "type": "object",
      "properties": {
        "attributeName": {
          "type": "string",
          "description": "The name of the resource attribute to match."
        },
        "attributeValue": {
          "type": "string",
          "description": "The value of the resource attribute to match."
        }
      }
    },
    "OtelMetricsDirectDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "OtelTracesDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "replaceResourceIdWithReference": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies whether to replace the default resourceId in the log record with the resourceId of the referenced resource being used for enrichment."
        },
        "resourceAttributeRouting": {
          "oneOf": [
            {
              "$ref": "#/definitions/OtelTracesDataSourceResourceAttributeRouting"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the routing policy based on OTLP payload resource attributes to route subset of the payload according to matching resource attribute."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-OTel-Traces-Spans",
                  "Microsoft-OTel-Traces-Events",
                  "Microsoft-OTel-Traces-Resources"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "OtelTracesDataSourceResourceAttributeRouting": {
      "type": "object",
      "properties": {
        "attributeName": {
          "type": "string",
          "description": "The name of the resource attribute to match."
        },
        "attributeValue": {
          "type": "string",
          "description": "The value of the resource attribute to match."
        }
      }
    },
    "OtelTracesDirectDataSource": {
      "type": "object",
      "properties": {
        "enrichWithReference": {
          "type": "string",
          "description": "Specifies the reference to enrich the telemetry signal with."
        },
        "enrichWithResourceAttributes": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the list of resource attributes that need to be added as labels/dimensions to the telemetry data for further enrichment."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "replaceResourceIdWithReference": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies whether to replace the default resourceId in the log record with the resourceId of the referenced resource being used for enrichment."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-OTel-Traces-Spans",
                  "Microsoft-OTel-Traces-Events",
                  "Microsoft-OTel-Traces-Resources"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        }
      },
      "required": [
        "streams"
      ]
    },
    "PerfCounterDataSource": {
      "type": "object",
      "properties": {
        "counterSpecifiers": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of specifier names of the performance counters you want to collect.\r\nUse a wildcard (*) to collect a counter for all instances.\r\nTo get a list of performance counters on Windows, run the command 'typeperf'."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "samplingFrequencyInSeconds": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The number of seconds between consecutive counter measurements (samples)."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-Perf",
                  "Microsoft-InsightsMetrics"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform the data source. This is a deprecated property and will be removed in future versions."
        }
      }
    },
    "PerformanceCountersOTelDataSource": {
      "type": "object",
      "properties": {
        "counterSpecifiers": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of specifier names of the performance counters you want to collect."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "samplingFrequencyInSeconds": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The number of seconds between consecutive counter measurements (samples)."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-OtelPerfMetrics"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        }
      }
    },
    "PlatformTelemetryDataSource": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of platform telemetry streams to collect"
        }
      },
      "required": [
        "streams"
      ]
    },
    "PrometheusForwarderDataSource": {
      "type": "object",
      "properties": {
        "customVMScrapeConfig": {
          "oneOf": [
            {
              "type": "array",
              "items": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Custom VM Scrape Config that defines scrape jobs"
        },
        "labelIncludeFilter": {
          "oneOf": [
            {
              "$ref": "#/definitions/PrometheusForwarderDataSourceLabelIncludeFilter"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of label inclusion filters in the form of label \"name-value\" pairs.\r\nCurrently only one label is supported: 'microsoft_metrics_include_label'.\r\nLabel values are matched case-insensitively."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-PrometheusMetrics"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to."
        }
      }
    },
    "PrometheusForwarderDataSourceLabelIncludeFilter": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "ReferencesSpecEnrichmentData": {
      "type": "object",
      "properties": {
        "storageBlobs": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/StorageBlob"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "All the storage blobs used as enrichment data sources"
        }
      }
    },
    "StorageBlob": {
      "type": "object",
      "properties": {
        "blobUrl": {
          "type": "string",
          "description": "Url of the storage blob"
        },
        "lookupType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "String",
                "Cidr"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of lookup to perform on the blob"
        },
        "name": {
          "type": "string",
          "description": "The name of the enrichment data source used as an alias when referencing this data source in data flows"
        },
        "resourceId": {
          "type": "string",
          "description": "Resource Id of the storage account that hosts the blob"
        }
      }
    },
    "StorageBlobDestination": {
      "type": "object",
      "properties": {
        "containerName": {
          "type": "string",
          "description": "The container name of the Storage Blob."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        },
        "storageAccountResourceId": {
          "type": "string",
          "description": "The resource ID of the storage account."
        }
      }
    },
    "StorageTableDestination": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the destination. \r\nThis name should be unique across all destinations (regardless of type) within the data collection rule."
        },
        "storageAccountResourceId": {
          "type": "string",
          "description": "The resource ID of the storage account."
        },
        "tableName": {
          "type": "string",
          "description": "The name of the Storage Table."
        }
      }
    },
    "StreamDeclaration": {
      "type": "object",
      "properties": {
        "columns": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ColumnDefinition"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of columns used by data in this stream."
        }
      }
    },
    "SyslogDataSource": {
      "type": "object",
      "properties": {
        "facilityNames": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "*",
                  "alert",
                  "audit",
                  "auth",
                  "authpriv",
                  "clock",
                  "cron",
                  "daemon",
                  "ftp",
                  "kern",
                  "local0",
                  "local1",
                  "local2",
                  "local3",
                  "local4",
                  "local5",
                  "local6",
                  "local7",
                  "lpr",
                  "mail",
                  "mark",
                  "news",
                  "nopri",
                  "ntp",
                  "syslog",
                  "user",
                  "uucp"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of facility names."
        },
        "logLevels": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Debug",
                  "Info",
                  "Notice",
                  "Warning",
                  "Error",
                  "Critical",
                  "Alert",
                  "Emergency",
                  "*"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The log levels to collect."
        },
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-Syslog"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform the data source. This is a deprecated property and will be removed in future versions."
        }
      }
    },
    "UserAssignedIdentities": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "$ref": "#/definitions/UserAssignedIdentity"
      }
    },
    "UserAssignedIdentity": {
      "type": "object",
      "properties": {}
    },
    "WindowsEventLogDataSource": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Microsoft-WindowsEvent",
                  "Microsoft-Event"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "List of streams that this data source will be sent to.\r\nA stream indicates what schema will be used for this data and usually what table in Log Analytics the data will be sent to."
        },
        "transformKql": {
          "type": "string",
          "description": "The KQL query to transform the data source. This is a deprecated property and will be removed in future versions."
        },
        "xPathQueries": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of Windows Event Log queries in XPATH format."
        }
      }
    },
    "WindowsFirewallLogsDataSource": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A friendly name for the data source.\r\nThis name should be unique across all data sources (regardless of type) within the data collection rule."
        },
        "profileFilter": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "Domain",
                  "Private",
                  "Public"
                ]
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Firewall logs profile filter"
        },
        "streams": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Firewall logs streams"
        }
      },
      "required": [
        "streams"
      ]
    }
  }
}