{
  "id": "https://schema.management.azure.com/schemas/2025-04-01-preview/Microsoft.ContainerService.json#",
  "title": "Microsoft.ContainerService",
  "description": "Microsoft ContainerService Resource Types",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "resourceDefinitions": {
    "fleets_autoUpgradeProfiles": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets/autoUpgradeProfiles"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoUpgradeProfileProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/autoUpgradeProfiles"
    },
    "fleets_members": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets/members"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetMemberProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/members"
    },
    "fleets_updateRuns": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets/updateRuns"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/updateRuns"
    },
    "fleets_updateStrategies": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets/updateStrategies"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetUpdateStrategyProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/updateStrategies"
    },
    "fleets": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 63
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedServiceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Managed identity."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        },
        "tags": {
          "oneOf": [
            {
              "$ref": "#/definitions/TrackedResourceTags"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "resources": {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "$ref": "#/definitions/fleets_autoUpgradeProfiles_childResource"
              },
              {
                "$ref": "#/definitions/fleets_gates_childResource"
              },
              {
                "$ref": "#/definitions/fleets_members_childResource"
              },
              {
                "$ref": "#/definitions/fleets_updateRuns_childResource"
              },
              {
                "$ref": "#/definitions/fleets_updateStrategies_childResource"
              }
            ]
          }
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "location",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets"
    }
  },
  "unknown_resourceDefinitions": {
    "fleets_gates": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-f]{8}[-][0-9a-f]{4}[-][0-9a-f]{4}[-][0-9a-f]{4}[-][0-9a-f]{12}$",
              "minLength": 36,
              "maxLength": 36
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.ContainerService/fleets/gates"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.ContainerService/fleets/gates"
    }
  },
  "definitions": {
    "AgentProfile": {
      "type": "object",
      "properties": {
        "subnetId": {
          "type": "string",
          "description": "The ID of the subnet which the Fleet hub node will join on startup. If this is not specified, a vnet and subnet will be generated and used."
        },
        "vmSize": {
          "type": "string",
          "description": "The virtual machine size of the Fleet hub."
        }
      }
    },
    "APIServerAccessProfile": {
      "type": "object",
      "properties": {
        "enablePrivateCluster": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether to create the Fleet hub as a private cluster or not."
        },
        "enableVnetIntegration": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Whether to enable apiserver vnet integration for the Fleet hub or not."
        },
        "subnetId": {
          "type": "string",
          "description": "The subnet to be used when apiserver vnet integration is enabled. It is required when creating a new Fleet with BYO vnet."
        }
      }
    },
    "AutoUpgradeNodeImageSelection": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Latest",
                "Consistent"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The node image upgrade type."
        }
      },
      "required": [
        "type"
      ]
    },
    "AutoUpgradeProfileProperties": {
      "type": "object",
      "properties": {
        "autoUpgradeProfileStatus": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoUpgradeProfileStatus"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The status of the auto upgrade profile."
        },
        "channel": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Stable",
                "Rapid",
                "NodeImage",
                "TargetKubernetesVersion"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Configures how auto-upgrade will be run."
        },
        "disabled": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If set to False: the auto upgrade has effect - target managed clusters will be upgraded on schedule.\nIf set to True: the auto upgrade has no effect - no upgrade will be run on the target managed clusters.\nThis is a boolean and not an enum because enabled/disabled are all available states of the auto upgrade profile.\nBy default, this is set to False."
        },
        "longTermSupport": {
          "oneOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "If upgrade channel is not TargetKubernetesVersion, this field must be False.\n  If set to True: Fleet auto upgrade will continue generate update runs for patches of minor versions earlier than N-2 \n  (where N is the latest supported minor version) if those minor versions support Long-Term Support (LTS).\n  By default, this is set to False.\n  For more information on AKS LTS, please see https://learn.microsoft.com/en-us/azure/aks/long-term-support"
        },
        "nodeImageSelection": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoUpgradeNodeImageSelection"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The node image upgrade to be applied to the target clusters in auto upgrade."
        },
        "targetKubernetesVersion": {
          "type": "string",
          "description": "This is the target Kubernetes version for auto-upgrade. The format must be `{major version}.{minor version}`. For example, \"1.30\".\n  By default, this is empty.\n  If upgrade channel is set to TargetKubernetesVersion, this field must not be empty.\n  If upgrade channel is Rapid, Stable or NodeImage, this field must be empty."
        },
        "updateStrategyId": {
          "type": "string",
          "description": "The resource id of the UpdateStrategy resource to reference. If not specified, the auto upgrade will run on all clusters which are members of the fleet."
        }
      },
      "required": [
        "channel"
      ]
    },
    "AutoUpgradeProfileStatus": {
      "type": "object",
      "properties": {}
    },
    "FleetHubProfile": {
      "type": "object",
      "properties": {
        "agentProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/AgentProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The agent profile for the Fleet hub."
        },
        "apiServerAccessProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/APIServerAccessProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The access profile for the Fleet hub API server."
        },
        "dnsPrefix": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]$|^[a-zA-Z0-9][a-zA-Z0-9-]{0,52}[a-zA-Z0-9]$",
              "minLength": 1,
              "maxLength": 54
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "DNS prefix used to create the FQDN for the Fleet hub."
        }
      }
    },
    "FleetMemberProperties": {
      "type": "object",
      "properties": {
        "clusterResourceId": {
          "type": "string",
          "description": "The ARM resource id of the cluster that joins the Fleet. Must be a valid Azure resource id. e.g.: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerService/managedClusters/{clusterName}'."
        },
        "group": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The group this member belongs to for multi-cluster update management."
        },
        "labels": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetMemberPropertiesLabels"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The labels for the fleet member."
        }
      },
      "required": [
        "clusterResourceId"
      ]
    },
    "FleetMemberPropertiesLabels": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "FleetProperties": {
      "type": "object",
      "properties": {
        "hubProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetHubProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The FleetHubProfile configures the Fleet's hub."
        }
      }
    },
    "FleetUpdateStrategyProperties": {
      "type": "object",
      "properties": {
        "strategy": {
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunStrategy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Defines the update sequence of the clusters."
        }
      },
      "required": [
        "strategy"
      ]
    },
    "GateConfiguration": {
      "type": "object",
      "properties": {
        "displayName": {
          "oneOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The human-readable display name of the Gate."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Approval"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of the Gate determines how it is completed."
        }
      },
      "required": [
        "type"
      ]
    },
    "ManagedClusterUpdate": {
      "type": "object",
      "properties": {
        "nodeImageSelection": {
          "oneOf": [
            {
              "$ref": "#/definitions/NodeImageSelection"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The node image upgrade to be applied to the target nodes in update run."
        },
        "upgrade": {
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedClusterUpgradeSpec"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The upgrade to apply to the ManagedClusters."
        }
      },
      "required": [
        "upgrade"
      ]
    },
    "ManagedClusterUpgradeSpec": {
      "type": "object",
      "properties": {
        "kubernetesVersion": {
          "type": "string",
          "description": "The Kubernetes version to upgrade the member clusters to."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Full",
                "NodeImageOnly",
                "ControlPlaneOnly"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "ManagedClusterUpgradeType is the type of upgrade to be applied."
        }
      },
      "required": [
        "type"
      ]
    },
    "ManagedServiceIdentity": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "None",
                "SystemAssigned",
                "UserAssigned",
                "SystemAssigned, UserAssigned"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Type of managed service identity (where both SystemAssigned and UserAssigned types are allowed)."
        },
        "userAssignedIdentities": {
          "oneOf": [
            {
              "$ref": "#/definitions/UserAssignedIdentities"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The set of user assigned identities associated with the resource. The userAssignedIdentities dictionary keys will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}. The dictionary values can be empty objects ({}) in requests."
        }
      },
      "required": [
        "type"
      ]
    },
    "NodeImageSelection": {
      "type": "object",
      "properties": {
        "customNodeImageVersions": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/NodeImageVersion"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Custom node image versions to upgrade the nodes to. This field is required if node image selection type is Custom. Otherwise, it must be empty. For each node image family (e.g., 'AKSUbuntu-1804gen2containerd'), this field can contain at most one version (e.g., only one of 'AKSUbuntu-1804gen2containerd-2023.01.12' or 'AKSUbuntu-1804gen2containerd-2023.02.12', not both). If the nodes belong to a family without a matching image version in this field, they are not upgraded."
        },
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Latest",
                "Consistent",
                "Custom"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The node image upgrade type."
        }
      },
      "required": [
        "type"
      ]
    },
    "NodeImageVersion": {
      "type": "object",
      "properties": {}
    },
    "TrackedResourceTags": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "string"
      }
    },
    "UpdateGroup": {
      "type": "object",
      "properties": {
        "afterGates": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GateConfiguration"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of Gates that will be created after this Group is executed."
        },
        "beforeGates": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GateConfiguration"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of Gates that will be created before this Group is executed."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Name of the group.\nIt must match a group name of an existing fleet member."
        }
      },
      "required": [
        "name"
      ]
    },
    "UpdateRunProperties": {
      "type": "object",
      "properties": {
        "managedClusterUpdate": {
          "oneOf": [
            {
              "$ref": "#/definitions/ManagedClusterUpdate"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The update to be applied to all clusters in the UpdateRun. The managedClusterUpdate can be modified until the run is started."
        },
        "strategy": {
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunStrategy"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The strategy defines the order in which the clusters will be updated.\nIf not set, all members will be updated sequentially. The UpdateRun status will show a single UpdateStage and a single UpdateGroup targeting all members.\nThe strategy of the UpdateRun can be modified until the run is started."
        },
        "updateStrategyId": {
          "type": "string",
          "description": "The resource id of the FleetUpdateStrategy resource to reference.\n\nWhen creating a new run, there are three ways to define a strategy for the run:\n1. Define a new strategy in place: Set the \"strategy\" field.\n2. Use an existing strategy: Set the \"updateStrategyId\" field. (since 2023-08-15-preview)\n3. Use the default strategy to update all the members one by one: Leave both \"updateStrategyId\" and \"strategy\" unset. (since 2023-08-15-preview)\n\nSetting both \"updateStrategyId\" and \"strategy\" is invalid.\n\nUpdateRuns created by \"updateStrategyId\" snapshot the referenced UpdateStrategy at the time of creation and store it in the \"strategy\" field. \nSubsequent changes to the referenced FleetUpdateStrategy resource do not propagate.\nUpdateRunStrategy changes can be made directly on the \"strategy\" field before launching the UpdateRun."
        }
      },
      "required": [
        "managedClusterUpdate"
      ]
    },
    "UpdateRunStrategy": {
      "type": "object",
      "properties": {
        "stages": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/UpdateStage"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The list of stages that compose this update run. Min size: 1."
        }
      },
      "required": [
        "stages"
      ]
    },
    "UpdateStage": {
      "type": "object",
      "properties": {
        "afterGates": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GateConfiguration"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of Gates that will be created after this Stage is executed."
        },
        "afterStageWaitInSeconds": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The time in seconds to wait at the end of this stage before starting the next one. Defaults to 0 seconds if unspecified."
        },
        "beforeGates": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/GateConfiguration"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "A list of Gates that will be created before this Stage is executed."
        },
        "groups": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/UpdateGroup"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Defines the groups to be executed in parallel in this stage. Duplicate groups are not allowed. Min size: 1."
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The name of the stage. Must be unique within the UpdateRun."
        }
      },
      "required": [
        "name"
      ]
    },
    "UserAssignedIdentities": {
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "$ref": "#/definitions/UserAssignedIdentity"
      }
    },
    "UserAssignedIdentity": {
      "type": "object",
      "properties": {}
    },
    "fleets_autoUpgradeProfiles_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "autoUpgradeProfiles"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/AutoUpgradeProfileProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/autoUpgradeProfiles"
    },
    "fleets_gates_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[0-9a-f]{8}[-][0-9a-f]{4}[-][0-9a-f]{4}[-][0-9a-f]{4}[-][0-9a-f]{12}$",
              "minLength": 36,
              "maxLength": 36
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "gates"
          ]
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type"
      ],
      "description": "Microsoft.ContainerService/fleets/gates"
    },
    "fleets_members_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "members"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetMemberProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/members"
    },
    "fleets_updateRuns_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "updateRuns"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/UpdateRunProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/updateRuns"
    },
    "fleets_updateStrategies_childResource": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2025-04-01-preview"
          ]
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
              "minLength": 1,
              "maxLength": 50
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource name"
        },
        "type": {
          "type": "string",
          "enum": [
            "updateStrategies"
          ]
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/FleetUpdateStrategyProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The resource-specific properties for this resource."
        }
      },
      "required": [
        "name",
        "apiVersion",
        "type",
        "properties"
      ],
      "description": "Microsoft.ContainerService/fleets/updateStrategies"
    }
  }
}