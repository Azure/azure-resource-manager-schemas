{
  "tests": [
    {
      "name": "Media Services - valid, properties: none",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties": { }
      }
    },
    
    {
      "name": "Media Services - invalid, name: too short",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/name"
        }
      ],
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "12",
        "id": "guid",
        "location": "West Us",
        "properties": { }
      }
    },

    {
      "name": "Media Services - invalid, name: too long",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/name"
        }
      ],
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "123456789012345678901234567",
        "id": "guid",
        "location": "West Us",
        "properties": { }
      }
    },

    {
      "name": "Media Services - valid, properties: none, tags none",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties" : {},
        "tags": {}
      }
    },
    
    {
      "name": "Media Services - valid properties: none, tags",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties" : {},
        "tags":
        {
          "stringTag": "stringValue",
          "integerTag": 2
        }
      }
    },
    
    {
      "name": "Media Services - valid, properties: ApiEndpoint single",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties": {
          "apiEndpoints": [
            {
              "majorVersion": "{rest-api-version}",
              "endpoint": "https://{rest-endpoint}/api/"
            }
          ]
        }
      }
    },

    {
      "name": "Media Services - valid, properties: StorageAccount single",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties": {
          "storageAccounts": [
            {
              "id": "storageId",
              "isPrimary": true
            }
          ]
        }
      }
    },
    {
      "name": "Media Services - valid, properties: StorageAccount multiple",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-10-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties": {
          "storageAccounts": [
            {
              "id": "storageId1",
              "isPrimary": true
            },
            {
              "id": "storageId2",
              "isPrimary": false
            }
          ]
        }
      }
    },
    {
      "name": "Media Services - valid, properties: ApiEndpoint, StorageAccount",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "json": {
      "type": "Microsoft.Media/mediaServices",
      "apiVersion": "2015-10-01",
      "name": "mediaservicename",
      "id": "guid",
      "location": "West Us",
      "properties": {
          "storageAccounts": [
            {
              "id" : "storageId",
              "isPrimary": true
            }
          ],
          "apiEndpoints": [
            {
              "endpoint": "endpoint",
              "majorVersion": "majorVersion"
            }
          ]
        }
      }
    },
    {
      "name": "Media Services - invalid apiVersion",
      "definition": "http://schema.management.azure.com/schemas/2015-10-01/Microsoft.Media.json#/resourceDefinitions/mediaServices",
      "expectedErrors": [
        {
          "message": "No enum match for: \"2015-01-01\"",
          "dataPath": "/apiVersion"
        }
      ],
      "json": {
        "type": "Microsoft.Media/mediaServices",
        "apiVersion": "2015-01-01",
        "name": "mediaservicename",
        "id": "guid",
        "location": "West Us",
        "properties": { }
      }
    }
  ]
}
