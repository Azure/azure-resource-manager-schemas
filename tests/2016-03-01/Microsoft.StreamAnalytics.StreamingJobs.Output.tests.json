{
  "tests": [

    {
      "name": "Test Valid DataLake Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.DataLake/Accounts",
            "properties": {
              "accountName": "sampleAccount",
              "tenantId": "sampleTenantId",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "***********",
              "filePathPrefix": "prefix/"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid PowerBI Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "PowerBI",
            "properties": {
              "groupId": "samplePowerBIGroupId",
              "groupName": "samplePowerBIGroupName",
              "dataset": "samplePowerBIDataset",
              "table": "sampleTable",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "**********"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Topic Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Topic",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "topicName": "sampleTopic"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Queue Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Queue",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "queueName": "sampleQueue"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid DocumentDB Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/DocumentDB",
            "properties": {
              "accountId": "sampleAccountId",
              "accountKey": "******/******",
              "database": "sampleDocumentDatabase",
              "collectionNamePattern": "sampleCollection",
              "partitionKey": "samplePartitionField"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid SQL Server Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Sql/Server/Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "user": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid SQL Server Output - Invalid type name",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Sql.Server.Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "user": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid EventHub Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/EventHub",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "eventHubName": "sampleEventHub"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Table Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "properties": {
              "accountName": "sampleAccountName",
              "accountKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey",
              "columnsToRemove": [
                "removeColumn1",
                "reomveColumn2"
              ]
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Blob Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Blob Output - Multiple storage accounts",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName1",
                  "accountKey": "********/*******/***"
                },
                {
                  "accountName": "sampleAccountName2",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Avro Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Avro",
            "properties": { }
          }
        }
      }
    },

    {
      "name": "Test Valid Json Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Json Serialization Output - Encoding enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF-8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

     {
      "name": "Test Invalid Json Serialization Output - Format enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"Lineseparated\"",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF8",
              "format": "Lineseparated"
            }
          }
        }
      }
    },
       {
      "name": "Test Valid Csv Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "properties": {
              "encoding": "UTF8"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Csv Serialization Output - Encoding enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "properties": {
              "encoding": "UTF-8"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Output - Illegal Name",
      "expectedErrors": [
        {
          "message": "Invalid type: object (expected string)",
          "dataPath": "/name",
          "schemaPath": "/properties/name/type"
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "type": "Microsoft.StreamAnalytics/streamingjobs/outputs",
        "apiVersion": "2016-03-01",
        "name": { },
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    }
  ]
}
