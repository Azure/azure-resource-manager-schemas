{
  "tests": [

    {
      "name": "Test Valid DataLake Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.DataLake/Accounts",
            "properties": {
              "accountName": "sampleAccount",
              "tenantId": "sampleTenantId",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "***********",
              "filePathPrefix": "prefix/"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid DataLake Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "typpe": "Microsoft.DataLake/Accounts",
            "properties": {
              "accountName": "sampleAccount",
              "tenantId": "sampleTenantId",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "***********",
              "filePathPrefix": "prefix/"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid DataLake Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.DataLake/Accounts\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tenantId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/filePathPrefix",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.DataLake/Accounts",
            "properties": {
              "accounttName": "sampleAccount",
              "tenantId": "sampleTenantId",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "***********",
              "filePathPrefix": "prefix/"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid PowerBI Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "PowerBI",
            "properties": {
              "groupId": "samplePowerBIGroupId",
              "groupName": "samplePowerBIGroupName",
              "dataset": "samplePowerBIDataset",
              "table": "sampleTable",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "**********"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid PowerBI Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertiies",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "PowerBI",
            "propertiies": {
              "groupId": "samplePowerBIGroupId",
              "groupName": "samplePowerBIGroupName",
              "dataset": "samplePowerBIDataset",
              "table": "sampleTable",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "**********"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid PowerBI Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"PowerBI\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupID",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/groupName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/dataset",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserPrincipalName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/tokenUserDisplayName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/refreshToken",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "PowerBI",
            "properties": {
              "groupID": "samplePowerBIGroupId",
              "groupName": "samplePowerBIGroupName",
              "dataset": "samplePowerBIDataset",
              "table": "sampleTable",
              "tokenUserPrincipalName": "sampleUserName",
              "tokenUserDisplayName": "sampleDisplayName",
              "refreshToken": "**********"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Topic Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Topic",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "topicName": "sampleTopic"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Topic Output - Misspelled/Extra Property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propertes",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }

      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Topic",
            "propertes": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "topicName": "sampleTopic"
            }
          }
        }
      }
    },


    {
      "name": "Test Invalid Topic Output - Misspelled/Extra subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Topic\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespae",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/topicName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Topic",
            "properties": {
              "serviceBusNamespae": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "topicName": "sampleTopic"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Queue Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Queue",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "queueName": "sampleQueue"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Queue Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/proerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Queue",
            "proerties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "queueName": "sampleQueue"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Queue Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/Queue\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBussNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/Queue",
            "properties": {
              "serviceBussNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "queueName": "sampleQueue"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid DocumentDB Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/DocumentDB",
            "properties": {
              "accountId": "sampleAccountId",
              "accountKey": "******/******",
              "database": "sampleDocumentDatabase",
              "collectionNamePattern": "sampleCollection",
              "partitionKey": "samplePartitionField"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid DocumentDB Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/DocumentDB",
            "properties": {
              "accountId": "sampleAccountId",
              "accountKey": "******/******",
              "database": "sampleDocumentDatabase",
              "collectionNamePattern": "sampleCollection",
              "partitionKey": "samplePartitionField"
            },
            "accountId": "InvalidPlacement"
          }
        }
      }
    },

    {
      "name": "Test Invalid DocumentDB Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/DocumentDB\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountId",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/collectionNamePattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/accountId",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/DocumentDB",
            "properties": {
              "accountId": "sampleAccountId",
              "accountKey": "******/******",
              "database": "sampleDocumentDatabase",
              "collectionNamePattern": "sampleCollection",
              "partitionKey": "samplePartitionField",
              "type": "Invalid Placement"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid SQL Server Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Sql/Server/Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "user": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid SQL Server Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typpe",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "typpe": "Microsoft.Sql/Server/Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "user": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid SQL Server Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql/Server/Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/useer",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Sql/Server/Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "useer": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid SQL Server Output - Invalid type name",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Sql.Server.Database\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/server",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/database",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/user",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/password",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Sql.Server.Database",
            "properties": {
              "server": "sampleserver.database.windows.net",
              "database": "sampleDB",
              "table": "sampleTable",
              "user": "user@sampleserver",
              "password": "****************"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid EventHub Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/EventHub",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "eventHubName": "sampleEventHub"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid EventHub Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/eventHubName",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/EventHub",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "eventHubName": "sampleEventHub"
            },
            "eventHubName": "InvalidPlacement"
          }
        }
      }
    },

    {
      "name": "Test Invalid EventHub Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.ServiceBus/EventHub\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/eventHubNames",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.ServiceBus/EventHub",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "eventHubNames": "sampleEventHub"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Table Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "properties": {
              "accountName": "sampleAccountName",
              "accountKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey",
              "columnsToRemove": [
                "removeColumn1",
                "reomveColumn2"
              ]
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Table Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "propeerties": {
              "accountName": "sampleAccountName",
              "accountKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey",
              "columnsToRemove": [
                "removeColumn1",
                "reomveColumn2"
              ]
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Table Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Table\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accountName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/accounttKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/table",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/partitionKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/rowKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/columnsToRemove",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "properties": {
              "accountName": "sampleAccountName",
              "accounttKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey",
              "columnsToRemove": [
                "removeColumn1",
                "reomveColumn2"
              ]
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Blob Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Blob Output - Multiple storage accounts",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName1",
                  "accountKey": "********/*******/***"
                },
                {
                  "accountName": "sampleAccountName2",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },
    
    {
      "name": "Test Invalid Blob Output - Extra/misspelled property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/datasource/typee",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "typee": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Blob Output - Extra/misspelled subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccountss": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Blob Output - Extra/misspelled storage account property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccountss",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccountss": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***",
                  "accountNonProperty": "Invalid"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Avro Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Avro",
            "properties": { }
          }
        }
      }
    },

    {
      "name": "Test Invalid Avro Serialization Output - Extra/misspelled Property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properrties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properrties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properrties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Avro",
            "properrties": { }
          }
        }
      }
    },

    {
      "name": "Test Invalid Avro Serialization Output - Extra subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/InvalidProperty",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/InvalidProperty",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/InvalidProperty",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Avro",
            "properties": {
              "InvalidProperty": "Invalid"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Json Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Json Serialization Output - Extra/misspelled Property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "propeerties": {
              "encoding": "UTF8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Json Serialization Output - Extra subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encodingg",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/encodingg",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/encodingg",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encodingg": "UTF8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Json Serialization Output - Encoding enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF-8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

     {
      "name": "Test Invalid Json Serialization Output - Format enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"Lineseparated\"",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encoding": "UTF8",
              "format": "Lineseparated"
            }
          }
        }
      }
    },
       {
      "name": "Test Valid Csv Serialization Output",
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "properties": {
              "encoding": "UTF8"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Csv Serialization Output - Extra/misspelled Property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/propeerties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/additionalProperties"
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "propeerties": {
              "encoding": "UTF8"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Csv Serialization Output - Extra subproperty",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "properties": {
              "encoding": "UTF8",
              "format": "LineSeparated"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Csv Serialization Output - Encoding enum violation",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encoding",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "No enum match for: \"Csv\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/encoding",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"UTF-8\"",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/encoding",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/properties/encoding/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Csv",
            "properties": {
              "encoding": "UTF-8"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Output - Illegal Name",
      "expectedErrors": [
        {
          "message": "Invalid type: object (expected string)",
          "dataPath": "/name",
          "schemaPath": "/properties/name/type"
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": { },
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          }
        }
      }
    },

    {
      "name": "Test Invalid Output - Extra top-level property",
      "expectedErrors": [
        {
          "message": "Additional properties not allowed",
          "dataPath": "/InvalidProperty",
          "schemaPath": "/additionalProperties"
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "properties": {
              "accountName": "sampleAccountName",
              "accountKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey"
            }
          }
        },
        "InvalidProperty": "Invalid"
      }
    },

    {
      "name": "Test Invalid Output - Extra datasource property",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Additional properties not allowed",
              "dataPath": "/properties/InvalidProperty",
              "schemaPath": "/properties/properties/oneOf/0/additionalProperties"
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Table",
            "properties": {
              "accountName": "sampleAccountName",
              "accountKey": "********/*******/***",
              "table": "sampleTable",
              "partitionKey": "samplePartitionColumn",
              "rowKey": "SampleRowKey"
            }
          },
          "InvalidProperty": "Invalid"
        }
      }
    },

    {
      "name": "Test Invalid Output - Datasource type/property mismatch",
      "expectedErrors": [
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/serviceBusNamespace",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/sharedAccessPolicyKey",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/queueName",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "name": "SampleOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "serviceBusNamespace": "sampleNamespace",
              "sharedAccessPolicyName": "sampleAccessPolicy",
              "sharedAccessPolicyKey": "*******/********",
              "queueName": "sampleQueue"
            }
          }
        }
      }
    },

    {
      "name": "Test Valid Json Serialization Output - Various errors",
      "expectedErrors": [
        {
          "message": "Additional properties not allowed",
          "dataPath": "/namee",
          "schemaPath": "/additionalProperties"
        },
        {
          "message": "Data does not match any schemas from \"oneOf\"",
          "dataPath": "/properties",
          "schemaPath": "/properties/properties/oneOf",
          "subErrors": [
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/datasource",
              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/0/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/3/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/4/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"anyOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/5/properties/properties/anyOf/0/additionalProperties"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/6/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Microsoft.Storage/Blob\"",
                      "dataPath": "/properties/datasource/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/container",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/datasource/properties/pathPattern",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/7/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/datasource/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/datasource/properties/storageAccounts",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/properties/storageAccounts/oneOf",
                          "subErrors": [
                            {
                              "message": "Additional properties not allowed",
                              "dataPath": "/properties/datasource/properties/storageAccounts/0/accountsName",
                              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/properties/storageAccounts/oneOf/0/items/additionalProperties"
                            },
                            {
                              "message": "Invalid type: array (expected string)",
                              "dataPath": "/properties/datasource/properties/storageAccounts",
                              "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/0/properties/storageAccounts/oneOf/1/type"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/datasource/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/0/anyOf/8/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/datasource",
                  "schemaPath": "/properties/properties/oneOf/0/properties/datasource/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Data does not match any schemas from \"oneOf\"",
              "dataPath": "/properties/serialization",
              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf",
              "subErrors": [
                {
                  "message": "Data does not match any schemas from \"anyOf\"",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf",
                  "subErrors": [
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/type/type"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/encodingg",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Additional properties not allowed",
                      "dataPath": "/properties/serialization/properties/format",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/0/properties/properties/additionalProperties"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/encodingg",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Data does not match any schemas from \"oneOf\"",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf",
                          "subErrors": [
                            {
                              "message": "No enum match for: \"Lineseparated\"",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/0/type"
                            },
                            {
                              "message": "String does not match pattern: ^\\[(json|if|and|or|not|concat|parameters|variables|deployment|reference|resourceId|resourceGroup|subscription|list.*|base64|providers|copyIndex|padLeft|replace|toLower|toUpper|startsWith|endsWith|length|split|skip|take|contains|intersection|union|first|last|indexOf|lastIndexOf|add|sub|mul|div|mod|min|max|range|string|int|float|bool|trim|uri|uniqueString|substring|base64ToString|base64ToJson|uriComponentToString|uriComponent|dataUriToString|dataUri|array|createArray|coalesce|empty|less|lessOrEquals|greater|greaterOrEquals|equals)\\(.*\\).*\\]$",
                              "dataPath": "/properties/serialization/properties/format",
                              "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/0/properties/format/oneOf/1/pattern"
                            }
                          ]
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/1/properties/properties/oneOf/1/type"
                        }
                      ]
                    },
                    {
                      "message": "No enum match for: \"Json\"",
                      "dataPath": "/properties/serialization/type",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/type/type"
                    },
                    {
                      "message": "Data does not match any schemas from \"oneOf\"",
                      "dataPath": "/properties/serialization/properties",
                      "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf",
                      "subErrors": [
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/encodingg",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Additional properties not allowed",
                          "dataPath": "/properties/serialization/properties/format",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/0/additionalProperties"
                        },
                        {
                          "message": "Invalid type: object (expected string)",
                          "dataPath": "/properties/serialization/properties",
                          "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/0/anyOf/2/properties/properties/oneOf/1/type"
                        }
                      ]
                    }
                  ]
                },
                {
                  "message": "Invalid type: object (expected string)",
                  "dataPath": "/properties/serialization",
                  "schemaPath": "/properties/properties/oneOf/0/properties/serialization/oneOf/1/type"
                }
              ]
            },
            {
              "message": "Invalid type: object (expected string)",
              "dataPath": "/properties",
              "schemaPath": "/properties/properties/oneOf/1/type"
            }
          ]
        }
      ],
      "definition": "https://schema.management.azure.com/schemas/2016-03-01/Microsoft.StreamAnalytics.json#/resourceDefinitions/streamingjobs_outputs",
      "json": {
        "namee": "TestOutput",
        "properties": {
          "datasource": {
            "type": "Microsoft.Storage/Blob",
            "properties": {
              "storageAccounts": [
                {
                  "accountsName": "sampleAccountName",
                  "accountKey": "********/*******/***"
                }
              ],
              "container": "sampleContainer",
              "pathPattern": "/pathpart1/pathpart2"
            }
          },
          "serialization": {
            "type": "Json",
            "properties": {
              "encodingg": "UTF8",
              "format": "Lineseparated"
            }
          }
        }
      }
    }
  ]
}
