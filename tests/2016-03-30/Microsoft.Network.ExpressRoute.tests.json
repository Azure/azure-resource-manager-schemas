{
  "tests": [
	{
      "name": "expressRouteCircuits tests ",
      "definition": "http://schema.management.azure.com/schemas/2016-03-30/Microsoft.Network.json#/resourceDefinitions/expressRouteCircuits",
      "json": {
			"apiVersion": "2016-03-30",
            "type": "Microsoft.Network/expressRouteCircuits",
            "name": "[parameters('circuitName')]",
            "location": "[parameters('location')]",
            "tags": {
                "key1": "value1",
                "key2": "value2"
            },
            "sku": {
                "name": "[concat(parameters('sku_tier'),'_', parameters('sku_family'))]",
                "tier": "[parameters('sku_tier')]",
                "family": "[parameters('sku_family')]"
            },
            "properties": {
                "serviceProviderProperties": {
                    "serviceProviderName": "[parameters('serviceProviderName')]",
                    "peeringLocation": "[parameters('peeringLocation')]",
                    "bandwidthInMbps": "[parameters('bandwidthInMbps')]"
                }
            }
		}
	},
	{
      "name": "expressRouteCircuits tests with peering ",
      "definition": "http://schema.management.azure.com/schemas/2016-03-30/Microsoft.Network.json#/resourceDefinitions/expressRouteCircuits",
      "json": {
			"apiVersion": "2016-03-30",            
            "type": "Microsoft.Network/expressRouteCircuits",
            "name": "[parameters('circuitName')]",
            "location": "[parameters('location')]",
            "tags": {
                "key1": "value1",
                "key2": "value2"
            },
            "sku": {
                "name": "[concat(parameters('sku_tier'),'_', parameters('sku_family'))]",
                "tier": "[parameters('sku_tier')]",
                "family": "[parameters('sku_family')]"
            },
            "properties": {
                "serviceProviderProperties": {
                    "serviceProviderName": "[parameters('serviceProviderName')]",
                    "peeringLocation": "[parameters('peeringLocation')]",
                    "bandwidthInMbps": "[parameters('bandwidthInMbps')]"
                },
                "peerings": [
                    {
                        "name": "[parameters('peeringType')]",
                        "properties": {
                            "peeringType": "[parameters('peeringType')]",
                            "sharedKey": "[parameters('sharedKey')]",
                            "peerASN": "[parameters('peerASN')]",
                            "primaryPeerAddressPrefix": "[parameters('primaryPeerAddressPrefix')]",
                            "secondaryPeerAddressPrefix": "[parameters('secondaryPeerAddressPrefix')]",
                            "vlanId": "[parameters('vlanId')]"
                        }
                    }
                ]
            }
		}
	}
  ]
}

