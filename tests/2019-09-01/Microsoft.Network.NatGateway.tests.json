{
  "tests": [
    {
      "name": "nat gateway - referenced resources",
      "definition": "https://schema.management.azure.com/schemas/2019-09-01/Microsoft.Network.json#/resourceDefinitions/natGateways",
      "json": {
        "apiVersion": "2019-09-01",
        "type": "Microsoft.Network/natGateways",
        "name": "[variables('natGatewayName')]",
        "location": "[resourceGroup().location]",
        "properties": {
          "publicIpAddresses": [
            {
              "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/PublicIpAddress1"
            }
          ],
          "publicIpPrefixes": [
            {
              "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPPrefixes/PublicIpPrefix1"
            }
          ],
          "subnets": [
            {
              "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/subnet1"
            }
          ]
        }
      }
    }
  ]
}
