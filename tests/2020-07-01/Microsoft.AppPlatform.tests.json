{
    "tests": [
        {
            "name": "Spring tests",
            "definition": "https://schema.management.azure.com/schemas/2020-07-01/Microsoft.AppPlatform.json#/resourceDefinitions/Spring",
            "json": {
                "type": "Microsoft.AppPlatform/Spring",
                "name": "[variables('springName')]",
                "apiVersion": "2020-07-01",
                "location": "[parameters('location')]",
                "properties": {
                }
            }
        },
        {
            "name": "Spring tests - with vnet injected",
            "definition": "https://schema.management.azure.com/schemas/2020-07-01/Microsoft.AppPlatform.json#/resourceDefinitions/Spring",
            "json": {
                "type": "Microsoft.AppPlatform/Spring",
                "name": "[variables('springName')]",
                "apiVersion": "2020-07-01",
                "location": "[parameters('location')]",
                "properties": {
                    "networkProfile": {
                        "appSubnetId": "[resourceId('Microsoft.Network/virtualNetworks/subnets', 'vnet', 'app')]",
                        "serviceRuntimeSubnetId": "[resourceId('Microsoft.Network/virtualNetworks/subnets', 'vnet', 'svc')]",
                        "serviceCidr": "10.0.0.0/16,10.1.0.0/16,10.2.0.0/16"
                    }
                }
            }
        },
        {
            "name": "Spring Config Server",
            "definition": "https://schema.management.azure.com/schemas/2020-07-01/Microsoft.AppPlatform.json#/resourceDefinitions/Spring_configServers",
            "json": {
                "type": "Microsoft.AppPlatform/Spring/configServers",
                "name": "[concat(variables('springName'), '/default')]",
                "apiVersion": "2020-07-01",
                "properties": {
                    "configServer": {
                        "gitProperty": {
                            "repositories": [],
                            "uri": "https://github.com/Azure-Samples/piggymetrics-config",
                            "searchPaths": []
                        }
                    }
                }
            }
        },
        {
            "name": "Spring Monitoring Settings",
            "definition": "https://schema.management.azure.com/schemas/2020-07-01/Microsoft.AppPlatform.json#/resourceDefinitions/Spring_monitoringSettings",
            "json": {
                "type": "Microsoft.AppPlatform/Spring/monitoringSettings",
                "name": "[concat(variables('springName'), '/default')]",
                "apiVersion": "2020-07-01",
                "properties": {
                    "traceEnabled": false,
                    "appInsightsInstrumentationKey": ""
                }
            }
        }
    ]
}